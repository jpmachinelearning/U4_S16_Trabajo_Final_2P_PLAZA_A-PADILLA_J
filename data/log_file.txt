# Entrada procesada 2026-02-09T14:14:20.098714 UTC
text | es | siendo tratado en #4784
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: siendo tratado en #4784
__Recursividad__
text | es | siendo tratado en #4784
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: siendo tratado en #4784

# Entrada procesada 2026-02-09T14:14:20.211846 UTC
text | es | además, hemos podido comprobar que el mismo problema se reproduce en odoo 17.0, utilizando el módulo l10n_es_aeat_mod190 en la rama 17.0.
text | es | al generar el fichero del modelo 190 desde odoo 17.0 para el ejercicio 2025, la sede electrónica de la aeat devuelve errores similares, relacionados con la falta de los campos obligatorios correspondientes a prestaciones de jubilación, viudedad, pensiones por incapacidad y percepciones asimiladas, que son requeridos por la aeat para dicho ejercicio.
text | es | actualmente, dichos campos no parecen estar contemplados tampoco en la rama 17.0 del módulo, provocando que el fichero generado no sea válido para su importación.
text | es | dado que estos campos ya han sido incorporados en la rama 18.0, consideramos que un backport de los cambios desde 18.0 hacia 17.0 (y 16.0) permitiría mantener la compatibilidad del modelo 190 con los requisitos de la aeat para el ejercicio 2025.
text | es | gracias por vuestro trabajo y soporte.
code | code | .
text | es | sí, desde luego la solución pasa por llevar esos cambios a ambas ramas.
text | es | la cuestión es que quien esté interesado en ello debe hacerlo, financiar para que lo hagan, o esperar a que otros lo hagan, ya que así es como funciona el software abierto: se contribuye voluntariamente y donde es posible hacerlo.
text | es | lo ideal sería que quien contribuye el parche, lo haga para todas las versiones posibles, pero no se le puede exigir que así lo haga.
text | es | cuando el parche se pone en una versión intermedia, sí que solemos pedir que por lo menos lo lleven a todas las versiones superiores para mantener todo sincronizado.
text | es | en este caso, es al revés, habiendo sido puesto en la última versión disponible, pero no estando en las versiones anteriores.
text | es | la mayoría de trabajo está hecho, así que solo falta ese último empujón.
text | es | ¿os animáis? .
text | es | @pedrobaeza gracias por la aclaración.
text | es | de acuerdo, nos pondremos con el backport de los cambios desde 18.0 a las ramas 16.0 y 17.0 para cubrir los requisitos del ejercicio 2025, intentaremos hacerlo lo antes posible.
text | es | gracias.
text | es | cara sonriendo ligeramente
Detalles: total_items: 17 | code_items: 1 | spanish_items: 16 | english_items: 0
Dato borrado: code | code | .
recomposed_text: además, hemos podido comprobar que el mismo problema se reproduce en odoo 17.0, utilizando el módulo l10n_es_aeat_mod190 en la rama 17.0. al generar el fichero del modelo 190 desde odoo 17.0 para el ejercicio 2025, la sede electrónica de la aeat devuelve errores similares, relacionados con la falta de los campos obligatorios correspondientes a prestaciones de jubilación, viudedad, pensiones por incapacidad y percepciones asimiladas, que son requeridos por la aeat para dicho ejercicio. actualmente, dichos campos no parecen estar contemplados tampoco en la rama 17.0 del módulo, provocando que el fichero generado no sea válido para su importación. dado que estos campos ya han sido incorporados en la rama 18.0, consideramos que un backport de los cambios desde 18.0 hacia 17.0 (y 16.0) permitiría mantener la compatibilidad del modelo 190 con los requisitos de la aeat para el ejercicio 2025. gracias por vuestro trabajo y soporte. sí, desde luego la solución pasa por llevar esos cambios a ambas ramas. la cuestión es que quien esté interesado en ello debe hacerlo, financiar para que lo hagan, o esperar a que otros lo hagan, ya que así es como funciona el software abierto: se contribuye voluntariamente y donde es posible hacerlo. lo ideal sería que quien contribuye el parche, lo haga para todas las versiones posibles, pero no se le puede exigir que así lo haga. cuando el parche se pone en una versión intermedia, sí que solemos pedir que por lo menos lo lleven a todas las versiones superiores para mantener todo sincronizado. en este caso, es al revés, habiendo sido puesto en la última versión disponible, pero no estando en las versiones anteriores. la mayoría de trabajo está hecho, así que solo falta ese último empujón. ¿os animáis? . @pedrobaeza gracias por la aclaración. de acuerdo, nos pondremos con el backport de los cambios desde 18.0 a las ramas 16.0 y 17.0 para cubrir los requisitos del ejercicio 2025, intentaremos hacerlo lo antes posible. gracias. cara sonriendo ligeramente
__Recursividad__
text | es | además, hemos podido comprobar que el mismo problema se reproduce en odoo 17.0, utilizando el módulo l10n_es_aeat_mod190 en la rama 17.0.
text | es | al generar el fichero del modelo 190 desde odoo 17.0 para el ejercicio 2025, la sede electrónica de la aeat devuelve errores similares, relacionados con la falta de los campos obligatorios correspondientes a prestaciones de jubilación, viudedad, pensiones por incapacidad y percepciones asimiladas, que son requeridos por la aeat para dicho ejercicio.
text | es | actualmente, dichos campos no parecen estar contemplados tampoco en la rama 17.0 del módulo, provocando que el fichero generado no sea válido para su importación.
text | es | dado que estos campos ya han sido incorporados en la rama 18.0, consideramos que un backport de los cambios desde 18.0 hacia 17.0 (y 16.0) permitiría mantener la compatibilidad del modelo 190 con los requisitos de la aeat para el ejercicio 2025.
text | es | gracias por vuestro trabajo y soporte.
text | es | sí, desde luego la solución pasa por llevar esos cambios a ambas ramas.
text | es | la cuestión es que quien esté interesado en ello debe hacerlo, financiar para que lo hagan, o esperar a que otros lo hagan, ya que así es como funciona el software abierto: se contribuye voluntariamente y donde es posible hacerlo.
text | es | lo ideal sería que quien contribuye el parche, lo haga para todas las versiones posibles, pero no se le puede exigir que así lo haga.
text | es | cuando el parche se pone en una versión intermedia, sí que solemos pedir que por lo menos lo lleven a todas las versiones superiores para mantener todo sincronizado.
text | es | en este caso, es al revés, habiendo sido puesto en la última versión disponible, pero no estando en las versiones anteriores.
text | es | la mayoría de trabajo está hecho, así que solo falta ese último empujón.
text | es | ¿os animáis? .
text | es | @pedrobaeza gracias por la aclaración.
text | es | de acuerdo, nos pondremos con el backport de los cambios desde 18.0 a las ramas 16.0 y 17.0 para cubrir los requisitos del ejercicio 2025, intentaremos hacerlo lo antes posible.
text | es | gracias.
text | es | cara sonriendo ligeramente
Detalles: total_items: 16 | code_items: 0 | spanish_items: 16 | english_items: 0
recomposed_text: además, hemos podido comprobar que el mismo problema se reproduce en odoo 17.0, utilizando el módulo l10n_es_aeat_mod190 en la rama 17.0. al generar el fichero del modelo 190 desde odoo 17.0 para el ejercicio 2025, la sede electrónica de la aeat devuelve errores similares, relacionados con la falta de los campos obligatorios correspondientes a prestaciones de jubilación, viudedad, pensiones por incapacidad y percepciones asimiladas, que son requeridos por la aeat para dicho ejercicio. actualmente, dichos campos no parecen estar contemplados tampoco en la rama 17.0 del módulo, provocando que el fichero generado no sea válido para su importación. dado que estos campos ya han sido incorporados en la rama 18.0, consideramos que un backport de los cambios desde 18.0 hacia 17.0 (y 16.0) permitiría mantener la compatibilidad del modelo 190 con los requisitos de la aeat para el ejercicio 2025. gracias por vuestro trabajo y soporte. sí, desde luego la solución pasa por llevar esos cambios a ambas ramas. la cuestión es que quien esté interesado en ello debe hacerlo, financiar para que lo hagan, o esperar a que otros lo hagan, ya que así es como funciona el software abierto: se contribuye voluntariamente y donde es posible hacerlo. lo ideal sería que quien contribuye el parche, lo haga para todas las versiones posibles, pero no se le puede exigir que así lo haga. cuando el parche se pone en una versión intermedia, sí que solemos pedir que por lo menos lo lleven a todas las versiones superiores para mantener todo sincronizado. en este caso, es al revés, habiendo sido puesto en la última versión disponible, pero no estando en las versiones anteriores. la mayoría de trabajo está hecho, así que solo falta ese último empujón. ¿os animáis? . @pedrobaeza gracias por la aclaración. de acuerdo, nos pondremos con el backport de los cambios desde 18.0 a las ramas 16.0 y 17.0 para cubrir los requisitos del ejercicio 2025, intentaremos hacerlo lo antes posible. gracias. cara sonriendo ligeramente

# Entrada procesada 2026-02-09T14:14:20.305758 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:20.309621 UTC
text | es | hola.
text | es | agradecería si alguien puede confirmar que también tiene este problema en verifactu en v17.
text | es | he buscado razones para que funcionara correctamente en v16 y tras migrar a v17 apareciera este error, pero no he encontrado nada.
text | es | gracias
Detalles: total_items: 4 | code_items: 0 | spanish_items: 4 | english_items: 0
recomposed_text: hola. agradecería si alguien puede confirmar que también tiene este problema en verifactu en v17. he buscado razones para que funcionara correctamente en v16 y tras migrar a v17 apareciera este error, pero no he encontrado nada. gracias
__Recursividad__
text | es | hola.
text | es | agradecería si alguien puede confirmar que también tiene este problema en verifactu en v17.
text | es | he buscado razones para que funcionara correctamente en v16 y tras migrar a v17 apareciera este error, pero no he encontrado nada.
text | es | gracias
Detalles: total_items: 4 | code_items: 0 | spanish_items: 4 | english_items: 0
recomposed_text: hola. agradecería si alguien puede confirmar que también tiene este problema en verifactu en v17. he buscado razones para que funcionara correctamente en v16 y tras migrar a v17 apareciera este error, pero no he encontrado nada. gracias

# Entrada procesada 2026-02-09T14:14:20.331185 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:20.335877 UTC
text | es | ya he podido solucionarlo, en la v12 existía en el core de odoo la reconciliación, a partir de la v14, ya no existe y se hace mediante los módulos de oca, y es por eso que ese módulo al llegar a la v18 y desplegar la bbdd actualizada, no mostraba lo mismo ya que no tenía el módulo de reconciliación.
text | es | por si a alguien le sirve aquí estaba la solución.
text | es | gracias!
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: ya he podido solucionarlo, en la v12 existía en el core de odoo la reconciliación, a partir de la v14, ya no existe y se hace mediante los módulos de oca, y es por eso que ese módulo al llegar a la v18 y desplegar la bbdd actualizada, no mostraba lo mismo ya que no tenía el módulo de reconciliación. por si a alguien le sirve aquí estaba la solución. gracias!
__Recursividad__
text | es | ya he podido solucionarlo, en la v12 existía en el core de odoo la reconciliación, a partir de la v14, ya no existe y se hace mediante los módulos de oca, y es por eso que ese módulo al llegar a la v18 y desplegar la bbdd actualizada, no mostraba lo mismo ya que no tenía el módulo de reconciliación.
text | es | por si a alguien le sirve aquí estaba la solución.
text | es | gracias!
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: ya he podido solucionarlo, en la v12 existía en el core de odoo la reconciliación, a partir de la v14, ya no existe y se hace mediante los módulos de oca, y es por eso que ese módulo al llegar a la v18 y desplegar la bbdd actualizada, no mostraba lo mismo ya que no tenía el módulo de reconciliación. por si a alguien le sirve aquí estaba la solución. gracias!

# Entrada procesada 2026-02-09T14:14:20.365371 UTC
text | und | @haraldpanten .
text | es | @pedrobaeza tiene que ver con los cambios que llevasteis a cabo no hace mucho.
text | es | está causando ralentización y errores cuando se utilizan grupos de impuestos.
text | es | en este caso el dua, concretamente.
text | es | ya nos das feedback.
code | code | .
text | es | @pedrobaeza pudiste echarle un ojo a los comentarios en esta incidencia?
text | es | gracias.
code | code | .
text | es | no, lo siento.
code | code | .
text | es | @pedrobaeza podéis echarle un ojo?
text | es | o proponemos parche directamente? .
text | es | si podéis vosotros proponer parche, os lo agradecería.
text | es | con el fin de año estoy desbordado.
code | code | .
code | code | el pr propuesto https://github.com/oca/l10n-spain/pull/4674 da una solución a la incompatibilidad, pero no se aceptará debido a que el módulo necesita un refactoring, se tendrá en cuenta más adelante, quien quiere utilizarlo es totalmente viable.
text | es | por mi parte dejaría la issue abierta para que haya una referencia.
code | code | .
text | es | @pedrobaeza dejamos esta issue abierta, para que el resto de usuarios tengan más facilidad para encontrar la traza, etc.
text | es | cuando más adelante se plantee refactoring, ya cerramos.
text | es | gracias.
Detalles: total_items: 22 | code_items: 6 | spanish_items: 15 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | el pr propuesto https://github.com/oca/l10n-spain/pull/4674 da una solución a la incompatibilidad, pero no se aceptará debido a que el módulo necesita un refactoring, se tendrá en cuenta más adelante, quien quiere utilizarlo es totalmente viable.
Dato borrado: code | code | .
recomposed_text: @haraldpanten . @pedrobaeza tiene que ver con los cambios que llevasteis a cabo no hace mucho. está causando ralentización y errores cuando se utilizan grupos de impuestos. en este caso el dua, concretamente. ya nos das feedback. @pedrobaeza pudiste echarle un ojo a los comentarios en esta incidencia? gracias. no, lo siento. @pedrobaeza podéis echarle un ojo? o proponemos parche directamente? . si podéis vosotros proponer parche, os lo agradecería. con el fin de año estoy desbordado. por mi parte dejaría la issue abierta para que haya una referencia. @pedrobaeza dejamos esta issue abierta, para que el resto de usuarios tengan más facilidad para encontrar la traza, etc. cuando más adelante se plantee refactoring, ya cerramos. gracias.
__Recursividad__
text | und | @haraldpanten .
text | es | @pedrobaeza tiene que ver con los cambios que llevasteis a cabo no hace mucho.
text | es | está causando ralentización y errores cuando se utilizan grupos de impuestos.
text | es | en este caso el dua, concretamente.
text | es | ya nos das feedback.
text | es | @pedrobaeza pudiste echarle un ojo a los comentarios en esta incidencia?
text | es | gracias.
text | es | no, lo siento.
text | es | @pedrobaeza podéis echarle un ojo?
text | es | o proponemos parche directamente? .
text | es | si podéis vosotros proponer parche, os lo agradecería.
text | es | con el fin de año estoy desbordado.
text | es | por mi parte dejaría la issue abierta para que haya una referencia.
text | es | @pedrobaeza dejamos esta issue abierta, para que el resto de usuarios tengan más facilidad para encontrar la traza, etc.
text | es | cuando más adelante se plantee refactoring, ya cerramos.
text | es | gracias.
Detalles: total_items: 16 | code_items: 0 | spanish_items: 15 | english_items: 0
Dato borrado: text | und | @haraldpanten .
recomposed_text: @pedrobaeza tiene que ver con los cambios que llevasteis a cabo no hace mucho. está causando ralentización y errores cuando se utilizan grupos de impuestos. en este caso el dua, concretamente. ya nos das feedback. @pedrobaeza pudiste echarle un ojo a los comentarios en esta incidencia? gracias. no, lo siento. @pedrobaeza podéis echarle un ojo? o proponemos parche directamente? . si podéis vosotros proponer parche, os lo agradecería. con el fin de año estoy desbordado. por mi parte dejaría la issue abierta para que haya una referencia. @pedrobaeza dejamos esta issue abierta, para que el resto de usuarios tengan más facilidad para encontrar la traza, etc. cuando más adelante se plantee refactoring, ya cerramos. gracias.

# Entrada procesada 2026-02-09T14:14:20.398978 UTC
text | es | faltaría un módulo `l10n_es_sii_reav` que añada los mapeos donde correspondan, y tal vez trate la clave adecuada en la posición fiscal.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: faltaría un módulo `l10n_es_sii_reav` que añada los mapeos donde correspondan, y tal vez trate la clave adecuada en la posición fiscal.
__Recursividad__
text | es | faltaría un módulo `l10n_es_sii_reav` que añada los mapeos donde correspondan, y tal vez trate la clave adecuada en la posición fiscal.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: faltaría un módulo `l10n_es_sii_reav` que añada los mapeos donde correspondan, y tal vez trate la clave adecuada en la posición fiscal.

# Entrada procesada 2026-02-09T14:14:20.410508 UTC
code | code | pr para 4t-12/2025: https://github.com/oca/l10n-spain/pull/4691
Detalles: total_items: 1 | code_items: 1 | spanish_items: 0 | english_items: 0
Dato borrado: code | code | pr para 4t-12/2025: https://github.com/oca/l10n-spain/pull/4691
recomposed_text:
__Recursividad__
Detalles: total_items: 0 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text:

# Entrada procesada 2026-02-09T14:14:20.428564 UTC
text | es | ¿pero y cuando sea factura de rappel? ¿
text | es | o se rectifique una factura no introducida en odoo (por ejemplo, por cambio de software)? ¿
text | es | qué pasa si no se envía `"facturasrectificadas": [],`? ¿
text | es | no debería ser ése el parche? .
text | es | igual si, igual el parche es enviarlas sin "facturasrectificadas": [], aunque lo marca en en diseño del registro como obligatorio, pero si no lo envías lo acepta.
text | es | asi no se envia a verifactu "tipofactura": "r1", "tiporectificativa": "i", "facturasrectificadas": [],
asi si se envia a verifactu "tipofactura": "r1", "tiporectificativa": false, "descripcionoperacion": "/", pero que no se envíe creo que es propio del módulo de verifactu.
text | es | no es que aeat lo rechace, realmente no se envia.
text | es | pero el cron tampoco da error visible.
code | code | .
text | es | hola.
text | es | tenemos una instalación de odoo 17 con verifactu, en la cual un usuario, por mala costumbre desde antes de verifactu, realizó una factura rectificativa directamente sin crearla desde la factura de venta original.
text | es | el resultado es el mismo que se está comentando en este issue.
text | es | ¿ahora que ya la factura rectificativa está creada cuál es la mejor solución?
text | es | entiendo que lo que está esperando verifactu y le falta es:
code | code | "facturasrectificadas": [ { "idfacturarectificada": { "idemisorfactura": "bxxxxxxxx", "numseriefactura": "sixxxxx", "fechaexpedicionfactura": "01-01-2026" } } ]
text | es | ¿podría meterlo a través de bd, o hay alguna otra solución mejor?
text | es | gracias .
text | es | hola.
text | es | únicamente confirmar que introduciendo en bd el reversed_entry_id de la factura original que está relacionada con la rectificativa, soluciona el problema puntual.
text | es | entiendo que la solución definitiva es que si verifactu está instalado y habilitado, no se permita a los usuarios crear facturas rectificativas directamente, al igual que no se permite la cancelación de las facturas.
text | es | un saludo y muchas gracias
Detalles: total_items: 21 | code_items: 2 | spanish_items: 19 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | "facturasrectificadas": [ { "idfacturarectificada": { "idemisorfactura": "bxxxxxxxx", "numseriefactura": "sixxxxx", "fechaexpedicionfactura": "01-01-2026" } } ]
recomposed_text: ¿pero y cuando sea factura de rappel? ¿ o se rectifique una factura no introducida en odoo (por ejemplo, por cambio de software)? ¿ qué pasa si no se envía `"facturasrectificadas": [],`? ¿ no debería ser ése el parche? . igual si, igual el parche es enviarlas sin "facturasrectificadas": [], aunque lo marca en en diseño del registro como obligatorio, pero si no lo envías lo acepta. asi no se envia a verifactu "tipofactura": "r1", "tiporectificativa": "i", "facturasrectificadas": [],
asi si se envia a verifactu "tipofactura": "r1", "tiporectificativa": false, "descripcionoperacion": "/", pero que no se envíe creo que es propio del módulo de verifactu. no es que aeat lo rechace, realmente no se envia. pero el cron tampoco da error visible. hola. tenemos una instalación de odoo 17 con verifactu, en la cual un usuario, por mala costumbre desde antes de verifactu, realizó una factura rectificativa directamente sin crearla desde la factura de venta original. el resultado es el mismo que se está comentando en este issue. ¿ahora que ya la factura rectificativa está creada cuál es la mejor solución? entiendo que lo que está esperando verifactu y le falta es: ¿podría meterlo a través de bd, o hay alguna otra solución mejor? gracias . hola. únicamente confirmar que introduciendo en bd el reversed_entry_id de la factura original que está relacionada con la rectificativa, soluciona el problema puntual. entiendo que la solución definitiva es que si verifactu está instalado y habilitado, no se permita a los usuarios crear facturas rectificativas directamente, al igual que no se permite la cancelación de las facturas. un saludo y muchas gracias
__Recursividad__
text | es | ¿pero y cuando sea factura de rappel? ¿
text | es | o se rectifique una factura no introducida en odoo (por ejemplo, por cambio de software)? ¿
text | es | qué pasa si no se envía `"facturasrectificadas": [],`? ¿
text | es | no debería ser ése el parche? .
text | es | igual si, igual el parche es enviarlas sin "facturasrectificadas": [], aunque lo marca en en diseño del registro como obligatorio, pero si no lo envías lo acepta.
text | es | asi no se envia a verifactu "tipofactura": "r1", "tiporectificativa": "i", "facturasrectificadas": [],
asi si se envia a verifactu "tipofactura": "r1", "tiporectificativa": false, "descripcionoperacion": "/", pero que no se envíe creo que es propio del módulo de verifactu.
text | es | no es que aeat lo rechace, realmente no se envia.
text | es | pero el cron tampoco da error visible.
text | es | hola.
text | es | tenemos una instalación de odoo 17 con verifactu, en la cual un usuario, por mala costumbre desde antes de verifactu, realizó una factura rectificativa directamente sin crearla desde la factura de venta original.
text | es | el resultado es el mismo que se está comentando en este issue.
text | es | ¿ahora que ya la factura rectificativa está creada cuál es la mejor solución?
text | es | entiendo que lo que está esperando verifactu y le falta es: ¿podría meterlo a través de bd, o hay alguna otra solución mejor?
text | es | gracias .
text | es | hola.
text | es | únicamente confirmar que introduciendo en bd el reversed_entry_id de la factura original que está relacionada con la rectificativa, soluciona el problema puntual.
text | es | entiendo que la solución definitiva es que si verifactu está instalado y habilitado, no se permita a los usuarios crear facturas rectificativas directamente, al igual que no se permite la cancelación de las facturas.
text | es | un saludo y muchas gracias
Detalles: total_items: 18 | code_items: 0 | spanish_items: 18 | english_items: 0
recomposed_text: ¿pero y cuando sea factura de rappel? ¿ o se rectifique una factura no introducida en odoo (por ejemplo, por cambio de software)? ¿ qué pasa si no se envía `"facturasrectificadas": [],`? ¿ no debería ser ése el parche? . igual si, igual el parche es enviarlas sin "facturasrectificadas": [], aunque lo marca en en diseño del registro como obligatorio, pero si no lo envías lo acepta. asi no se envia a verifactu "tipofactura": "r1", "tiporectificativa": "i", "facturasrectificadas": [],
asi si se envia a verifactu "tipofactura": "r1", "tiporectificativa": false, "descripcionoperacion": "/", pero que no se envíe creo que es propio del módulo de verifactu. no es que aeat lo rechace, realmente no se envia. pero el cron tampoco da error visible. hola. tenemos una instalación de odoo 17 con verifactu, en la cual un usuario, por mala costumbre desde antes de verifactu, realizó una factura rectificativa directamente sin crearla desde la factura de venta original. el resultado es el mismo que se está comentando en este issue. ¿ahora que ya la factura rectificativa está creada cuál es la mejor solución? entiendo que lo que está esperando verifactu y le falta es: ¿podría meterlo a través de bd, o hay alguna otra solución mejor? gracias . hola. únicamente confirmar que introduciendo en bd el reversed_entry_id de la factura original que está relacionada con la rectificativa, soluciona el problema puntual. entiendo que la solución definitiva es que si verifactu está instalado y habilitado, no se permita a los usuarios crear facturas rectificativas directamente, al igual que no se permite la cancelación de las facturas. un saludo y muchas gracias

# Entrada procesada 2026-02-09T14:14:20.484382 UTC
code | code | pr: https://github.com/oca/l10n-spain/pull/4690 .
text | und | implementado.
Detalles: total_items: 2 | code_items: 1 | spanish_items: 0 | english_items: 0
Dato borrado: code | code | pr: https://github.com/oca/l10n-spain/pull/4690 .
recomposed_text: implementado.
__Recursividad__
text | und | implementado.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | implementado.
recomposed_text:

# Entrada procesada 2026-02-09T14:14:20.500228 UTC
text | es | el validador no parece funcionar correctamente, ya que el xsd sí se cumple, y las facturas suben a face.
text | bilingual | ¿has probado a subir alguna? .
text | es | si, este es el error que me da al intentar subir.
code | code | <img width="1600" height="860" alt="image" src="https://github.com/user-attachments/assets/231c20f1-dbd5-4084-8c13-1cfc282ce151" /> .
text | es | creo que puede ser por los experimentos con el nuevo sistema face que están haciendo.
text | es | @etobella tú tienes problemas? .
text | es | con la integración directa no he visto errores en mis clientes.
text | es | por lo que veo del error, se queja de que la etiqueta cnocnae está definida pero debería estar vacía, pero esto en teoría no se rellena y se vacía automáticamente.
code | code | .
text | es | @etobella se queja de todas las etiquetas que estan vacias, yo he hecho un fix para que las que estan vacias no las ponga en el fichero y ya me deja subir bien, pero creo que se debe de corregir en el módulo.
code | code | .
text | es | @manuelcalerosolis la limpieza ya se hace automáticamente aquí y está así desde hace tiempo.
text | es | los ficheros firmados desde el odoo deberían salir limpios.
code | code | https://github.com/oca/l10n-spain/blob/18.0/l10n_es_facturae/reports/report_facturae.py#l45 .
text | es | mis clientes lo estan exportando sin firmar, tambien deben de salir limpios, ¿no? .
text | es | no lo sé, nunca los he usado así, ya que te complicas mucho la vida.
text | es | si lo ves necesario puedes proponer un pr cara guiñando el ojo
Detalles: total_items: 17 | code_items: 4 | spanish_items: 12 | english_items: 0
Dato borrado: code | code | <img width="1600" height="860" alt="image" src="https://github.com/user-attachments/assets/231c20f1-dbd5-4084-8c13-1cfc282ce151" /> .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | https://github.com/oca/l10n-spain/blob/18.0/l10n_es_facturae/reports/report_facturae.py#l45 .
recomposed_text: el validador no parece funcionar correctamente, ya que el xsd sí se cumple, y las facturas suben a face. ¿has probado a subir alguna? . si, este es el error que me da al intentar subir. creo que puede ser por los experimentos con el nuevo sistema face que están haciendo. @etobella tú tienes problemas? . con la integración directa no he visto errores en mis clientes. por lo que veo del error, se queja de que la etiqueta cnocnae está definida pero debería estar vacía, pero esto en teoría no se rellena y se vacía automáticamente. @etobella se queja de todas las etiquetas que estan vacias, yo he hecho un fix para que las que estan vacias no las ponga en el fichero y ya me deja subir bien, pero creo que se debe de corregir en el módulo. @manuelcalerosolis la limpieza ya se hace automáticamente aquí y está así desde hace tiempo. los ficheros firmados desde el odoo deberían salir limpios. mis clientes lo estan exportando sin firmar, tambien deben de salir limpios, ¿no? . no lo sé, nunca los he usado así, ya que te complicas mucho la vida. si lo ves necesario puedes proponer un pr cara guiñando el ojo
__Recursividad__
text | es | el validador no parece funcionar correctamente, ya que el xsd sí se cumple, y las facturas suben a face.
text | bilingual | ¿has probado a subir alguna? .
text | es | si, este es el error que me da al intentar subir.
text | es | creo que puede ser por los experimentos con el nuevo sistema face que están haciendo.
text | es | @etobella tú tienes problemas? .
text | es | con la integración directa no he visto errores en mis clientes.
text | es | por lo que veo del error, se queja de que la etiqueta cnocnae está definida pero debería estar vacía, pero esto en teoría no se rellena y se vacía automáticamente.
text | es | @etobella se queja de todas las etiquetas que estan vacias, yo he hecho un fix para que las que estan vacias no las ponga en el fichero y ya me deja subir bien, pero creo que se debe de corregir en el módulo.
text | es | @manuelcalerosolis la limpieza ya se hace automáticamente aquí y está así desde hace tiempo.
text | es | los ficheros firmados desde el odoo deberían salir limpios.
text | es | mis clientes lo estan exportando sin firmar, tambien deben de salir limpios, ¿no? .
text | es | no lo sé, nunca los he usado así, ya que te complicas mucho la vida.
text | es | si lo ves necesario puedes proponer un pr cara guiñando el ojo
Detalles: total_items: 13 | code_items: 0 | spanish_items: 12 | english_items: 0
recomposed_text: el validador no parece funcionar correctamente, ya que el xsd sí se cumple, y las facturas suben a face. ¿has probado a subir alguna? . si, este es el error que me da al intentar subir. creo que puede ser por los experimentos con el nuevo sistema face que están haciendo. @etobella tú tienes problemas? . con la integración directa no he visto errores en mis clientes. por lo que veo del error, se queja de que la etiqueta cnocnae está definida pero debería estar vacía, pero esto en teoría no se rellena y se vacía automáticamente. @etobella se queja de todas las etiquetas que estan vacias, yo he hecho un fix para que las que estan vacias no las ponga en el fichero y ya me deja subir bien, pero creo que se debe de corregir en el módulo. @manuelcalerosolis la limpieza ya se hace automáticamente aquí y está así desde hace tiempo. los ficheros firmados desde el odoo deberían salir limpios. mis clientes lo estan exportando sin firmar, tambien deben de salir limpios, ¿no? . no lo sé, nunca los he usado así, ya que te complicas mucho la vida. si lo ves necesario puedes proponer un pr cara guiñando el ojo

# Entrada procesada 2026-02-09T14:14:20.546445 UTC
text | es | debéis hacer backport de #4602
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: debéis hacer backport de #4602
__Recursividad__
text | es | debéis hacer backport de #4602
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: debéis hacer backport de #4602

# Entrada procesada 2026-02-09T14:14:20.554857 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:20.717658 UTC
text | es | yo por mi parte no veo bug aquí.
text | es | sí podría ser interesante que, cuando se crean nuevos diarios de venta, se genere alguna alerta del tipo "por favor, revise si debe activar la comunicación verifactu en este diario".
text | es | hay casos en los que se necesitan registrar / importar en odoo facturas de venta que han sido generadas desde otro sif y, por lo tanto, ya han sido comunicadas a verifactu en ese otro sistema.
code | code | .
text | es | el sif debe cumplir la normativa siempre.
text | es | permitir crear facturas sin ese check activado no cumple el reglamento de facturacion ahí esta mi preocupación .
text | es | la verdad es que aunque haya casuísticas que puedan justificar no enviar a veri\*factu, esto es la puerta abierta a tener un diario de "caja b".
text | es | @almumu @anmarmo1 @soniaviciana recordáis cuál fue la razón inicial de habilitar veri\*factu por diarios?
text | es | o fue solo por mimetizar con el sii?
text | es | y lo mismo podría plantearse de las posiciones fiscales.
code | code | .
text | es | disculpas si convenís que esto aquí no procede pero si viene a colación hay una casuística que igual puede ser tenida en cuenta cuando el destinatario de las operaciones es quien emite la factura en nombre del emisor el destinatario envía a la aeat pues es él quien la ha generado con un sif y esa autofactura se la envía al emisor vamos a necesitar introducir en odoo esa factura para contabilizarla, pero esa factura ya ha sido enviada, ya tiene una serie y un número se podría limitar o modificar algún elemento de todos los registros account.move que pertenezcan a esos diarios concretos para que no generen facturas a través de la modificación del reporte .
text | es | pongo un escenario real: -empresa del sector eléctrico que utiliza odoo como erp para su operativa general (contabilidad, compras, facturación propia, etc.).
text | es | -además, subcontrata un sif externo para la emisión de determinadas facturas en su nombre.
text | es | ese sif externo: -genera su propia serie y numeración,
-remite esas facturas a verifactu, cumpliendo con las obligaciones técnicas de envío establecidas en el reglamento.
text | es | para poder llevar la contabilidad consolidada en odoo, la empresa debe importar periódicamente esas facturas ya emitidas en el sistema externo.
text | es | deben existir como facturas en odoo (por iva, libros, modelos fiscales, conciliaciones…), pero no deberían reenviarse a verifactu, ya que ese envío ya se realizó correctamente desde el primer sif.
text | es | por ese motivo, veo lógico que el módulo de oca permita configurar diarios en los que: -se registren e integren esas facturas externas,
-pero con verifactu desactivado para evitar duplicidades en la aeat.
text | es | desde mi punto de vista, la configuración por diario no es un error, sino que permite cubrir escenarios en los que una empresa factura desde varios sif y, aun así, centraliza toda su contabilidad en odoo.
text | es | en este contexto existirían dos sif diferenciados: -el sif externo, que emite y, por tanto, es responsable de enviar a verifactu lo que él mismo genera.
text | es | -odoo, que actúa como sif únicamente respecto a las facturas emitidas efectivamente en odoo.
text | es | los diarios “no verifactu” no emiten; simplemente contabilizan facturas originadas en otros sistemas.
text | es | coincido con pedro en que esta flexibilidad podría malutilizarse para crear diarios “opacos”, pero entiendo que ese riesgo existe en prácticamente cualquier erp y no deriva de la funcionalidad en sí, sino del control interno y los procesos de cada empresa.
code | code | .
text | es | con ese planteamiento se permite emitir facturas al margen del reglamento no es viable .
text | es | faq para desarrolladores de la aeat: https://www.agenciatributaria.es/static_files/aeat_desarrolladores/eedd/iva/veri-factu/faqs-desarrolladores.pdf el punto 10, importación de facturas, creo que da la pista sobre el tema.
text | es | pongo este extracto: [...]por lo tanto, en los sistemas del empresario,
efectivamente, este tendrá facturas de dos clases: las producidas con su sif y las
producidas con el sif del empresario al que delegue esa facturación.
text | es | esas otras
facturas, naturalmente no se tienen ni que volver a imprimir con qr, ni mucho menos
volver a enviarlas a la sede electrónica de la aeat.
text | es | ambas funcionalidades las habrá
realizado el sif de la empresa que materialmente las haya emitido.[...] .
text | es | el módulo de odoo sa para 18 por ejemplo , no permite desconectar verifactu en un diario de ventas si verifactu está activado .
text | es | sin embargo, el módulo de odoo sa no bloquea el diario de ventas con el hash de odoo (esto sería otra cuestion) .
text | es | propuesta de solución en aquellos deployments donde verifactu esté activado a nivel de compañía —como sucede actualmente— puede darse el caso de que existan diarios con la opción verifactu activada y otros diarios donde dicha opción no esté activada.
text | es | para garantizar el cumplimiento normativo y evitar inconsistencias, se propone aplicar una restricción directa sobre los movimientos contables (account.move) que pertenezcan a diarios con verifactu desactivado.
text | es | restricción propuesta para los registros de account.move cuyo diario no tenga habilitada la opción verifactu, se aplicarán los siguientes bloqueos: 1.
text | es | no permitir imprimir los documentos contables asociados a estos diarios no podrán ser impresos bajo ninguna circunstancia.
text | es | esto evita que se generen versiones impresas que puedan interpretarse como documentos oficiales cuando no cumplen con los requisitos verifactu.
code | code | 2.
text | es | no permitir enviar del mismo modo, estos documentos no podrán enviarse a terceros (por email u otros medios) desde el sistema.
text | es | el objetivo es impedir que se distribuyan documentos que no estén validados conforme al estándar verifactu.
text | es | resultado esperado con esta limitación: los diarios con verifactu activado seguirán funcionando con todas las características previstas (envío, impresión, informes…).
text | es | los diarios sin verifactu activado quedarán claramente diferenciados, sin posibilidad de imprimir ni enviar sus movimientos.
text | es | se evita cualquier uso indebido o interpretación errónea de documentos no validados según verifactu.
text | es | se garantiza un funcionamiento coherente dentro del mismo deployment mixto.
code | code | .
text | es | > la verdad es que aunque haya casuísticas que puedan justificar no enviar a veri*factu, esto es la puerta abierta a tener un diario de "caja b".
text | es | [@almumu](https://github.com/almumu) [@anmarmo1](https://github.com/anmarmo1) [@soniaviciana](https://github.com/soniaviciana) recordáis cuál fue la razón inicial de habilitar veri*factu por diarios?
text | es | o fue solo por mimetizar con el sii?
text | es | > > y lo mismo podría plantearse de las posiciones fiscales.
text | es | hola pedro, lo dejamos abierto por que se planteo el tema de las auto-facturas y posibles casos en los que no se tuviesen que remitir a aeat, realmente, no se si realmente hay casos en los que no aplique el verifactu a parte de diarios que se utilicen para importar ventas y cosas asi, pero personalmente yo no lo contemplaría en un diario de venta ya que si lo tratamos como factura nos obliga a tener un registro de facturacion aunque no se envie a aeat y la implementacion de eso se complica, el registro de facturacion no es la propia factura en el documento de faq's en el punto 10 "cada factura tiene un registro de facturación (rf).
text | es | en la configuración de dicho rf se incluye la identidad del sif emisor.
text | es | por lo tanto, las facturas, mejor dicho los registros
de facturación, que se encuentren soportados en un sistema de gestión, pero que no
hayan sido producidos por el sif del empresario, son fácilmente identificables como
rfs importados para dicha gestión" eso implica que guardemos la identificación del sif original .
text | es | en ese sentido, quizás sería interesante habilitar un campo de la cabecera de la factura, para diarios de venta no verifactu, en el que se pueda informar la identificación del sif original.
code | code | .
text | es | y, también, lo que indica cesarsc79 tiene sentido: si se trata de facturas importadas desde otro sif, hacia un diario de ventas de odoo no verifactu, quizás se podría plantear la posibilidad de impedir que se pueda imprimir o enviar una factura, estas facturas solo deberían existir en odoo con propósitos de gestión contable, declaración de impuestos...
text | es | pero no para reimpresión (al menos el qr ya no sale) o para envío.
code | code | .
text | es | cuantas más vueltas le doy, más se debería prohibir estos diarios que no envíen a veri*factu.
text | es | si alguien importa, que en su proceso de importación neutralice esas facturas para que no se envíen otra vez (por ejemplo, tocando el estado veri*factu y poniéndolo a enviado).
code | code | .
text | es | esos diarios serán necesarios en varios escenarios autofacturas
facturas emitidas con otro sif debemos tener en cuenta que este reglamento está orientado más al fabricante de software que al cliente final.
text | es | solo hay que ver las sanciones lo de la declaración responsable firmada por el propio cliente, no es una solución .
text | es | creo que aquellos que quieran bajo su riesgo tener esos diarios, debería ser mediante un módulo extra que lo habilite, pero no en el módulo base.
text | es | ¿estáis de acuerdo los que habéis intervenido en el desarrollo? .
text | es | la solución que comentas, pedro, me parece la solución ideal: módulo base restrictivo y plenamente orientado a la norma.
text | es | módulo extra, permitirá que quienes usen odoo como sif pero también deban importar de sif diferentes (imprescindible en determinadas operativas o sectores), tengan una solución para ello.
code | code | .
text | es | > creo que aquellos que quieran bajo su riesgo tener esos diarios, debería ser mediante un módulo extra que lo habilite, pero no en el módulo base.
text | es | ¿estáis de acuerdo los que habéis intervenido en el desarrollo?
text | es | a colación de lo que dices, he estado pensando otra posible solución que tiene en cuenta tus comentarios.......
text | es | ### cuaderno de notas propuesta funcional y técnica para `l10n_es_verifactu_oca a raíz del debate sobre la posibilidad de crear diarios de ventas sin verifactu aun teniendo verifactu activo en la compañía, y considerando además la necesidad de gestionar **facturas emitidas por otros sif** (autofacturas, delegación de facturación, sif sectoriales…), propongo la siguiente solución dividida en dos niveles: --- # teclas 1 propuesta funcional ## 1.1.
text | es | comportamiento del módulo base `l10n_es_verifactu_oca` (estricto y seguro) cuando una compañía tenga verifactu activado: 1.
text | es | **todos los diarios de tipo “ventas” deben ser verifactu por defecto** - al crear un diario con `type = sale`, el check verifactu debe venir marcado automáticamente.
text | es | - no debería ser posible desmarcarlo desde el módulo base.
code | code | 2.
text | es | **no se deben poder validar facturas de venta fuera del flujo verifactu** - si la compañía tiene verifactu activo y se valida una factura de cliente (`out_invoice` / `out_refund`): - el diario debe tener verifactu activado.
text | es | - si no lo tiene → error.
text | es | - mensaje propuesto: > “no se pueden validar facturas de venta en un diario sin verifactu cuando la compañía tiene verifactu activado.”
text | und | 3.
text | es | **sin modalidad “no verifactu” en el módulo base** - en odoo 16 (oca) solo contemplamos la modalidad “verifactu”.
text | es | - toda factura emitida desde un diario de venta normal debe pasar por verifactu.
text | es | este comportamiento evita:
- la emisión de facturas de “caja b”,
- inconsistencias en la traza verifactu,
- errores involuntarios por parte del usuario.
code | code | --- ## 1.2.
text | es | módulo adicional oca (nuevo): gestión de **facturas importadas desde otros sif** la aeat, en la faq 10 (“importación de facturas desde otros sistemas”), especifica que pueden coexistir: - facturas emitidas por el sif del empresario (odoo), y - facturas emitidas por otro sif (delegado, del destinatario, sectorial…).
text | es | estas facturas **no deben reenviarse a aeat ni reimprimirse con qr**, pero sí deben almacenarse indicando el **sif emisor original**.
text | es | para cubrir estos escenarios, se propone un módulo adicional (p.
code | code | ej.
text | es | `l10n_es_verifactu_oca_import`) con: ### a) nuevo modo de diario: **“diario de importación desde otro sif”** campo nuevo en `account.journal` (solo tipo `sale`): - `verifactu_import_journal = true` → el diario se usa para **registrar facturas emitidas por otro sif**, no por odoo.
text | es | al activarlo:
- la opción verifactu del diario se desactiva (este diario no actúa como sif).
text | es | - odoo no debe generar rf ni enviar nada a aeat para estas facturas.
text | es | ### b) nuevos campos en la factura (`account.move`) para facturas en diarios de importación: - `external_sif_id` – identificador del sif original.
text | es | - `external_sif_installation` – nº de instalación del sif original.
text | es | - `external_rf_identifier` – identificador del rf original (si se tiene).
text | es | - `is_external_invoice` (compute) – indica que es una factura importada.
text | es | esto permite cumplir la trazabilidad prevista en la faq 10.
text | es | ### c) restricciones: sin impresión ni envío para `is_external_invoice = true`: - no se permite **imprimir** la factura desde odoo.
text | es | - no se permite **enviarla por email** desde odoo.
text | es | la impresión y entrega al cliente ya la realizó el sif original.
text | es | ### d) exclusión del flujo verifactu las facturas importadas: - no deben generar rf verifactu.
text | es | - no entran en el hash encadenado.
text | es | - no se seleccionan para envío a aeat.
text | es | - pueden existir para contabilidad, libros de iva y modelos fiscales.
text | es | --- # teclas 2 propuesta técnica ## 2.1.
text | es | módulo base ### `account.journal`
- en `create` / `write`: - si `type == 'sale'` y verifactu está activo en la compañía: - forzar `verifactu = true` salvo que el módulo extra marque explícitamente el diario como `verifactu_import_journal`.
code | code | ### `account.move`
text | es | - en `action_post`: - si es factura de cliente y: - diario es tipo `sale`, - verifactu está activo a nivel de compañia, - verifactu no activado en el diario - y **no** es diario de importación → error.
code | code | --- ## 2.2.
text | es | módulo adicional `l10n_es_verifactu_oca_import` ### nuevos campos en `account.journal`
code | code | python
verifactu_import_journal = fields.boolean( string="diario de importación desde otro sif", help="para registrar facturas ya emitidas por otro sif y enviadas a aeat."
)
text | es | al marcarlo:
code | code | python
if self.type == 'sale' and self.verifactu_import_journal: self.verifactu_enabled = false
text | es | ### nuevos campos en `account.move`
code | code | python
external_sif_id = fields.char()
external_sif_installation = fields.char()
external_rf_identifier = fields.char()
is_external_invoice = fields.boolean(compute="_compute_is_external_invoice", store=true)
text | es | ### bloqueo de impresión y envío
code | code | python
def action_print(self): if self.is_external_invoice: raise usererror("no se puede imprimir una factura emitida por otro sif desde odoo.") return super().action_print() def action_invoice_sent(self): if self.is_external_invoice: raise usererror("no se puede enviar por email una factura emitida por otro sif.") return super().action_invoice_sent()
text | es | ### exclusión del flujo verifactu
en el método que prepara envíos:
code | code | python
moves = moves.filtered(lambda m: not m.is_external_invoice)
text | es | --- # teclas 3 beneficios - cumple estrictamente con verifactu y evita riesgos de “caja b”.
text | es | - respeta la normativa sobre rf importados descrita en la faq 10.
text | es | - permite a las empresas que trabajan con varios sif integrar facturas sin duplicidad en aeat.
text | es | - mantiene una arquitectura modular: - el módulo base es seguro y normativo, - el módulo extra añade flexibilidad para quien realmente la necesita.
code | code | .
text | es | vamos a empezar quitando la opción de desactivarlo, y luego se hace el módulo extra.
text | es | si quieres ir con ello, adelante.
code | code | .
text | es | estoy de acuerdo con desactivar la opción creo que si alguien realmente lo necesita habria que hacer otro módulo como decis.
code | code | .
text | es | en todo caso...
text | es | creo que podremos pensar en todo esto de forma más pausada, con el aplazamiento.
text | es | como se suele decir: "para mear y no echar gota".
text | es | estoy en shock.
code | code | .
text | es | noticia del aplazamiento.
text | es | [https://www.eleconomista.es/legal/noticias/13672020/12/25/hacienda-da-un-respiro-a-empresas-y-autonomos-y-retrasa-verifactu-a-2027.html](url) cuando este publicado en el boe, seguimos .
text | es | ¿como quedó esto?
text | es | verifactu sigue siendo obligatorio desde el verano pasado para la gente que empiece a usar el sif .
text | es | sí, odoo cuenta con veri*factu.
text | es | otra cosa es que no se active hasta que no haga falta.
Detalles: total_items: 137 | code_items: 23 | spanish_items: 113 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | 2.
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | 2.
Dato borrado: code | code | --- ## 1.2.
Dato borrado: code | code | ej.
Dato borrado: code | code | ### `account.move`
Dato borrado: code | code | --- ## 2.2.
Dato borrado: code | code | python
verifactu_import_journal = fields.boolean( string="diario de importación desde otro sif", help="para registrar facturas ya emitidas por otro sif y enviadas a aeat."
)
Dato borrado: code | code | python
if self.type == 'sale' and self.verifactu_import_journal: self.verifactu_enabled = false
Dato borrado: code | code | python
external_sif_id = fields.char()
external_sif_installation = fields.char()
external_rf_identifier = fields.char()
is_external_invoice = fields.boolean(compute="_compute_is_external_invoice", store=true)
Dato borrado: code | code | python
def action_print(self): if self.is_external_invoice: raise usererror("no se puede imprimir una factura emitida por otro sif desde odoo.") return super().action_print() def action_invoice_sent(self): if self.is_external_invoice: raise usererror("no se puede enviar por email una factura emitida por otro sif.") return super().action_invoice_sent()
Dato borrado: code | code | python
moves = moves.filtered(lambda m: not m.is_external_invoice)
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
recomposed_text: yo por mi parte no veo bug aquí. sí podría ser interesante que, cuando se crean nuevos diarios de venta, se genere alguna alerta del tipo "por favor, revise si debe activar la comunicación verifactu en este diario". hay casos en los que se necesitan registrar / importar en odoo facturas de venta que han sido generadas desde otro sif y, por lo tanto, ya han sido comunicadas a verifactu en ese otro sistema. el sif debe cumplir la normativa siempre. permitir crear facturas sin ese check activado no cumple el reglamento de facturacion ahí esta mi preocupación . la verdad es que aunque haya casuísticas que puedan justificar no enviar a veri\*factu, esto es la puerta abierta a tener un diario de "caja b". @almumu @anmarmo1 @soniaviciana recordáis cuál fue la razón inicial de habilitar veri\*factu por diarios? o fue solo por mimetizar con el sii? y lo mismo podría plantearse de las posiciones fiscales. disculpas si convenís que esto aquí no procede pero si viene a colación hay una casuística que igual puede ser tenida en cuenta cuando el destinatario de las operaciones es quien emite la factura en nombre del emisor el destinatario envía a la aeat pues es él quien la ha generado con un sif y esa autofactura se la envía al emisor vamos a necesitar introducir en odoo esa factura para contabilizarla, pero esa factura ya ha sido enviada, ya tiene una serie y un número se podría limitar o modificar algún elemento de todos los registros account.move que pertenezcan a esos diarios concretos para que no generen facturas a través de la modificación del reporte . pongo un escenario real: -empresa del sector eléctrico que utiliza odoo como erp para su operativa general (contabilidad, compras, facturación propia, etc.). -además, subcontrata un sif externo para la emisión de determinadas facturas en su nombre. ese sif externo: -genera su propia serie y numeración,
-remite esas facturas a verifactu, cumpliendo con las obligaciones técnicas de envío establecidas en el reglamento. para poder llevar la contabilidad consolidada en odoo, la empresa debe importar periódicamente esas facturas ya emitidas en el sistema externo. deben existir como facturas en odoo (por iva, libros, modelos fiscales, conciliaciones…), pero no deberían reenviarse a verifactu, ya que ese envío ya se realizó correctamente desde el primer sif. por ese motivo, veo lógico que el módulo de oca permita configurar diarios en los que: -se registren e integren esas facturas externas,
-pero con verifactu desactivado para evitar duplicidades en la aeat. desde mi punto de vista, la configuración por diario no es un error, sino que permite cubrir escenarios en los que una empresa factura desde varios sif y, aun así, centraliza toda su contabilidad en odoo. en este contexto existirían dos sif diferenciados: -el sif externo, que emite y, por tanto, es responsable de enviar a verifactu lo que él mismo genera. -odoo, que actúa como sif únicamente respecto a las facturas emitidas efectivamente en odoo. los diarios “no verifactu” no emiten; simplemente contabilizan facturas originadas en otros sistemas. coincido con pedro en que esta flexibilidad podría malutilizarse para crear diarios “opacos”, pero entiendo que ese riesgo existe en prácticamente cualquier erp y no deriva de la funcionalidad en sí, sino del control interno y los procesos de cada empresa. con ese planteamiento se permite emitir facturas al margen del reglamento no es viable . faq para desarrolladores de la aeat: https://www.agenciatributaria.es/static_files/aeat_desarrolladores/eedd/iva/veri-factu/faqs-desarrolladores.pdf el punto 10, importación de facturas, creo que da la pista sobre el tema. pongo este extracto: [...]por lo tanto, en los sistemas del empresario,
efectivamente, este tendrá facturas de dos clases: las producidas con su sif y las
producidas con el sif del empresario al que delegue esa facturación. esas otras
facturas, naturalmente no se tienen ni que volver a imprimir con qr, ni mucho menos
volver a enviarlas a la sede electrónica de la aeat. ambas funcionalidades las habrá
realizado el sif de la empresa que materialmente las haya emitido.[...] . el módulo de odoo sa para 18 por ejemplo , no permite desconectar verifactu en un diario de ventas si verifactu está activado . sin embargo, el módulo de odoo sa no bloquea el diario de ventas con el hash de odoo (esto sería otra cuestion) . propuesta de solución en aquellos deployments donde verifactu esté activado a nivel de compañía —como sucede actualmente— puede darse el caso de que existan diarios con la opción verifactu activada y otros diarios donde dicha opción no esté activada. para garantizar el cumplimiento normativo y evitar inconsistencias, se propone aplicar una restricción directa sobre los movimientos contables (account.move) que pertenezcan a diarios con verifactu desactivado. restricción propuesta para los registros de account.move cuyo diario no tenga habilitada la opción verifactu, se aplicarán los siguientes bloqueos: 1. no permitir imprimir los documentos contables asociados a estos diarios no podrán ser impresos bajo ninguna circunstancia. esto evita que se generen versiones impresas que puedan interpretarse como documentos oficiales cuando no cumplen con los requisitos verifactu. no permitir enviar del mismo modo, estos documentos no podrán enviarse a terceros (por email u otros medios) desde el sistema. el objetivo es impedir que se distribuyan documentos que no estén validados conforme al estándar verifactu. resultado esperado con esta limitación: los diarios con verifactu activado seguirán funcionando con todas las características previstas (envío, impresión, informes…). los diarios sin verifactu activado quedarán claramente diferenciados, sin posibilidad de imprimir ni enviar sus movimientos. se evita cualquier uso indebido o interpretación errónea de documentos no validados según verifactu. se garantiza un funcionamiento coherente dentro del mismo deployment mixto. > la verdad es que aunque haya casuísticas que puedan justificar no enviar a veri*factu, esto es la puerta abierta a tener un diario de "caja b". [@almumu](https://github.com/almumu) [@anmarmo1](https://github.com/anmarmo1) [@soniaviciana](https://github.com/soniaviciana) recordáis cuál fue la razón inicial de habilitar veri*factu por diarios? o fue solo por mimetizar con el sii? > > y lo mismo podría plantearse de las posiciones fiscales. hola pedro, lo dejamos abierto por que se planteo el tema de las auto-facturas y posibles casos en los que no se tuviesen que remitir a aeat, realmente, no se si realmente hay casos en los que no aplique el verifactu a parte de diarios que se utilicen para importar ventas y cosas asi, pero personalmente yo no lo contemplaría en un diario de venta ya que si lo tratamos como factura nos obliga a tener un registro de facturacion aunque no se envie a aeat y la implementacion de eso se complica, el registro de facturacion no es la propia factura en el documento de faq's en el punto 10 "cada factura tiene un registro de facturación (rf). en la configuración de dicho rf se incluye la identidad del sif emisor. por lo tanto, las facturas, mejor dicho los registros
de facturación, que se encuentren soportados en un sistema de gestión, pero que no
hayan sido producidos por el sif del empresario, son fácilmente identificables como
rfs importados para dicha gestión" eso implica que guardemos la identificación del sif original . en ese sentido, quizás sería interesante habilitar un campo de la cabecera de la factura, para diarios de venta no verifactu, en el que se pueda informar la identificación del sif original. y, también, lo que indica cesarsc79 tiene sentido: si se trata de facturas importadas desde otro sif, hacia un diario de ventas de odoo no verifactu, quizás se podría plantear la posibilidad de impedir que se pueda imprimir o enviar una factura, estas facturas solo deberían existir en odoo con propósitos de gestión contable, declaración de impuestos... pero no para reimpresión (al menos el qr ya no sale) o para envío. cuantas más vueltas le doy, más se debería prohibir estos diarios que no envíen a veri*factu. si alguien importa, que en su proceso de importación neutralice esas facturas para que no se envíen otra vez (por ejemplo, tocando el estado veri*factu y poniéndolo a enviado). esos diarios serán necesarios en varios escenarios autofacturas
facturas emitidas con otro sif debemos tener en cuenta que este reglamento está orientado más al fabricante de software que al cliente final. solo hay que ver las sanciones lo de la declaración responsable firmada por el propio cliente, no es una solución . creo que aquellos que quieran bajo su riesgo tener esos diarios, debería ser mediante un módulo extra que lo habilite, pero no en el módulo base. ¿estáis de acuerdo los que habéis intervenido en el desarrollo? . la solución que comentas, pedro, me parece la solución ideal: módulo base restrictivo y plenamente orientado a la norma. módulo extra, permitirá que quienes usen odoo como sif pero también deban importar de sif diferentes (imprescindible en determinadas operativas o sectores), tengan una solución para ello. > creo que aquellos que quieran bajo su riesgo tener esos diarios, debería ser mediante un módulo extra que lo habilite, pero no en el módulo base. ¿estáis de acuerdo los que habéis intervenido en el desarrollo? a colación de lo que dices, he estado pensando otra posible solución que tiene en cuenta tus comentarios....... ### cuaderno de notas propuesta funcional y técnica para `l10n_es_verifactu_oca a raíz del debate sobre la posibilidad de crear diarios de ventas sin verifactu aun teniendo verifactu activo en la compañía, y considerando además la necesidad de gestionar **facturas emitidas por otros sif** (autofacturas, delegación de facturación, sif sectoriales…), propongo la siguiente solución dividida en dos niveles: --- # teclas 1 propuesta funcional ## 1.1. comportamiento del módulo base `l10n_es_verifactu_oca` (estricto y seguro) cuando una compañía tenga verifactu activado: 1. **todos los diarios de tipo “ventas” deben ser verifactu por defecto** - al crear un diario con `type = sale`, el check verifactu debe venir marcado automáticamente. - no debería ser posible desmarcarlo desde el módulo base. **no se deben poder validar facturas de venta fuera del flujo verifactu** - si la compañía tiene verifactu activo y se valida una factura de cliente (`out_invoice` / `out_refund`): - el diario debe tener verifactu activado. - si no lo tiene → error. - mensaje propuesto: > “no se pueden validar facturas de venta en un diario sin verifactu cuando la compañía tiene verifactu activado.” 3. **sin modalidad “no verifactu” en el módulo base** - en odoo 16 (oca) solo contemplamos la modalidad “verifactu”. - toda factura emitida desde un diario de venta normal debe pasar por verifactu. este comportamiento evita:
- la emisión de facturas de “caja b”,
- inconsistencias en la traza verifactu,
- errores involuntarios por parte del usuario. módulo adicional oca (nuevo): gestión de **facturas importadas desde otros sif** la aeat, en la faq 10 (“importación de facturas desde otros sistemas”), especifica que pueden coexistir: - facturas emitidas por el sif del empresario (odoo), y - facturas emitidas por otro sif (delegado, del destinatario, sectorial…). estas facturas **no deben reenviarse a aeat ni reimprimirse con qr**, pero sí deben almacenarse indicando el **sif emisor original**. para cubrir estos escenarios, se propone un módulo adicional (p. `l10n_es_verifactu_oca_import`) con: ### a) nuevo modo de diario: **“diario de importación desde otro sif”** campo nuevo en `account.journal` (solo tipo `sale`): - `verifactu_import_journal = true` → el diario se usa para **registrar facturas emitidas por otro sif**, no por odoo. al activarlo:
- la opción verifactu del diario se desactiva (este diario no actúa como sif). - odoo no debe generar rf ni enviar nada a aeat para estas facturas. ### b) nuevos campos en la factura (`account.move`) para facturas en diarios de importación: - `external_sif_id` – identificador del sif original. - `external_sif_installation` – nº de instalación del sif original. - `external_rf_identifier` – identificador del rf original (si se tiene). - `is_external_invoice` (compute) – indica que es una factura importada. esto permite cumplir la trazabilidad prevista en la faq 10. ### c) restricciones: sin impresión ni envío para `is_external_invoice = true`: - no se permite **imprimir** la factura desde odoo. - no se permite **enviarla por email** desde odoo. la impresión y entrega al cliente ya la realizó el sif original. ### d) exclusión del flujo verifactu las facturas importadas: - no deben generar rf verifactu. - no entran en el hash encadenado. - no se seleccionan para envío a aeat. - pueden existir para contabilidad, libros de iva y modelos fiscales. --- # teclas 2 propuesta técnica ## 2.1. módulo base ### `account.journal`
- en `create` / `write`: - si `type == 'sale'` y verifactu está activo en la compañía: - forzar `verifactu = true` salvo que el módulo extra marque explícitamente el diario como `verifactu_import_journal`. - en `action_post`: - si es factura de cliente y: - diario es tipo `sale`, - verifactu está activo a nivel de compañia, - verifactu no activado en el diario - y **no** es diario de importación → error. módulo adicional `l10n_es_verifactu_oca_import` ### nuevos campos en `account.journal` al marcarlo: ### nuevos campos en `account.move` ### bloqueo de impresión y envío ### exclusión del flujo verifactu
en el método que prepara envíos: --- # teclas 3 beneficios - cumple estrictamente con verifactu y evita riesgos de “caja b”. - respeta la normativa sobre rf importados descrita en la faq 10. - permite a las empresas que trabajan con varios sif integrar facturas sin duplicidad en aeat. - mantiene una arquitectura modular: - el módulo base es seguro y normativo, - el módulo extra añade flexibilidad para quien realmente la necesita. vamos a empezar quitando la opción de desactivarlo, y luego se hace el módulo extra. si quieres ir con ello, adelante. estoy de acuerdo con desactivar la opción creo que si alguien realmente lo necesita habria que hacer otro módulo como decis. en todo caso... creo que podremos pensar en todo esto de forma más pausada, con el aplazamiento. como se suele decir: "para mear y no echar gota". estoy en shock. noticia del aplazamiento. [https://www.eleconomista.es/legal/noticias/13672020/12/25/hacienda-da-un-respiro-a-empresas-y-autonomos-y-retrasa-verifactu-a-2027.html](url) cuando este publicado en el boe, seguimos . ¿como quedó esto? verifactu sigue siendo obligatorio desde el verano pasado para la gente que empiece a usar el sif . sí, odoo cuenta con veri*factu. otra cosa es que no se active hasta que no haga falta.
__Recursividad__
text | es | yo por mi parte no veo bug aquí.
text | es | sí podría ser interesante que, cuando se crean nuevos diarios de venta, se genere alguna alerta del tipo "por favor, revise si debe activar la comunicación verifactu en este diario".
text | es | hay casos en los que se necesitan registrar / importar en odoo facturas de venta que han sido generadas desde otro sif y, por lo tanto, ya han sido comunicadas a verifactu en ese otro sistema.
text | es | el sif debe cumplir la normativa siempre.
text | es | permitir crear facturas sin ese check activado no cumple el reglamento de facturacion ahí esta mi preocupación .
text | es | la verdad es que aunque haya casuísticas que puedan justificar no enviar a veri\*factu, esto es la puerta abierta a tener un diario de "caja b".
text | es | @almumu @anmarmo1 @soniaviciana recordáis cuál fue la razón inicial de habilitar veri\*factu por diarios?
text | es | o fue solo por mimetizar con el sii?
text | es | y lo mismo podría plantearse de las posiciones fiscales.
text | es | disculpas si convenís que esto aquí no procede pero si viene a colación hay una casuística que igual puede ser tenida en cuenta cuando el destinatario de las operaciones es quien emite la factura en nombre del emisor el destinatario envía a la aeat pues es él quien la ha generado con un sif y esa autofactura se la envía al emisor vamos a necesitar introducir en odoo esa factura para contabilizarla, pero esa factura ya ha sido enviada, ya tiene una serie y un número se podría limitar o modificar algún elemento de todos los registros account.move que pertenezcan a esos diarios concretos para que no generen facturas a través de la modificación del reporte .
text | es | pongo un escenario real: -empresa del sector eléctrico que utiliza odoo como erp para su operativa general (contabilidad, compras, facturación propia, etc.).
text | es | -además, subcontrata un sif externo para la emisión de determinadas facturas en su nombre.
text | es | ese sif externo: -genera su propia serie y numeración,
-remite esas facturas a verifactu, cumpliendo con las obligaciones técnicas de envío establecidas en el reglamento.
text | es | para poder llevar la contabilidad consolidada en odoo, la empresa debe importar periódicamente esas facturas ya emitidas en el sistema externo.
text | es | deben existir como facturas en odoo (por iva, libros, modelos fiscales, conciliaciones…), pero no deberían reenviarse a verifactu, ya que ese envío ya se realizó correctamente desde el primer sif.
text | es | por ese motivo, veo lógico que el módulo de oca permita configurar diarios en los que: -se registren e integren esas facturas externas,
-pero con verifactu desactivado para evitar duplicidades en la aeat.
text | es | desde mi punto de vista, la configuración por diario no es un error, sino que permite cubrir escenarios en los que una empresa factura desde varios sif y, aun así, centraliza toda su contabilidad en odoo.
text | es | en este contexto existirían dos sif diferenciados: -el sif externo, que emite y, por tanto, es responsable de enviar a verifactu lo que él mismo genera.
text | es | -odoo, que actúa como sif únicamente respecto a las facturas emitidas efectivamente en odoo.
text | es | los diarios “no verifactu” no emiten; simplemente contabilizan facturas originadas en otros sistemas.
text | es | coincido con pedro en que esta flexibilidad podría malutilizarse para crear diarios “opacos”, pero entiendo que ese riesgo existe en prácticamente cualquier erp y no deriva de la funcionalidad en sí, sino del control interno y los procesos de cada empresa.
text | es | con ese planteamiento se permite emitir facturas al margen del reglamento no es viable .
text | es | faq para desarrolladores de la aeat: https://www.agenciatributaria.es/static_files/aeat_desarrolladores/eedd/iva/veri-factu/faqs-desarrolladores.pdf el punto 10, importación de facturas, creo que da la pista sobre el tema.
text | es | pongo este extracto: [...]por lo tanto, en los sistemas del empresario,
efectivamente, este tendrá facturas de dos clases: las producidas con su sif y las
producidas con el sif del empresario al que delegue esa facturación.
text | es | esas otras
facturas, naturalmente no se tienen ni que volver a imprimir con qr, ni mucho menos
volver a enviarlas a la sede electrónica de la aeat.
text | es | ambas funcionalidades las habrá
realizado el sif de la empresa que materialmente las haya emitido.[...] .
text | es | el módulo de odoo sa para 18 por ejemplo , no permite desconectar verifactu en un diario de ventas si verifactu está activado .
text | es | sin embargo, el módulo de odoo sa no bloquea el diario de ventas con el hash de odoo (esto sería otra cuestion) .
text | es | propuesta de solución en aquellos deployments donde verifactu esté activado a nivel de compañía —como sucede actualmente— puede darse el caso de que existan diarios con la opción verifactu activada y otros diarios donde dicha opción no esté activada.
text | es | para garantizar el cumplimiento normativo y evitar inconsistencias, se propone aplicar una restricción directa sobre los movimientos contables (account.move) que pertenezcan a diarios con verifactu desactivado.
text | es | restricción propuesta para los registros de account.move cuyo diario no tenga habilitada la opción verifactu, se aplicarán los siguientes bloqueos: 1.
text | es | no permitir imprimir los documentos contables asociados a estos diarios no podrán ser impresos bajo ninguna circunstancia.
text | es | esto evita que se generen versiones impresas que puedan interpretarse como documentos oficiales cuando no cumplen con los requisitos verifactu.
text | es | no permitir enviar del mismo modo, estos documentos no podrán enviarse a terceros (por email u otros medios) desde el sistema.
text | es | el objetivo es impedir que se distribuyan documentos que no estén validados conforme al estándar verifactu.
text | es | resultado esperado con esta limitación: los diarios con verifactu activado seguirán funcionando con todas las características previstas (envío, impresión, informes…).
text | es | los diarios sin verifactu activado quedarán claramente diferenciados, sin posibilidad de imprimir ni enviar sus movimientos.
text | es | se evita cualquier uso indebido o interpretación errónea de documentos no validados según verifactu.
text | es | se garantiza un funcionamiento coherente dentro del mismo deployment mixto.
text | es | > la verdad es que aunque haya casuísticas que puedan justificar no enviar a veri*factu, esto es la puerta abierta a tener un diario de "caja b".
text | es | [@almumu](https://github.com/almumu) [@anmarmo1](https://github.com/anmarmo1) [@soniaviciana](https://github.com/soniaviciana) recordáis cuál fue la razón inicial de habilitar veri*factu por diarios?
text | es | o fue solo por mimetizar con el sii?
text | es | > > y lo mismo podría plantearse de las posiciones fiscales.
text | es | hola pedro, lo dejamos abierto por que se planteo el tema de las auto-facturas y posibles casos en los que no se tuviesen que remitir a aeat, realmente, no se si realmente hay casos en los que no aplique el verifactu a parte de diarios que se utilicen para importar ventas y cosas asi, pero personalmente yo no lo contemplaría en un diario de venta ya que si lo tratamos como factura nos obliga a tener un registro de facturacion aunque no se envie a aeat y la implementacion de eso se complica, el registro de facturacion no es la propia factura en el documento de faq's en el punto 10 "cada factura tiene un registro de facturación (rf).
text | es | en la configuración de dicho rf se incluye la identidad del sif emisor.
text | es | por lo tanto, las facturas, mejor dicho los registros
de facturación, que se encuentren soportados en un sistema de gestión, pero que no
hayan sido producidos por el sif del empresario, son fácilmente identificables como
rfs importados para dicha gestión" eso implica que guardemos la identificación del sif original .
text | es | en ese sentido, quizás sería interesante habilitar un campo de la cabecera de la factura, para diarios de venta no verifactu, en el que se pueda informar la identificación del sif original.
text | es | y, también, lo que indica cesarsc79 tiene sentido: si se trata de facturas importadas desde otro sif, hacia un diario de ventas de odoo no verifactu, quizás se podría plantear la posibilidad de impedir que se pueda imprimir o enviar una factura, estas facturas solo deberían existir en odoo con propósitos de gestión contable, declaración de impuestos...
text | es | pero no para reimpresión (al menos el qr ya no sale) o para envío.
text | es | cuantas más vueltas le doy, más se debería prohibir estos diarios que no envíen a veri*factu.
text | es | si alguien importa, que en su proceso de importación neutralice esas facturas para que no se envíen otra vez (por ejemplo, tocando el estado veri*factu y poniéndolo a enviado).
text | es | esos diarios serán necesarios en varios escenarios autofacturas
facturas emitidas con otro sif debemos tener en cuenta que este reglamento está orientado más al fabricante de software que al cliente final.
text | es | solo hay que ver las sanciones lo de la declaración responsable firmada por el propio cliente, no es una solución .
text | es | creo que aquellos que quieran bajo su riesgo tener esos diarios, debería ser mediante un módulo extra que lo habilite, pero no en el módulo base.
text | es | ¿estáis de acuerdo los que habéis intervenido en el desarrollo? .
text | es | la solución que comentas, pedro, me parece la solución ideal: módulo base restrictivo y plenamente orientado a la norma.
text | es | módulo extra, permitirá que quienes usen odoo como sif pero también deban importar de sif diferentes (imprescindible en determinadas operativas o sectores), tengan una solución para ello.
text | es | > creo que aquellos que quieran bajo su riesgo tener esos diarios, debería ser mediante un módulo extra que lo habilite, pero no en el módulo base.
text | es | ¿estáis de acuerdo los que habéis intervenido en el desarrollo?
text | es | a colación de lo que dices, he estado pensando otra posible solución que tiene en cuenta tus comentarios.......
text | es | ### cuaderno de notas propuesta funcional y técnica para `l10n_es_verifactu_oca a raíz del debate sobre la posibilidad de crear diarios de ventas sin verifactu aun teniendo verifactu activo en la compañía, y considerando además la necesidad de gestionar **facturas emitidas por otros sif** (autofacturas, delegación de facturación, sif sectoriales…), propongo la siguiente solución dividida en dos niveles: --- # teclas 1 propuesta funcional ## 1.1.
text | es | comportamiento del módulo base `l10n_es_verifactu_oca` (estricto y seguro) cuando una compañía tenga verifactu activado: 1.
text | es | **todos los diarios de tipo “ventas” deben ser verifactu por defecto** - al crear un diario con `type = sale`, el check verifactu debe venir marcado automáticamente.
text | es | - no debería ser posible desmarcarlo desde el módulo base.
text | es | **no se deben poder validar facturas de venta fuera del flujo verifactu** - si la compañía tiene verifactu activo y se valida una factura de cliente (`out_invoice` / `out_refund`): - el diario debe tener verifactu activado.
text | es | - si no lo tiene → error.
text | es | - mensaje propuesto: > “no se pueden validar facturas de venta en un diario sin verifactu cuando la compañía tiene verifactu activado.”
text | und | 3.
text | es | **sin modalidad “no verifactu” en el módulo base** - en odoo 16 (oca) solo contemplamos la modalidad “verifactu”.
text | es | - toda factura emitida desde un diario de venta normal debe pasar por verifactu.
text | es | este comportamiento evita:
- la emisión de facturas de “caja b”,
- inconsistencias en la traza verifactu,
- errores involuntarios por parte del usuario.
text | es | módulo adicional oca (nuevo): gestión de **facturas importadas desde otros sif** la aeat, en la faq 10 (“importación de facturas desde otros sistemas”), especifica que pueden coexistir: - facturas emitidas por el sif del empresario (odoo), y - facturas emitidas por otro sif (delegado, del destinatario, sectorial…).
text | es | estas facturas **no deben reenviarse a aeat ni reimprimirse con qr**, pero sí deben almacenarse indicando el **sif emisor original**.
text | es | para cubrir estos escenarios, se propone un módulo adicional (p.
text | es | `l10n_es_verifactu_oca_import`) con: ### a) nuevo modo de diario: **“diario de importación desde otro sif”** campo nuevo en `account.journal` (solo tipo `sale`): - `verifactu_import_journal = true` → el diario se usa para **registrar facturas emitidas por otro sif**, no por odoo.
text | es | al activarlo:
- la opción verifactu del diario se desactiva (este diario no actúa como sif).
text | es | - odoo no debe generar rf ni enviar nada a aeat para estas facturas.
text | es | ### b) nuevos campos en la factura (`account.move`) para facturas en diarios de importación: - `external_sif_id` – identificador del sif original.
text | es | - `external_sif_installation` – nº de instalación del sif original.
text | es | - `external_rf_identifier` – identificador del rf original (si se tiene).
text | es | - `is_external_invoice` (compute) – indica que es una factura importada.
text | es | esto permite cumplir la trazabilidad prevista en la faq 10.
text | es | ### c) restricciones: sin impresión ni envío para `is_external_invoice = true`: - no se permite **imprimir** la factura desde odoo.
text | es | - no se permite **enviarla por email** desde odoo.
text | es | la impresión y entrega al cliente ya la realizó el sif original.
text | es | ### d) exclusión del flujo verifactu las facturas importadas: - no deben generar rf verifactu.
text | es | - no entran en el hash encadenado.
text | es | - no se seleccionan para envío a aeat.
text | es | - pueden existir para contabilidad, libros de iva y modelos fiscales.
text | es | --- # teclas 2 propuesta técnica ## 2.1.
text | es | módulo base ### `account.journal`
- en `create` / `write`: - si `type == 'sale'` y verifactu está activo en la compañía: - forzar `verifactu = true` salvo que el módulo extra marque explícitamente el diario como `verifactu_import_journal`.
text | es | - en `action_post`: - si es factura de cliente y: - diario es tipo `sale`, - verifactu está activo a nivel de compañia, - verifactu no activado en el diario - y **no** es diario de importación → error.
text | es | módulo adicional `l10n_es_verifactu_oca_import` ### nuevos campos en `account.journal` al marcarlo: ### nuevos campos en `account.move` ### bloqueo de impresión y envío ### exclusión del flujo verifactu
en el método que prepara envíos: --- # teclas 3 beneficios - cumple estrictamente con verifactu y evita riesgos de “caja b”.
text | es | - respeta la normativa sobre rf importados descrita en la faq 10.
text | es | - permite a las empresas que trabajan con varios sif integrar facturas sin duplicidad en aeat.
text | es | - mantiene una arquitectura modular: - el módulo base es seguro y normativo, - el módulo extra añade flexibilidad para quien realmente la necesita.
text | es | vamos a empezar quitando la opción de desactivarlo, y luego se hace el módulo extra.
text | es | si quieres ir con ello, adelante.
text | es | estoy de acuerdo con desactivar la opción creo que si alguien realmente lo necesita habria que hacer otro módulo como decis.
text | es | en todo caso...
text | es | creo que podremos pensar en todo esto de forma más pausada, con el aplazamiento.
text | es | como se suele decir: "para mear y no echar gota".
text | es | estoy en shock.
text | es | noticia del aplazamiento.
text | es | [https://www.eleconomista.es/legal/noticias/13672020/12/25/hacienda-da-un-respiro-a-empresas-y-autonomos-y-retrasa-verifactu-a-2027.html](url) cuando este publicado en el boe, seguimos .
text | es | ¿como quedó esto?
text | es | verifactu sigue siendo obligatorio desde el verano pasado para la gente que empiece a usar el sif .
text | es | sí, odoo cuenta con veri*factu.
text | es | otra cosa es que no se active hasta que no haga falta.
Detalles: total_items: 109 | code_items: 0 | spanish_items: 108 | english_items: 0
Dato borrado: text | und | 3.
recomposed_text: yo por mi parte no veo bug aquí. sí podría ser interesante que, cuando se crean nuevos diarios de venta, se genere alguna alerta del tipo "por favor, revise si debe activar la comunicación verifactu en este diario". hay casos en los que se necesitan registrar / importar en odoo facturas de venta que han sido generadas desde otro sif y, por lo tanto, ya han sido comunicadas a verifactu en ese otro sistema. el sif debe cumplir la normativa siempre. permitir crear facturas sin ese check activado no cumple el reglamento de facturacion ahí esta mi preocupación . la verdad es que aunque haya casuísticas que puedan justificar no enviar a veri\*factu, esto es la puerta abierta a tener un diario de "caja b". @almumu @anmarmo1 @soniaviciana recordáis cuál fue la razón inicial de habilitar veri\*factu por diarios? o fue solo por mimetizar con el sii? y lo mismo podría plantearse de las posiciones fiscales. disculpas si convenís que esto aquí no procede pero si viene a colación hay una casuística que igual puede ser tenida en cuenta cuando el destinatario de las operaciones es quien emite la factura en nombre del emisor el destinatario envía a la aeat pues es él quien la ha generado con un sif y esa autofactura se la envía al emisor vamos a necesitar introducir en odoo esa factura para contabilizarla, pero esa factura ya ha sido enviada, ya tiene una serie y un número se podría limitar o modificar algún elemento de todos los registros account.move que pertenezcan a esos diarios concretos para que no generen facturas a través de la modificación del reporte . pongo un escenario real: -empresa del sector eléctrico que utiliza odoo como erp para su operativa general (contabilidad, compras, facturación propia, etc.). -además, subcontrata un sif externo para la emisión de determinadas facturas en su nombre. ese sif externo: -genera su propia serie y numeración,
-remite esas facturas a verifactu, cumpliendo con las obligaciones técnicas de envío establecidas en el reglamento. para poder llevar la contabilidad consolidada en odoo, la empresa debe importar periódicamente esas facturas ya emitidas en el sistema externo. deben existir como facturas en odoo (por iva, libros, modelos fiscales, conciliaciones…), pero no deberían reenviarse a verifactu, ya que ese envío ya se realizó correctamente desde el primer sif. por ese motivo, veo lógico que el módulo de oca permita configurar diarios en los que: -se registren e integren esas facturas externas,
-pero con verifactu desactivado para evitar duplicidades en la aeat. desde mi punto de vista, la configuración por diario no es un error, sino que permite cubrir escenarios en los que una empresa factura desde varios sif y, aun así, centraliza toda su contabilidad en odoo. en este contexto existirían dos sif diferenciados: -el sif externo, que emite y, por tanto, es responsable de enviar a verifactu lo que él mismo genera. -odoo, que actúa como sif únicamente respecto a las facturas emitidas efectivamente en odoo. los diarios “no verifactu” no emiten; simplemente contabilizan facturas originadas en otros sistemas. coincido con pedro en que esta flexibilidad podría malutilizarse para crear diarios “opacos”, pero entiendo que ese riesgo existe en prácticamente cualquier erp y no deriva de la funcionalidad en sí, sino del control interno y los procesos de cada empresa. con ese planteamiento se permite emitir facturas al margen del reglamento no es viable . faq para desarrolladores de la aeat: https://www.agenciatributaria.es/static_files/aeat_desarrolladores/eedd/iva/veri-factu/faqs-desarrolladores.pdf el punto 10, importación de facturas, creo que da la pista sobre el tema. pongo este extracto: [...]por lo tanto, en los sistemas del empresario,
efectivamente, este tendrá facturas de dos clases: las producidas con su sif y las
producidas con el sif del empresario al que delegue esa facturación. esas otras
facturas, naturalmente no se tienen ni que volver a imprimir con qr, ni mucho menos
volver a enviarlas a la sede electrónica de la aeat. ambas funcionalidades las habrá
realizado el sif de la empresa que materialmente las haya emitido.[...] . el módulo de odoo sa para 18 por ejemplo , no permite desconectar verifactu en un diario de ventas si verifactu está activado . sin embargo, el módulo de odoo sa no bloquea el diario de ventas con el hash de odoo (esto sería otra cuestion) . propuesta de solución en aquellos deployments donde verifactu esté activado a nivel de compañía —como sucede actualmente— puede darse el caso de que existan diarios con la opción verifactu activada y otros diarios donde dicha opción no esté activada. para garantizar el cumplimiento normativo y evitar inconsistencias, se propone aplicar una restricción directa sobre los movimientos contables (account.move) que pertenezcan a diarios con verifactu desactivado. restricción propuesta para los registros de account.move cuyo diario no tenga habilitada la opción verifactu, se aplicarán los siguientes bloqueos: 1. no permitir imprimir los documentos contables asociados a estos diarios no podrán ser impresos bajo ninguna circunstancia. esto evita que se generen versiones impresas que puedan interpretarse como documentos oficiales cuando no cumplen con los requisitos verifactu. no permitir enviar del mismo modo, estos documentos no podrán enviarse a terceros (por email u otros medios) desde el sistema. el objetivo es impedir que se distribuyan documentos que no estén validados conforme al estándar verifactu. resultado esperado con esta limitación: los diarios con verifactu activado seguirán funcionando con todas las características previstas (envío, impresión, informes…). los diarios sin verifactu activado quedarán claramente diferenciados, sin posibilidad de imprimir ni enviar sus movimientos. se evita cualquier uso indebido o interpretación errónea de documentos no validados según verifactu. se garantiza un funcionamiento coherente dentro del mismo deployment mixto. > la verdad es que aunque haya casuísticas que puedan justificar no enviar a veri*factu, esto es la puerta abierta a tener un diario de "caja b". [@almumu](https://github.com/almumu) [@anmarmo1](https://github.com/anmarmo1) [@soniaviciana](https://github.com/soniaviciana) recordáis cuál fue la razón inicial de habilitar veri*factu por diarios? o fue solo por mimetizar con el sii? > > y lo mismo podría plantearse de las posiciones fiscales. hola pedro, lo dejamos abierto por que se planteo el tema de las auto-facturas y posibles casos en los que no se tuviesen que remitir a aeat, realmente, no se si realmente hay casos en los que no aplique el verifactu a parte de diarios que se utilicen para importar ventas y cosas asi, pero personalmente yo no lo contemplaría en un diario de venta ya que si lo tratamos como factura nos obliga a tener un registro de facturacion aunque no se envie a aeat y la implementacion de eso se complica, el registro de facturacion no es la propia factura en el documento de faq's en el punto 10 "cada factura tiene un registro de facturación (rf). en la configuración de dicho rf se incluye la identidad del sif emisor. por lo tanto, las facturas, mejor dicho los registros
de facturación, que se encuentren soportados en un sistema de gestión, pero que no
hayan sido producidos por el sif del empresario, son fácilmente identificables como
rfs importados para dicha gestión" eso implica que guardemos la identificación del sif original . en ese sentido, quizás sería interesante habilitar un campo de la cabecera de la factura, para diarios de venta no verifactu, en el que se pueda informar la identificación del sif original. y, también, lo que indica cesarsc79 tiene sentido: si se trata de facturas importadas desde otro sif, hacia un diario de ventas de odoo no verifactu, quizás se podría plantear la posibilidad de impedir que se pueda imprimir o enviar una factura, estas facturas solo deberían existir en odoo con propósitos de gestión contable, declaración de impuestos... pero no para reimpresión (al menos el qr ya no sale) o para envío. cuantas más vueltas le doy, más se debería prohibir estos diarios que no envíen a veri*factu. si alguien importa, que en su proceso de importación neutralice esas facturas para que no se envíen otra vez (por ejemplo, tocando el estado veri*factu y poniéndolo a enviado). esos diarios serán necesarios en varios escenarios autofacturas
facturas emitidas con otro sif debemos tener en cuenta que este reglamento está orientado más al fabricante de software que al cliente final. solo hay que ver las sanciones lo de la declaración responsable firmada por el propio cliente, no es una solución . creo que aquellos que quieran bajo su riesgo tener esos diarios, debería ser mediante un módulo extra que lo habilite, pero no en el módulo base. ¿estáis de acuerdo los que habéis intervenido en el desarrollo? . la solución que comentas, pedro, me parece la solución ideal: módulo base restrictivo y plenamente orientado a la norma. módulo extra, permitirá que quienes usen odoo como sif pero también deban importar de sif diferentes (imprescindible en determinadas operativas o sectores), tengan una solución para ello. > creo que aquellos que quieran bajo su riesgo tener esos diarios, debería ser mediante un módulo extra que lo habilite, pero no en el módulo base. ¿estáis de acuerdo los que habéis intervenido en el desarrollo? a colación de lo que dices, he estado pensando otra posible solución que tiene en cuenta tus comentarios....... ### cuaderno de notas propuesta funcional y técnica para `l10n_es_verifactu_oca a raíz del debate sobre la posibilidad de crear diarios de ventas sin verifactu aun teniendo verifactu activo en la compañía, y considerando además la necesidad de gestionar **facturas emitidas por otros sif** (autofacturas, delegación de facturación, sif sectoriales…), propongo la siguiente solución dividida en dos niveles: --- # teclas 1 propuesta funcional ## 1.1. comportamiento del módulo base `l10n_es_verifactu_oca` (estricto y seguro) cuando una compañía tenga verifactu activado: 1. **todos los diarios de tipo “ventas” deben ser verifactu por defecto** - al crear un diario con `type = sale`, el check verifactu debe venir marcado automáticamente. - no debería ser posible desmarcarlo desde el módulo base. **no se deben poder validar facturas de venta fuera del flujo verifactu** - si la compañía tiene verifactu activo y se valida una factura de cliente (`out_invoice` / `out_refund`): - el diario debe tener verifactu activado. - si no lo tiene → error. - mensaje propuesto: > “no se pueden validar facturas de venta en un diario sin verifactu cuando la compañía tiene verifactu activado.” **sin modalidad “no verifactu” en el módulo base** - en odoo 16 (oca) solo contemplamos la modalidad “verifactu”. - toda factura emitida desde un diario de venta normal debe pasar por verifactu. este comportamiento evita:
- la emisión de facturas de “caja b”,
- inconsistencias en la traza verifactu,
- errores involuntarios por parte del usuario. módulo adicional oca (nuevo): gestión de **facturas importadas desde otros sif** la aeat, en la faq 10 (“importación de facturas desde otros sistemas”), especifica que pueden coexistir: - facturas emitidas por el sif del empresario (odoo), y - facturas emitidas por otro sif (delegado, del destinatario, sectorial…). estas facturas **no deben reenviarse a aeat ni reimprimirse con qr**, pero sí deben almacenarse indicando el **sif emisor original**. para cubrir estos escenarios, se propone un módulo adicional (p. `l10n_es_verifactu_oca_import`) con: ### a) nuevo modo de diario: **“diario de importación desde otro sif”** campo nuevo en `account.journal` (solo tipo `sale`): - `verifactu_import_journal = true` → el diario se usa para **registrar facturas emitidas por otro sif**, no por odoo. al activarlo:
- la opción verifactu del diario se desactiva (este diario no actúa como sif). - odoo no debe generar rf ni enviar nada a aeat para estas facturas. ### b) nuevos campos en la factura (`account.move`) para facturas en diarios de importación: - `external_sif_id` – identificador del sif original. - `external_sif_installation` – nº de instalación del sif original. - `external_rf_identifier` – identificador del rf original (si se tiene). - `is_external_invoice` (compute) – indica que es una factura importada. esto permite cumplir la trazabilidad prevista en la faq 10. ### c) restricciones: sin impresión ni envío para `is_external_invoice = true`: - no se permite **imprimir** la factura desde odoo. - no se permite **enviarla por email** desde odoo. la impresión y entrega al cliente ya la realizó el sif original. ### d) exclusión del flujo verifactu las facturas importadas: - no deben generar rf verifactu. - no entran en el hash encadenado. - no se seleccionan para envío a aeat. - pueden existir para contabilidad, libros de iva y modelos fiscales. --- # teclas 2 propuesta técnica ## 2.1. módulo base ### `account.journal`
- en `create` / `write`: - si `type == 'sale'` y verifactu está activo en la compañía: - forzar `verifactu = true` salvo que el módulo extra marque explícitamente el diario como `verifactu_import_journal`. - en `action_post`: - si es factura de cliente y: - diario es tipo `sale`, - verifactu está activo a nivel de compañia, - verifactu no activado en el diario - y **no** es diario de importación → error. módulo adicional `l10n_es_verifactu_oca_import` ### nuevos campos en `account.journal` al marcarlo: ### nuevos campos en `account.move` ### bloqueo de impresión y envío ### exclusión del flujo verifactu
en el método que prepara envíos: --- # teclas 3 beneficios - cumple estrictamente con verifactu y evita riesgos de “caja b”. - respeta la normativa sobre rf importados descrita en la faq 10. - permite a las empresas que trabajan con varios sif integrar facturas sin duplicidad en aeat. - mantiene una arquitectura modular: - el módulo base es seguro y normativo, - el módulo extra añade flexibilidad para quien realmente la necesita. vamos a empezar quitando la opción de desactivarlo, y luego se hace el módulo extra. si quieres ir con ello, adelante. estoy de acuerdo con desactivar la opción creo que si alguien realmente lo necesita habria que hacer otro módulo como decis. en todo caso... creo que podremos pensar en todo esto de forma más pausada, con el aplazamiento. como se suele decir: "para mear y no echar gota". estoy en shock. noticia del aplazamiento. [https://www.eleconomista.es/legal/noticias/13672020/12/25/hacienda-da-un-respiro-a-empresas-y-autonomos-y-retrasa-verifactu-a-2027.html](url) cuando este publicado en el boe, seguimos . ¿como quedó esto? verifactu sigue siendo obligatorio desde el verano pasado para la gente que empiece a usar el sif . sí, odoo cuenta con veri*factu. otra cosa es que no se active hasta que no haga falta.

# Entrada procesada 2026-02-09T14:14:21.165321 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:21.166210 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:21.168823 UTC
text | es | revisa por favor las discusiones que hay en este repositorio donde ya se ha preguntado y contestado.
text | es | cierro al no ser una issue del código.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: revisa por favor las discusiones que hay en este repositorio donde ya se ha preguntado y contestado. cierro al no ser una issue del código.
__Recursividad__
text | es | revisa por favor las discusiones que hay en este repositorio donde ya se ha preguntado y contestado.
text | es | cierro al no ser una issue del código.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: revisa por favor las discusiones que hay en este repositorio donde ya se ha preguntado y contestado. cierro al no ser una issue del código.

# Entrada procesada 2026-02-09T14:14:21.190303 UTC
text | es | hola @ivilata cuando realizas un restore con el neutralice todos los cron deberían quedar desactivados, por lo tanto revisa que el de veri*factu se queda de esa manera, esto te garantiza que no se envía nada.
code | code | .
text | es | es lo que comenta mario.
text | und | cierro.
code | code | .
text | es | ¡gracias @syci y @pedrobaeza!
text | es | he vuelto a realizar la prueba reimportando la bdd como neutralizada (antes también lo estaba), y esta vez las tareas de cron no se han ejecutado.
text | es | creo que durante mis pruebas, como reinstalé el módulo de veri*factu sobre la bdd neutralizada, tal vez se volvió a crear o actualizar la tarea, activa esta vez.
text | es | imagino que es el comportamiento esperado en este caso, así que nada.
text | es | gracias de nuevo y disculpad por el ruido.
text | es | cara sonriendo ligeramente
Detalles: total_items: 11 | code_items: 2 | spanish_items: 8 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | .
recomposed_text: hola @ivilata cuando realizas un restore con el neutralice todos los cron deberían quedar desactivados, por lo tanto revisa que el de veri*factu se queda de esa manera, esto te garantiza que no se envía nada. es lo que comenta mario. cierro. ¡gracias @syci y @pedrobaeza! he vuelto a realizar la prueba reimportando la bdd como neutralizada (antes también lo estaba), y esta vez las tareas de cron no se han ejecutado. creo que durante mis pruebas, como reinstalé el módulo de veri*factu sobre la bdd neutralizada, tal vez se volvió a crear o actualizar la tarea, activa esta vez. imagino que es el comportamiento esperado en este caso, así que nada. gracias de nuevo y disculpad por el ruido. cara sonriendo ligeramente
__Recursividad__
text | es | hola @ivilata cuando realizas un restore con el neutralice todos los cron deberían quedar desactivados, por lo tanto revisa que el de veri*factu se queda de esa manera, esto te garantiza que no se envía nada.
text | es | es lo que comenta mario.
text | und | cierro.
text | es | ¡gracias @syci y @pedrobaeza!
text | es | he vuelto a realizar la prueba reimportando la bdd como neutralizada (antes también lo estaba), y esta vez las tareas de cron no se han ejecutado.
text | es | creo que durante mis pruebas, como reinstalé el módulo de veri*factu sobre la bdd neutralizada, tal vez se volvió a crear o actualizar la tarea, activa esta vez.
text | es | imagino que es el comportamiento esperado en este caso, así que nada.
text | es | gracias de nuevo y disculpad por el ruido.
text | es | cara sonriendo ligeramente
Detalles: total_items: 9 | code_items: 0 | spanish_items: 8 | english_items: 0
Dato borrado: text | und | cierro.
recomposed_text: hola @ivilata cuando realizas un restore con el neutralice todos los cron deberían quedar desactivados, por lo tanto revisa que el de veri*factu se queda de esa manera, esto te garantiza que no se envía nada. es lo que comenta mario. ¡gracias @syci y @pedrobaeza! he vuelto a realizar la prueba reimportando la bdd como neutralizada (antes también lo estaba), y esta vez las tareas de cron no se han ejecutado. creo que durante mis pruebas, como reinstalé el módulo de veri*factu sobre la bdd neutralizada, tal vez se volvió a crear o actualizar la tarea, activa esta vez. imagino que es el comportamiento esperado en este caso, así que nada. gracias de nuevo y disculpad por el ruido. cara sonriendo ligeramente

# Entrada procesada 2026-02-09T14:14:21.224345 UTC
text | es | si hay que hacer algún fix o improvement podría ponerme yo misma.
text | es | @pedrobaeza @almumu .
text | es | habría que marcar la casilla de simplificada en el contacto, sí.
text | es | creo que poner que haga eso automático podría ser algo arriesgado, ¿no creéis? .
text | es | sí, me parece bien que se haga de forma manual, así tenemos más control.
text | es | ¡mil gracias @pedrobaeza!
text | es | cierro la issue.
Detalles: total_items: 7 | code_items: 0 | spanish_items: 7 | english_items: 0
recomposed_text: si hay que hacer algún fix o improvement podría ponerme yo misma. @pedrobaeza @almumu . habría que marcar la casilla de simplificada en el contacto, sí. creo que poner que haga eso automático podría ser algo arriesgado, ¿no creéis? . sí, me parece bien que se haga de forma manual, así tenemos más control. ¡mil gracias @pedrobaeza! cierro la issue.
__Recursividad__
text | es | si hay que hacer algún fix o improvement podría ponerme yo misma.
text | es | @pedrobaeza @almumu .
text | es | habría que marcar la casilla de simplificada en el contacto, sí.
text | es | creo que poner que haga eso automático podría ser algo arriesgado, ¿no creéis? .
text | es | sí, me parece bien que se haga de forma manual, así tenemos más control.
text | es | ¡mil gracias @pedrobaeza!
text | es | cierro la issue.
Detalles: total_items: 7 | code_items: 0 | spanish_items: 7 | english_items: 0
recomposed_text: si hay que hacer algún fix o improvement podría ponerme yo misma. @pedrobaeza @almumu . habría que marcar la casilla de simplificada en el contacto, sí. creo que poner que haga eso automático podría ser algo arriesgado, ¿no creéis? . sí, me parece bien que se haga de forma manual, así tenemos más control. ¡mil gracias @pedrobaeza! cierro la issue.

# Entrada procesada 2026-02-09T14:14:21.249168 UTC
text | es | las correcciones se pueden hacer en asientos manuales, por ejemplo:
se hicieron 5 facturas de 1000 euros en la cuenta 705000 cuando debía haber sido 700000.
text | es | se hace un asiento manual 5000€ 705000 a 700000 5000€ y queda mas robusto el verifactu siendo inmodificable .
text | es | efectivamente, ése sería el procedimiento.
code | code | .
text | es | gracias
Detalles: total_items: 5 | code_items: 1 | spanish_items: 4 | english_items: 0
Dato borrado: code | code | .
recomposed_text: las correcciones se pueden hacer en asientos manuales, por ejemplo:
se hicieron 5 facturas de 1000 euros en la cuenta 705000 cuando debía haber sido 700000. se hace un asiento manual 5000€ 705000 a 700000 5000€ y queda mas robusto el verifactu siendo inmodificable . efectivamente, ése sería el procedimiento. gracias
__Recursividad__
text | es | las correcciones se pueden hacer en asientos manuales, por ejemplo:
se hicieron 5 facturas de 1000 euros en la cuenta 705000 cuando debía haber sido 700000.
text | es | se hace un asiento manual 5000€ 705000 a 700000 5000€ y queda mas robusto el verifactu siendo inmodificable .
text | es | efectivamente, ése sería el procedimiento.
text | es | gracias
Detalles: total_items: 4 | code_items: 0 | spanish_items: 4 | english_items: 0
recomposed_text: las correcciones se pueden hacer en asientos manuales, por ejemplo:
se hicieron 5 facturas de 1000 euros en la cuenta 705000 cuando debía haber sido 700000. se hace un asiento manual 5000€ 705000 a 700000 5000€ y queda mas robusto el verifactu siendo inmodificable . efectivamente, ése sería el procedimiento. gracias

# Entrada procesada 2026-02-09T14:14:21.270616 UTC
code | code | probablemente este cambio también afecte a verifactu, o a otros módulos que llamen a la función _get_aeat_tax_info
https://github.com/oca/l10n-spain/blob/3df1c7be67052c5ec7fe8b599f4860ae951750c8/l10n_es_verifactu_oca/models/account_move.py#l371 .
text | und | @pedrobaeza .
code | code | esto podría ser una posible solución https://github.com/oca/l10n-spain/pull/4606
Detalles: total_items: 3 | code_items: 2 | spanish_items: 0 | english_items: 0
Dato borrado: code | code | probablemente este cambio también afecte a verifactu, o a otros módulos que llamen a la función _get_aeat_tax_info
https://github.com/oca/l10n-spain/blob/3df1c7be67052c5ec7fe8b599f4860ae951750c8/l10n_es_verifactu_oca/models/account_move.py#l371 .
Dato borrado: code | code | esto podría ser una posible solución https://github.com/oca/l10n-spain/pull/4606
recomposed_text: @pedrobaeza .
__Recursividad__
text | und | @pedrobaeza .
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | @pedrobaeza .
recomposed_text:

# Entrada procesada 2026-02-09T14:14:21.271364 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:21.272053 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:21.276643 UTC
text | es | a mi me salió en la 16 el mismo error, tuve que actualizar el bank-statement-import y luego el account_statement_input_file eso es porque no existe como dices, pero no es solo al completo.
code | code | .
text | und | efectivamente.
text | es | tenéis que actualizar todo el código fuente a la vez.
text | es | no se pueden actualizar unos repositorios sí, y otro no.
text | es | cierro porque no existe realmente el error.
text | es | es un problema de despliegue.
Detalles: total_items: 7 | code_items: 1 | spanish_items: 5 | english_items: 0
Dato borrado: code | code | .
recomposed_text: a mi me salió en la 16 el mismo error, tuve que actualizar el bank-statement-import y luego el account_statement_input_file eso es porque no existe como dices, pero no es solo al completo. efectivamente. tenéis que actualizar todo el código fuente a la vez. no se pueden actualizar unos repositorios sí, y otro no. cierro porque no existe realmente el error. es un problema de despliegue.
__Recursividad__
text | es | a mi me salió en la 16 el mismo error, tuve que actualizar el bank-statement-import y luego el account_statement_input_file eso es porque no existe como dices, pero no es solo al completo.
text | und | efectivamente.
text | es | tenéis que actualizar todo el código fuente a la vez.
text | es | no se pueden actualizar unos repositorios sí, y otro no.
text | es | cierro porque no existe realmente el error.
text | es | es un problema de despliegue.
Detalles: total_items: 6 | code_items: 0 | spanish_items: 5 | english_items: 0
Dato borrado: text | und | efectivamente.
recomposed_text: a mi me salió en la 16 el mismo error, tuve que actualizar el bank-statement-import y luego el account_statement_input_file eso es porque no existe como dices, pero no es solo al completo. tenéis que actualizar todo el código fuente a la vez. no se pueden actualizar unos repositorios sí, y otro no. cierro porque no existe realmente el error. es un problema de despliegue.

# Entrada procesada 2026-02-09T14:14:21.294714 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:21.308736 UTC
text | es | hola, ¿has actualizado también el módulo dentro del propio odoo, o solo has actualizado el código? .
text | es | buenos días pedro, ¿a que te refieres?
text | es | he actualizado el modulo con todas sus dependencias :
-l10n_es_verifactu_oca
-l10n_es_aeat
-account_tax_balance
-date_range
-account_invoice_refund_link estos son los módulos que actualice y posteriormente actualice por interfaz...
text | es | si modifico el código si que me va: original (no va)
code | code | python def reverse_moves(self): res = super().reverse_moves() self.move_ids.filtered(lambda mov: mov.move_type == "out_invoice").mapped( "reversal_move_id" ).write({"verifactu_refund_type": "i"}) return res
text | es | modificado (si va)
code | code | python def refund_moves(self): return self.reverse_moves()
text | es | lo he dejado con el código original..
text | es | ya me dices algo cuándo puedas y mil gracias pedro.
code | code | .
text | es | @alvrico esto último que envías no sé qué tiene que ver con lo primero que pusiste, porque este código que pones es para cuando haces una rectificativa.
code | code | .
text | es | buenas pedro, me he liado con otro problema que tenia...
text | es | lo que he actualizado ha sido esto: buenos días pedro, ¿a que te refieres?
text | es | he actualizado el modulo con todas sus dependencias :
-l10n_es_verifactu_oca
-l10n_es_aeat
-account_tax_balance
-date_range
-account_invoice_refund_link estos son los módulos que actualice y posteriormente actualice por interfaz...
text | es | no se si sabrás porque me pasa..
text | es | y perdona que me he liado con otro problema que me ha surgido .
text | es | ahora mismo la verdad es que no sabría decirte, porque no es un error "normal".
text | es | prueba a instalar el módulo en una instancia limpia a ver.
code | code | .
text | es | buenas pedro, por arte de magia ya funciona..
text | es | va todo perfecto..
text | es | mil gracias de nuevo
Detalles: total_items: 23 | code_items: 5 | spanish_items: 18 | english_items: 0
Dato borrado: code | code | python def reverse_moves(self): res = super().reverse_moves() self.move_ids.filtered(lambda mov: mov.move_type == "out_invoice").mapped( "reversal_move_id" ).write({"verifactu_refund_type": "i"}) return res
Dato borrado: code | code | python def refund_moves(self): return self.reverse_moves()
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
recomposed_text: hola, ¿has actualizado también el módulo dentro del propio odoo, o solo has actualizado el código? . buenos días pedro, ¿a que te refieres? he actualizado el modulo con todas sus dependencias :
-l10n_es_verifactu_oca
-l10n_es_aeat
-account_tax_balance
-date_range
-account_invoice_refund_link estos son los módulos que actualice y posteriormente actualice por interfaz... si modifico el código si que me va: original (no va) modificado (si va) lo he dejado con el código original.. ya me dices algo cuándo puedas y mil gracias pedro. @alvrico esto último que envías no sé qué tiene que ver con lo primero que pusiste, porque este código que pones es para cuando haces una rectificativa. buenas pedro, me he liado con otro problema que tenia... lo que he actualizado ha sido esto: buenos días pedro, ¿a que te refieres? he actualizado el modulo con todas sus dependencias :
-l10n_es_verifactu_oca
-l10n_es_aeat
-account_tax_balance
-date_range
-account_invoice_refund_link estos son los módulos que actualice y posteriormente actualice por interfaz... no se si sabrás porque me pasa.. y perdona que me he liado con otro problema que me ha surgido . ahora mismo la verdad es que no sabría decirte, porque no es un error "normal". prueba a instalar el módulo en una instancia limpia a ver. buenas pedro, por arte de magia ya funciona.. va todo perfecto.. mil gracias de nuevo
__Recursividad__
text | es | hola, ¿has actualizado también el módulo dentro del propio odoo, o solo has actualizado el código? .
text | es | buenos días pedro, ¿a que te refieres?
text | es | he actualizado el modulo con todas sus dependencias :
-l10n_es_verifactu_oca
-l10n_es_aeat
-account_tax_balance
-date_range
-account_invoice_refund_link estos son los módulos que actualice y posteriormente actualice por interfaz...
text | es | si modifico el código si que me va: original (no va) modificado (si va) lo he dejado con el código original..
text | es | ya me dices algo cuándo puedas y mil gracias pedro.
text | es | @alvrico esto último que envías no sé qué tiene que ver con lo primero que pusiste, porque este código que pones es para cuando haces una rectificativa.
text | es | buenas pedro, me he liado con otro problema que tenia...
text | es | lo que he actualizado ha sido esto: buenos días pedro, ¿a que te refieres?
text | es | he actualizado el modulo con todas sus dependencias :
-l10n_es_verifactu_oca
-l10n_es_aeat
-account_tax_balance
-date_range
-account_invoice_refund_link estos son los módulos que actualice y posteriormente actualice por interfaz...
text | es | no se si sabrás porque me pasa..
text | es | y perdona que me he liado con otro problema que me ha surgido .
text | es | ahora mismo la verdad es que no sabría decirte, porque no es un error "normal".
text | es | prueba a instalar el módulo en una instancia limpia a ver.
text | es | buenas pedro, por arte de magia ya funciona..
text | es | va todo perfecto..
text | es | mil gracias de nuevo
Detalles: total_items: 16 | code_items: 0 | spanish_items: 16 | english_items: 0
recomposed_text: hola, ¿has actualizado también el módulo dentro del propio odoo, o solo has actualizado el código? . buenos días pedro, ¿a que te refieres? he actualizado el modulo con todas sus dependencias :
-l10n_es_verifactu_oca
-l10n_es_aeat
-account_tax_balance
-date_range
-account_invoice_refund_link estos son los módulos que actualice y posteriormente actualice por interfaz... si modifico el código si que me va: original (no va) modificado (si va) lo he dejado con el código original.. ya me dices algo cuándo puedas y mil gracias pedro. @alvrico esto último que envías no sé qué tiene que ver con lo primero que pusiste, porque este código que pones es para cuando haces una rectificativa. buenas pedro, me he liado con otro problema que tenia... lo que he actualizado ha sido esto: buenos días pedro, ¿a que te refieres? he actualizado el modulo con todas sus dependencias :
-l10n_es_verifactu_oca
-l10n_es_aeat
-account_tax_balance
-date_range
-account_invoice_refund_link estos son los módulos que actualice y posteriormente actualice por interfaz... no se si sabrás porque me pasa.. y perdona que me he liado con otro problema que me ha surgido . ahora mismo la verdad es que no sabría decirte, porque no es un error "normal". prueba a instalar el módulo en una instancia limpia a ver. buenas pedro, por arte de magia ya funciona.. va todo perfecto.. mil gracias de nuevo

__Corrector Ortográfico__2026-02-09T14:14:21.308736
'modificaco' se corrige por 'modificado'
'qeu' se corrige por 'que'

# Entrada procesada 2026-02-09T14:14:21.354307 UTC
text | es | cierro porque ya se está tratando en el pr y esto añade ruido.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: cierro porque ya se está tratando en el pr y esto añade ruido.
__Recursividad__
text | es | cierro porque ya se está tratando en el pr y esto añade ruido.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: cierro porque ya se está tratando en el pr y esto añade ruido.

# Entrada procesada 2026-02-09T14:14:21.363594 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:21.371022 UTC
text | es | tu odoo no debe estar totalmente actualizado.
text | es | descárgate el último código de todo, y actualiza los módulos en tu bd.
text | es | cierro por ser una cuestión de despliegue, no del módulo en si.
code | code | .
text | es | eso es lo que me pregunto, está completamente actualizado.
code | code | .
text | es | prueba en el [runboat de 16.0 de oca/l10n-spain](https://runboat.odoo-community.org/builds?repo=oca/l10n-spain&target_branch=16.0) si eres capaz de reproducir el problema.
code | code | .
text | es | tenias razón, fallo de despliegue, no recuerdo y no se porque motivo tenia dos carpetas de addons diferente path, mismo contenido, actualicé el contenido del modulo de igic, pero no de la ubicación correcta.
text | es | muchas gracias.
text | und | solucionado.
Detalles: total_items: 11 | code_items: 3 | spanish_items: 7 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
recomposed_text: tu odoo no debe estar totalmente actualizado. descárgate el último código de todo, y actualiza los módulos en tu bd. cierro por ser una cuestión de despliegue, no del módulo en si. eso es lo que me pregunto, está completamente actualizado. prueba en el [runboat de 16.0 de oca/l10n-spain](https://runboat.odoo-community.org/builds?repo=oca/l10n-spain&target_branch=16.0) si eres capaz de reproducir el problema. tenias razón, fallo de despliegue, no recuerdo y no se porque motivo tenia dos carpetas de addons diferente path, mismo contenido, actualicé el contenido del modulo de igic, pero no de la ubicación correcta. muchas gracias. solucionado.
__Recursividad__
text | es | tu odoo no debe estar totalmente actualizado.
text | es | descárgate el último código de todo, y actualiza los módulos en tu bd.
text | es | cierro por ser una cuestión de despliegue, no del módulo en si.
text | es | eso es lo que me pregunto, está completamente actualizado.
text | es | prueba en el [runboat de 16.0 de oca/l10n-spain](https://runboat.odoo-community.org/builds?repo=oca/l10n-spain&target_branch=16.0) si eres capaz de reproducir el problema.
text | es | tenias razón, fallo de despliegue, no recuerdo y no se porque motivo tenia dos carpetas de addons diferente path, mismo contenido, actualicé el contenido del modulo de igic, pero no de la ubicación correcta.
text | es | muchas gracias.
text | und | solucionado.
Detalles: total_items: 8 | code_items: 0 | spanish_items: 7 | english_items: 0
Dato borrado: text | und | solucionado.
recomposed_text: tu odoo no debe estar totalmente actualizado. descárgate el último código de todo, y actualiza los módulos en tu bd. cierro por ser una cuestión de despliegue, no del módulo en si. eso es lo que me pregunto, está completamente actualizado. prueba en el [runboat de 16.0 de oca/l10n-spain](https://runboat.odoo-community.org/builds?repo=oca/l10n-spain&target_branch=16.0) si eres capaz de reproducir el problema. tenias razón, fallo de despliegue, no recuerdo y no se porque motivo tenia dos carpetas de addons diferente path, mismo contenido, actualicé el contenido del modulo de igic, pero no de la ubicación correcta. muchas gracias.

# Entrada procesada 2026-02-09T14:14:21.402043 UTC
text | es | el error que obtengo es: codigo[20009].error interno en el servidor .
text | es | tiene toda la pinta de ser un problema de la propia aeat.
code | code | .
text | es | cierro por falta de respuesta.
Detalles: total_items: 4 | code_items: 1 | spanish_items: 3 | english_items: 0
Dato borrado: code | code | .
recomposed_text: el error que obtengo es: codigo[20009].error interno en el servidor . tiene toda la pinta de ser un problema de la propia aeat. cierro por falta de respuesta.
__Recursividad__
text | es | el error que obtengo es: codigo[20009].error interno en el servidor .
text | es | tiene toda la pinta de ser un problema de la propia aeat.
text | es | cierro por falta de respuesta.
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: el error que obtengo es: codigo[20009].error interno en el servidor . tiene toda la pinta de ser un problema de la propia aeat. cierro por falta de respuesta.

# Entrada procesada 2026-02-09T14:14:21.414864 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:21.420862 UTC
text | es | has seleccionado la versión 3.2.2 en el formato de facturae? .
text | es | buenas gracias por tu pronta respuesta.
text | es | he probado las 3 versiones posibles y sigue igual.
code | code | .
text | es | yo hice una factura hace una semana con el módulo y lo subí a face sin tener ningún problema.
text | es | ¿por qué no la subes directamente a ver? .
text | es | la he firmado con odoo y he probado a subirla.
text | es | he probado añadiendo y quitando el es delante del dni de la compañia.
text | es | 6 - 447 - el dni del emisor es incorrecto
Detalles: total_items: 9 | code_items: 1 | spanish_items: 8 | english_items: 0
Dato borrado: code | code | .
recomposed_text: has seleccionado la versión 3.2.2 en el formato de facturae? . buenas gracias por tu pronta respuesta. he probado las 3 versiones posibles y sigue igual. yo hice una factura hace una semana con el módulo y lo subí a face sin tener ningún problema. ¿por qué no la subes directamente a ver? . la he firmado con odoo y he probado a subirla. he probado añadiendo y quitando el es delante del dni de la compañia. 6 - 447 - el dni del emisor es incorrecto
__Recursividad__
text | es | has seleccionado la versión 3.2.2 en el formato de facturae? .
text | es | buenas gracias por tu pronta respuesta.
text | es | he probado las 3 versiones posibles y sigue igual.
text | es | yo hice una factura hace una semana con el módulo y lo subí a face sin tener ningún problema.
text | es | ¿por qué no la subes directamente a ver? .
text | es | la he firmado con odoo y he probado a subirla.
text | es | he probado añadiendo y quitando el es delante del dni de la compañia.
text | es | 6 - 447 - el dni del emisor es incorrecto
Detalles: total_items: 8 | code_items: 0 | spanish_items: 8 | english_items: 0
recomposed_text: has seleccionado la versión 3.2.2 en el formato de facturae? . buenas gracias por tu pronta respuesta. he probado las 3 versiones posibles y sigue igual. yo hice una factura hace una semana con el módulo y lo subí a face sin tener ningún problema. ¿por qué no la subes directamente a ver? . la he firmado con odoo y he probado a subirla. he probado añadiendo y quitando el es delante del dni de la compañia. 6 - 447 - el dni del emisor es incorrecto

# Entrada procesada 2026-02-09T14:14:21.449779 UTC
text | es | el tema es tener que depender del módulo `hr`.
text | es | creo que el modelo 190 tendría que tener un grupo específico de seguridad, pero no para toda la pestaña, si no para esos datos.
code | code | .
code | code | ¿valdría el grupo que se usó en https://github.com/oca/l10n-spain/pull/3692? .
text | es | sí, coincido en que crear un grupo de seguridad específico para los campos sensibles del modelo 190 es una opción más práctica.
text | es | evitará depender completamente del módulo hr.employee y también permitirá que esta pestaña sea accesible para los usuarios con este permiso.
text | es | ¿cómo lo véis @rafaelbn y @emiliopascual ? .
text | es | más que la pestaña, esos campos dentro de la pestaña.
text | es | no se puede limitar la pestaña completa a la aeat o a este nuevo grupo, porque ahí hay campos que pueden necesitar cambiar otros perfiles (como la identificación o si es simplificado).
code | code | .
code | code | podéis revisar https://github.com/oca/l10n-spain/pull/4512 con el fix.
Detalles: total_items: 11 | code_items: 4 | spanish_items: 7 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | ¿valdría el grupo que se usó en https://github.com/oca/l10n-spain/pull/3692? .
Dato borrado: code | code | .
Dato borrado: code | code | podéis revisar https://github.com/oca/l10n-spain/pull/4512 con el fix.
recomposed_text: el tema es tener que depender del módulo `hr`. creo que el modelo 190 tendría que tener un grupo específico de seguridad, pero no para toda la pestaña, si no para esos datos. sí, coincido en que crear un grupo de seguridad específico para los campos sensibles del modelo 190 es una opción más práctica. evitará depender completamente del módulo hr.employee y también permitirá que esta pestaña sea accesible para los usuarios con este permiso. ¿cómo lo véis @rafaelbn y @emiliopascual ? . más que la pestaña, esos campos dentro de la pestaña. no se puede limitar la pestaña completa a la aeat o a este nuevo grupo, porque ahí hay campos que pueden necesitar cambiar otros perfiles (como la identificación o si es simplificado).
__Recursividad__
text | es | el tema es tener que depender del módulo `hr`.
text | es | creo que el modelo 190 tendría que tener un grupo específico de seguridad, pero no para toda la pestaña, si no para esos datos.
text | es | sí, coincido en que crear un grupo de seguridad específico para los campos sensibles del modelo 190 es una opción más práctica.
text | es | evitará depender completamente del módulo hr.employee y también permitirá que esta pestaña sea accesible para los usuarios con este permiso.
text | es | ¿cómo lo véis @rafaelbn y @emiliopascual ? .
text | es | más que la pestaña, esos campos dentro de la pestaña.
text | es | no se puede limitar la pestaña completa a la aeat o a este nuevo grupo, porque ahí hay campos que pueden necesitar cambiar otros perfiles (como la identificación o si es simplificado).
Detalles: total_items: 7 | code_items: 0 | spanish_items: 7 | english_items: 0
recomposed_text: el tema es tener que depender del módulo `hr`. creo que el modelo 190 tendría que tener un grupo específico de seguridad, pero no para toda la pestaña, si no para esos datos. sí, coincido en que crear un grupo de seguridad específico para los campos sensibles del modelo 190 es una opción más práctica. evitará depender completamente del módulo hr.employee y también permitirá que esta pestaña sea accesible para los usuarios con este permiso. ¿cómo lo véis @rafaelbn y @emiliopascual ? . más que la pestaña, esos campos dentro de la pestaña. no se puede limitar la pestaña completa a la aeat o a este nuevo grupo, porque ahí hay campos que pueden necesitar cambiar otros perfiles (como la identificación o si es simplificado).

# Entrada procesada 2026-02-09T14:14:21.488478 UTC
text | es | no creo que sea de multi-empresa, si no de que tu diario no tiene marcado para utilizar el hash seguro.
text | es | revisa eso, y si no, lo más sencillo es desmarcar y volver a marcar lo de habilitar veri*factu.
code | code | .
text | es | lo probaré, gracias.
code | code | .
text | es | buenas, es cierto que funciona así.
text | es | hemos desactivado y activado en el diario de habilitar veri*factu y si funciona.
text | es | como no lo pone en ningún sitio y es poco intuitivo al ver un error hemos pensado en que era un bug.
text | es | un saludo y gracias.
code | code | .
text | es | no, a ver, realmente se puede considerar un bug.
text | es | la cuestión es dar con los pasos exactos que llevan al mismo, y por el momento, no lo hemos conseguido.
code | code | esto fue reportado también en https://github.com/oca/l10n-spain/pull/4399#issuecomment-3368924524, pero lo dicho, no consigo reproducirlo.
code | code | .
text | es | no se si es por la multicompañía, pero me ha dado la pista para reproducirlo.
text | es | pasa cuando configuras verifactu desde otra compañía como admin.
text | es | los pasos que he seguido en runboat, con el usuario admin estando seleccionada la compañía "san francisco", accedo a la configuración de la compañía es, activo y configuro verifactu.
text | es | luego voy a las facturas, cambio la compañía y hago una factura.
text | es | al validarla da el error.
text | es | si configuro verifactu habiendo cambiado previamente a la compañía "es" no da ese error.
Detalles: total_items: 20 | code_items: 5 | spanish_items: 15 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | esto fue reportado también en https://github.com/oca/l10n-spain/pull/4399#issuecomment-3368924524, pero lo dicho, no consigo reproducirlo.
Dato borrado: code | code | .
recomposed_text: no creo que sea de multi-empresa, si no de que tu diario no tiene marcado para utilizar el hash seguro. revisa eso, y si no, lo más sencillo es desmarcar y volver a marcar lo de habilitar veri*factu. lo probaré, gracias. buenas, es cierto que funciona así. hemos desactivado y activado en el diario de habilitar veri*factu y si funciona. como no lo pone en ningún sitio y es poco intuitivo al ver un error hemos pensado en que era un bug. un saludo y gracias. no, a ver, realmente se puede considerar un bug. la cuestión es dar con los pasos exactos que llevan al mismo, y por el momento, no lo hemos conseguido. no se si es por la multicompañía, pero me ha dado la pista para reproducirlo. pasa cuando configuras verifactu desde otra compañía como admin. los pasos que he seguido en runboat, con el usuario admin estando seleccionada la compañía "san francisco", accedo a la configuración de la compañía es, activo y configuro verifactu. luego voy a las facturas, cambio la compañía y hago una factura. al validarla da el error. si configuro verifactu habiendo cambiado previamente a la compañía "es" no da ese error.
__Recursividad__
text | es | no creo que sea de multi-empresa, si no de que tu diario no tiene marcado para utilizar el hash seguro.
text | es | revisa eso, y si no, lo más sencillo es desmarcar y volver a marcar lo de habilitar veri*factu.
text | es | lo probaré, gracias.
text | es | buenas, es cierto que funciona así.
text | es | hemos desactivado y activado en el diario de habilitar veri*factu y si funciona.
text | es | como no lo pone en ningún sitio y es poco intuitivo al ver un error hemos pensado en que era un bug.
text | es | un saludo y gracias.
text | es | no, a ver, realmente se puede considerar un bug.
text | es | la cuestión es dar con los pasos exactos que llevan al mismo, y por el momento, no lo hemos conseguido.
text | es | no se si es por la multicompañía, pero me ha dado la pista para reproducirlo.
text | es | pasa cuando configuras verifactu desde otra compañía como admin.
text | es | los pasos que he seguido en runboat, con el usuario admin estando seleccionada la compañía "san francisco", accedo a la configuración de la compañía es, activo y configuro verifactu.
text | es | luego voy a las facturas, cambio la compañía y hago una factura.
text | es | al validarla da el error.
text | es | si configuro verifactu habiendo cambiado previamente a la compañía "es" no da ese error.
Detalles: total_items: 15 | code_items: 0 | spanish_items: 15 | english_items: 0
recomposed_text: no creo que sea de multi-empresa, si no de que tu diario no tiene marcado para utilizar el hash seguro. revisa eso, y si no, lo más sencillo es desmarcar y volver a marcar lo de habilitar veri*factu. lo probaré, gracias. buenas, es cierto que funciona así. hemos desactivado y activado en el diario de habilitar veri*factu y si funciona. como no lo pone en ningún sitio y es poco intuitivo al ver un error hemos pensado en que era un bug. un saludo y gracias. no, a ver, realmente se puede considerar un bug. la cuestión es dar con los pasos exactos que llevan al mismo, y por el momento, no lo hemos conseguido. no se si es por la multicompañía, pero me ha dado la pista para reproducirlo. pasa cuando configuras verifactu desde otra compañía como admin. los pasos que he seguido en runboat, con el usuario admin estando seleccionada la compañía "san francisco", accedo a la configuración de la compañía es, activo y configuro verifactu. luego voy a las facturas, cambio la compañía y hago una factura. al validarla da el error. si configuro verifactu habiendo cambiado previamente a la compañía "es" no da ese error.

# Entrada procesada 2026-02-09T14:14:21.528591 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:21.534320 UTC
text | es | nos ocurre lo mismo.
code | code | la solución ha sido modificar la definición de la función quedando así: def reverse_moves(self, is_modify=false) este módulo al heredar de account_invoice_refund_link que en su rama 16.0 esta definido como:
https://github.com/oca/account-invoicing/blob/d0f39d06b2a703100feb3b5374652e802f802df4/account_invoice_refund_link/wizards/account_move_reversal.py#l10
mientras que en la rama 17.0:
https://github.com/oca/account-invoicing/blob/e34d6cfa741003d4668c4b8325782ea8798612b4/account_invoice_refund_link/wizards/account_move_reversal.py#l10 .
text | es | sí, disculpad.
text | es | esta tarde subo parche.
code | code | .
text | es | también, en cuanto a las facturas rectificativas, hemos detectado que al crear una directamente desde su menú "facturas rectificativas", sin revertir desde la factura de cargo, esta no se envía.
text | es | lo mismo es algo de configuración que no hemos tenido en cuenta y no es el hilo adecuado, pero hago el comentario por si está relacionado.
code | code | .
text | es | arreglado en #4470
Detalles: total_items: 9 | code_items: 3 | spanish_items: 6 | english_items: 0
Dato borrado: code | code | la solución ha sido modificar la definición de la función quedando así: def reverse_moves(self, is_modify=false) este módulo al heredar de account_invoice_refund_link que en su rama 16.0 esta definido como:
https://github.com/oca/account-invoicing/blob/d0f39d06b2a703100feb3b5374652e802f802df4/account_invoice_refund_link/wizards/account_move_reversal.py#l10
mientras que en la rama 17.0:
https://github.com/oca/account-invoicing/blob/e34d6cfa741003d4668c4b8325782ea8798612b4/account_invoice_refund_link/wizards/account_move_reversal.py#l10 .
Dato borrado: code | code | .
Dato borrado: code | code | .
recomposed_text: nos ocurre lo mismo. sí, disculpad. esta tarde subo parche. también, en cuanto a las facturas rectificativas, hemos detectado que al crear una directamente desde su menú "facturas rectificativas", sin revertir desde la factura de cargo, esta no se envía. lo mismo es algo de configuración que no hemos tenido en cuenta y no es el hilo adecuado, pero hago el comentario por si está relacionado. arreglado en #4470
__Recursividad__
text | es | nos ocurre lo mismo.
text | es | sí, disculpad.
text | es | esta tarde subo parche.
text | es | también, en cuanto a las facturas rectificativas, hemos detectado que al crear una directamente desde su menú "facturas rectificativas", sin revertir desde la factura de cargo, esta no se envía.
text | es | lo mismo es algo de configuración que no hemos tenido en cuenta y no es el hilo adecuado, pero hago el comentario por si está relacionado.
text | es | arreglado en #4470
Detalles: total_items: 6 | code_items: 0 | spanish_items: 6 | english_items: 0
recomposed_text: nos ocurre lo mismo. sí, disculpad. esta tarde subo parche. también, en cuanto a las facturas rectificativas, hemos detectado que al crear una directamente desde su menú "facturas rectificativas", sin revertir desde la factura de cargo, esta no se envía. lo mismo es algo de configuración que no hemos tenido en cuenta y no es el hilo adecuado, pero hago el comentario por si está relacionado. arreglado en #4470

# Entrada procesada 2026-02-09T14:14:21.554004 UTC
text | es | cubierto con #4565
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: cubierto con #4565
__Recursividad__
text | es | cubierto con #4565
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: cubierto con #4565

# Entrada procesada 2026-02-09T14:14:21.561822 UTC
text | es | ya he podido solucionarlo, cierro.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: ya he podido solucionarlo, cierro.
__Recursividad__
text | es | ya he podido solucionarlo, cierro.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: ya he podido solucionarlo, cierro.

# Entrada procesada 2026-02-09T14:14:21.571951 UTC
code | code | ¿incluimos también columna de periodo de deducción para que se incluya la fecha contable? <img width="1461" height="562" alt="image" src="https://github.com/user-attachments/assets/1bd6a948-e760-4cb6-9d19-c861ffc07cec" /> .
text | es | @albertcabedo va a financiar a @tecnativa para realizar esta mejora.
text | es | estará disponible próximamente.
code | code | .
text | es | implementado en #4709, y backports en camino.
Detalles: total_items: 5 | code_items: 2 | spanish_items: 3 | english_items: 0
Dato borrado: code | code | ¿incluimos también columna de periodo de deducción para que se incluya la fecha contable? <img width="1461" height="562" alt="image" src="https://github.com/user-attachments/assets/1bd6a948-e760-4cb6-9d19-c861ffc07cec" /> .
Dato borrado: code | code | .
recomposed_text: @albertcabedo va a financiar a @tecnativa para realizar esta mejora. estará disponible próximamente. implementado en #4709, y backports en camino.
__Recursividad__
text | es | @albertcabedo va a financiar a @tecnativa para realizar esta mejora.
text | es | estará disponible próximamente.
text | es | implementado en #4709, y backports en camino.
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: @albertcabedo va a financiar a @tecnativa para realizar esta mejora. estará disponible próximamente. implementado en #4709, y backports en camino.

# Entrada procesada 2026-02-09T14:14:21.583519 UTC
text | es | pon por favor dicho comentario en el pr abierto del módulo: #4378
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: pon por favor dicho comentario en el pr abierto del módulo: #4378
__Recursividad__
text | es | pon por favor dicho comentario en el pr abierto del módulo: #4378
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: pon por favor dicho comentario en el pr abierto del módulo: #4378

# Entrada procesada 2026-02-09T14:14:21.592307 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:21.593119 UTC
code | code | migrated at https://github.com/oca/l10n-spain/tree/18.0/l10n_es_aeat_sii_oss
Detalles: total_items: 1 | code_items: 1 | spanish_items: 0 | english_items: 0
Dato borrado: code | code | migrated at https://github.com/oca/l10n-spain/tree/18.0/l10n_es_aeat_sii_oss
recomposed_text:
__Recursividad__
Detalles: total_items: 0 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text:

# Entrada procesada 2026-02-09T14:14:21.594480 UTC
code | code | en 17 está implementado: https://github.com/oca/l10n-spain/blob/05f2dd44c1602af0d6d0256bca064693d1afd015/l10n_es_aeat_sii_oca/models/res_company.py#l58 .
code | code | https://github.com/oca/l10n-spain/pull/4436 .
text | es | ya está disponible en 16, 17 y 18.
Detalles: total_items: 3 | code_items: 2 | spanish_items: 1 | english_items: 0
Dato borrado: code | code | en 17 está implementado: https://github.com/oca/l10n-spain/blob/05f2dd44c1602af0d6d0256bca064693d1afd015/l10n_es_aeat_sii_oca/models/res_company.py#l58 .
Dato borrado: code | code | https://github.com/oca/l10n-spain/pull/4436 .
recomposed_text: ya está disponible en 16, 17 y 18.
__Recursividad__
text | es | ya está disponible en 16, 17 y 18.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: ya está disponible en 16, 17 y 18.

# Entrada procesada 2026-02-09T14:14:21.604405 UTC
text | es | edit: no sé por qué he leído sii.
text | es | efectivamente, habría que hacer el equivalente al del sii para oss.
code | code | .
code | code | creado pr https://github.com/oca/l10n-spain/pull/4500
Detalles: total_items: 4 | code_items: 2 | spanish_items: 2 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | creado pr https://github.com/oca/l10n-spain/pull/4500
recomposed_text: edit: no sé por qué he leído sii. efectivamente, habría que hacer el equivalente al del sii para oss.
__Recursividad__
text | es | edit: no sé por qué he leído sii.
text | es | efectivamente, habría que hacer el equivalente al del sii para oss.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: edit: no sé por qué he leído sii. efectivamente, habría que hacer el equivalente al del sii para oss.

# Entrada procesada 2026-02-09T14:14:21.615101 UTC
code | code | creado pr https://github.com/oca/l10n-spain/pull/4499 .
text | es | cierro como ya está el pr en marcha.
Detalles: total_items: 2 | code_items: 1 | spanish_items: 1 | english_items: 0
Dato borrado: code | code | creado pr https://github.com/oca/l10n-spain/pull/4499 .
recomposed_text: cierro como ya está el pr en marcha.
__Recursividad__
text | es | cierro como ya está el pr en marcha.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: cierro como ya está el pr en marcha.

# Entrada procesada 2026-02-09T14:14:21.624595 UTC
code | code | desarrollo en progreso https://github.com/oca/l10n-spain/pull/4548 .
text | es | hola, en la configuracion del modulo verifactu en la compañia debo poner datos de desarrollador, esta información donde la puedo buscar .
code | code | > hola, en la configuracion del modulo verifactu en la compañia debo poner datos de desarrollador, esta información donde la puedo buscar https://github.com/oca/l10n-spain/discussions/4451
Detalles: total_items: 3 | code_items: 2 | spanish_items: 1 | english_items: 0
Dato borrado: code | code | desarrollo en progreso https://github.com/oca/l10n-spain/pull/4548 .
Dato borrado: code | code | > hola, en la configuracion del modulo verifactu en la compañia debo poner datos de desarrollador, esta información donde la puedo buscar https://github.com/oca/l10n-spain/discussions/4451
recomposed_text: hola, en la configuracion del modulo verifactu en la compañia debo poner datos de desarrollador, esta información donde la puedo buscar .
__Recursividad__
text | es | hola, en la configuracion del modulo verifactu en la compañia debo poner datos de desarrollador, esta información donde la puedo buscar .
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: hola, en la configuracion del modulo verifactu en la compañia debo poner datos de desarrollador, esta información donde la puedo buscar .

__Corrector Ortográfico__2026-02-09T14:14:21.624595
'informacion' se corrige por 'información'
'informacion' se corrige por 'información'

# Entrada procesada 2026-02-09T14:14:21.635768 UTC
code | code | me pongo con este issue
https://github.com/oca/l10n-spain/pull/4429
Detalles: total_items: 1 | code_items: 1 | spanish_items: 0 | english_items: 0
Dato borrado: code | code | me pongo con este issue
https://github.com/oca/l10n-spain/pull/4429
recomposed_text:
__Recursividad__
Detalles: total_items: 0 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text:

# Entrada procesada 2026-02-09T14:14:21.638729 UTC
text | es | cierro issue puesto que las altas por rechazo son facturas que deben subsanarse al igual que las aceptadas con errores, es decir, una vez rechazada, no se enviaría automáticamente hasta que el usuario no la subsanar y le da al botón de reenviar desde la factura.
code | code | el problema es que el alta por rechazo no estaba funcionando correctamente, esto se soluciona en https://github.com/oca/l10n-spain/pull/4429
Detalles: total_items: 2 | code_items: 1 | spanish_items: 1 | english_items: 0
Dato borrado: code | code | el problema es que el alta por rechazo no estaba funcionando correctamente, esto se soluciona en https://github.com/oca/l10n-spain/pull/4429
recomposed_text: cierro issue puesto que las altas por rechazo son facturas que deben subsanarse al igual que las aceptadas con errores, es decir, una vez rechazada, no se enviaría automáticamente hasta que el usuario no la subsanar y le da al botón de reenviar desde la factura.
__Recursividad__
text | es | cierro issue puesto que las altas por rechazo son facturas que deben subsanarse al igual que las aceptadas con errores, es decir, una vez rechazada, no se enviaría automáticamente hasta que el usuario no la subsanar y le da al botón de reenviar desde la factura.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: cierro issue puesto que las altas por rechazo son facturas que deben subsanarse al igual que las aceptadas con errores, es decir, una vez rechazada, no se enviaría automáticamente hasta que el usuario no la subsanar y le da al botón de reenviar desde la factura.

__Corrector Ortográfico__2026-02-09T14:14:21.638729
'subsana' se corrige por 'subsanar'

# Entrada procesada 2026-02-09T14:14:21.662013 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:21.666171 UTC
code | code | migrando l10n_es_partner #4413 .
code | code | migrando l10n_es_aeat #4624 .
code | code | migrando l10n_es_aeat_mod111 #4675 .
code | code | migrando l10n_es_aeat_mod115 #4676 .
code | code | migrando delivery_gls_asm https://github.com/oca/l10n-spain/pull/4685 .
code | code | migrando l10n_es_aeat_mod347 #4717 .
text | es | > [ ] payment_redsys - incluido en core a partir de v19
> dejo este comentario, ya que creo que payment_redsys no será necesario
Detalles: total_items: 7 | code_items: 6 | spanish_items: 1 | english_items: 0
Dato borrado: code | code | migrando l10n_es_partner #4413 .
Dato borrado: code | code | migrando l10n_es_aeat #4624 .
Dato borrado: code | code | migrando l10n_es_aeat_mod111 #4675 .
Dato borrado: code | code | migrando l10n_es_aeat_mod115 #4676 .
Dato borrado: code | code | migrando delivery_gls_asm https://github.com/oca/l10n-spain/pull/4685 .
Dato borrado: code | code | migrando l10n_es_aeat_mod347 #4717 .
recomposed_text: > [ ] payment_redsys - incluido en core a partir de v19
> dejo este comentario, ya que creo que payment_redsys no será necesario
__Recursividad__
text | es | > [ ] payment_redsys - incluido en core a partir de v19
> dejo este comentario, ya que creo que payment_redsys no será necesario
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: > [ ] payment_redsys - incluido en core a partir de v19
> dejo este comentario, ya que creo que payment_redsys no será necesario

# Entrada procesada 2026-02-09T14:14:21.681831 UTC
code | code | buenas @vandekul, esa posición fue añadida hace 11 meses https://github.com/odoo/odoo/commit/a652896cb53717ad0a6a3abafb123bbe99110eb0 es posible que tu versión de odoo esté desactualizada o bien el plan contable como tal.
code | code | una vez asegurado que tu versión contiene las posiciones correspondientes puedes utilizar el módulo https://github.com/oca/account-financial-tools/blob/16.0/account_chart_update para crear las posiciones fiscales faltantes.
text | es | espero que te sirva de ayuda
Detalles: total_items: 3 | code_items: 2 | spanish_items: 1 | english_items: 0
Dato borrado: code | code | buenas @vandekul, esa posición fue añadida hace 11 meses https://github.com/odoo/odoo/commit/a652896cb53717ad0a6a3abafb123bbe99110eb0 es posible que tu versión de odoo esté desactualizada o bien el plan contable como tal.
Dato borrado: code | code | una vez asegurado que tu versión contiene las posiciones correspondientes puedes utilizar el módulo https://github.com/oca/account-financial-tools/blob/16.0/account_chart_update para crear las posiciones fiscales faltantes.
recomposed_text: espero que te sirva de ayuda
__Recursividad__
text | es | espero que te sirva de ayuda
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: espero que te sirva de ayuda

# Entrada procesada 2026-02-09T14:14:21.690866 UTC
text | es | solucionado en #4404
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: solucionado en #4404
__Recursividad__
text | es | solucionado en #4404
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: solucionado en #4404

# Entrada procesada 2026-02-09T14:14:21.701086 UTC
text | es | @moduon mt-11582 vamos a agregar todas las retenciones e irpf que se deban excluir del total y que no están hechas.
text | es | corrigo la imagen de @arantxasudon que es una errata.
code | code | <img width="2467" height="1096" alt="image" src="https://github.com/user-attachments/assets/02d4b672-9897-4373-b117-bfe211698bb7" /> ¿os parece bien @oca/local-spain-maintainers ? haremos pr semana que viene, para estar de acuerdo antes de hacerlo...
text | es | gracias
saludos .
text | es | ok, adelante.
Detalles: total_items: 5 | code_items: 1 | spanish_items: 4 | english_items: 0
Dato borrado: code | code | <img width="2467" height="1096" alt="image" src="https://github.com/user-attachments/assets/02d4b672-9897-4373-b117-bfe211698bb7" /> ¿os parece bien @oca/local-spain-maintainers ? haremos pr semana que viene, para estar de acuerdo antes de hacerlo...
recomposed_text: @moduon mt-11582 vamos a agregar todas las retenciones e irpf que se deban excluir del total y que no están hechas. corrigo la imagen de @arantxasudon que es una errata. gracias
saludos . ok, adelante.
__Recursividad__
text | es | @moduon mt-11582 vamos a agregar todas las retenciones e irpf que se deban excluir del total y que no están hechas.
text | es | corrigo la imagen de @arantxasudon que es una errata.
text | es | gracias
saludos .
text | es | ok, adelante.
Detalles: total_items: 4 | code_items: 0 | spanish_items: 4 | english_items: 0
recomposed_text: @moduon mt-11582 vamos a agregar todas las retenciones e irpf que se deban excluir del total y que no están hechas. corrigo la imagen de @arantxasudon que es una errata. gracias
saludos . ok, adelante.

# Entrada procesada 2026-02-09T14:14:21.721220 UTC
text | es | se esta quejando del cif del cliente.
text | es | por lo que veo no lo tenéis establecido.
code | code | .
code | code | eso pensava yo, pero realmente está establecido el cif en la ficha del cliente: <img width="1188" height="625" alt="image" src="https://github.com/user-attachments/assets/52b9f32c-a800-4321-9399-ccf7c2cdfd6c" /> .
text | es | es bug, acabo de probarlo en runboat y el campo id no se rellena con en cif "idotro": { "codigopais": "fr", "idtype": "02", "id": "fr"}
aunque este establecido.
code | code | de hecho esta mal aqui https://github.com/oca/l10n-spain/blob/16.0/l10n_es_verifactu_oca/models/account_move.py#l447 .
text | es | ahora pongo el pr correspondiente.
code | code | .
code | code | > ahora pongo el pr correspondiente.
text | es | gracias @pedrobaeza .
text | es | fix en #4398
Detalles: total_items: 11 | code_items: 5 | spanish_items: 6 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | eso pensava yo, pero realmente está establecido el cif en la ficha del cliente: <img width="1188" height="625" alt="image" src="https://github.com/user-attachments/assets/52b9f32c-a800-4321-9399-ccf7c2cdfd6c" /> .
Dato borrado: code | code | de hecho esta mal aqui https://github.com/oca/l10n-spain/blob/16.0/l10n_es_verifactu_oca/models/account_move.py#l447 .
Dato borrado: code | code | .
Dato borrado: code | code | > ahora pongo el pr correspondiente.
recomposed_text: se esta quejando del cif del cliente. por lo que veo no lo tenéis establecido. es bug, acabo de probarlo en runboat y el campo id no se rellena con en cif "idotro": { "codigopais": "fr", "idtype": "02", "id": "fr"}
aunque este establecido. ahora pongo el pr correspondiente. gracias @pedrobaeza . fix en #4398
__Recursividad__
text | es | se esta quejando del cif del cliente.
text | es | por lo que veo no lo tenéis establecido.
text | es | es bug, acabo de probarlo en runboat y el campo id no se rellena con en cif "idotro": { "codigopais": "fr", "idtype": "02", "id": "fr"}
aunque este establecido.
text | es | ahora pongo el pr correspondiente.
text | es | gracias @pedrobaeza .
text | es | fix en #4398
Detalles: total_items: 6 | code_items: 0 | spanish_items: 6 | english_items: 0
recomposed_text: se esta quejando del cif del cliente. por lo que veo no lo tenéis establecido. es bug, acabo de probarlo en runboat y el campo id no se rellena con en cif "idotro": { "codigopais": "fr", "idtype": "02", "id": "fr"}
aunque este establecido. ahora pongo el pr correspondiente. gracias @pedrobaeza . fix en #4398

# Entrada procesada 2026-02-09T14:14:21.739286 UTC
text | es | según parece, tienes un código de odoo antiguo (que incluye el módulo l10n_es).
text | es | debes actualizar dicho código y volver a probar.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: según parece, tienes un código de odoo antiguo (que incluye el módulo l10n_es). debes actualizar dicho código y volver a probar.
__Recursividad__
text | es | según parece, tienes un código de odoo antiguo (que incluye el módulo l10n_es).
text | es | debes actualizar dicho código y volver a probar.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: según parece, tienes un código de odoo antiguo (que incluye el módulo l10n_es). debes actualizar dicho código y volver a probar.

# Entrada procesada 2026-02-09T14:14:21.771373 UTC
text | es | creo que @etobella podría opinar mejor al respecto .
text | es | para esto lo correcto es hacer un modulo que extienda la funcionalidad.
text | es | obviamente se puede hacer en la oca y lo revisaremos cuando se publique .
text | es | perfecto, estoy a la espera de comprobar si la implementación que he hecho funciona correctamente.
text | es | lo que he planteado finalmente se basa en el modelo de unas facturas generadas con el programa de factura electrónica que un cliente utiliza con factoring y que le están funcionando correctamente.
text | es | la solución consiste en: * agregar los campos literales legales, donde se podrá incluir la información relativa al factoring.
text | es | * incorporar los campos de referencia emisor y referencia receptor, para indicar explícitamente que la factura se emite con factoring.
text | es | * definir la cuenta bancaria asociada al factoring, que se usará siempre que el modo de pago sea de tipo especial (13), sustituyendo la cuenta del cliente por la de la entidad cesionaria.
text | es | gracias.
code | code | .
text | es | buenos días @pedrobaeza @etobella, que os parece si agrego los literales legales, y las referencias en el l10n_es_facturae, ya que creo que esto es útil para toda persona que use el facturae, y luego haga un módulo de extensión que agregue la opción de la cuenta bancaría de factoring? ¡
text | es | quedo atento!
text | es | saludos.
code | code | .
text | es | @bernatobrador los legalliterals ya existen, simplemente deberás añadir una referencia en el caso del factoring.
text | es | primero haz el módulo y después comprueba si lo necesitas.
text | es | en la última versión del facturae se pasa un proceso para limpiar los que están vacios.
code | code | .
code | code | @etobella por lo que vi en el report, y por eso los agregue, asegurándome de que cada uno no haga más de 250 char, es que en el reporte está así:
`<legalliterals t-if="false" />`
y en ningún lado se computan estos.
text | es | con el cliente ya hemos hecho la prueba y ha funcionado bien con la manera que os digo, agregando las referencias, literales legales y una cuenta da factoring, que será la de la entidad que cesionaria, para que si el tipo de pago es especial (13), se sustituya la cuenta bancaría en el pago, por esta, en lugar de la del cliente.
text | es | hoy si me da tiempo subo las pr's, si no ya será el lunes!
text | es | os voy comentando.
text | es | muchas gracias por vuestro tiempo.
text | es | saludos.
code | code | .
text | es | implementado en #4417
Detalles: total_items: 26 | code_items: 5 | spanish_items: 21 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | @etobella por lo que vi en el report, y por eso los agregue, asegurándome de que cada uno no haga más de 250 char, es que en el reporte está así:
`<legalliterals t-if="false" />`
y en ningún lado se computan estos.
Dato borrado: code | code | .
recomposed_text: creo que @etobella podría opinar mejor al respecto . para esto lo correcto es hacer un modulo que extienda la funcionalidad. obviamente se puede hacer en la oca y lo revisaremos cuando se publique . perfecto, estoy a la espera de comprobar si la implementación que he hecho funciona correctamente. lo que he planteado finalmente se basa en el modelo de unas facturas generadas con el programa de factura electrónica que un cliente utiliza con factoring y que le están funcionando correctamente. la solución consiste en: * agregar los campos literales legales, donde se podrá incluir la información relativa al factoring. * incorporar los campos de referencia emisor y referencia receptor, para indicar explícitamente que la factura se emite con factoring. * definir la cuenta bancaria asociada al factoring, que se usará siempre que el modo de pago sea de tipo especial (13), sustituyendo la cuenta del cliente por la de la entidad cesionaria. gracias. buenos días @pedrobaeza @etobella, que os parece si agrego los literales legales, y las referencias en el l10n_es_facturae, ya que creo que esto es útil para toda persona que use el facturae, y luego haga un módulo de extensión que agregue la opción de la cuenta bancaría de factoring? ¡ quedo atento! saludos. @bernatobrador los legalliterals ya existen, simplemente deberás añadir una referencia en el caso del factoring. primero haz el módulo y después comprueba si lo necesitas. en la última versión del facturae se pasa un proceso para limpiar los que están vacios. con el cliente ya hemos hecho la prueba y ha funcionado bien con la manera que os digo, agregando las referencias, literales legales y una cuenta da factoring, que será la de la entidad que cesionaria, para que si el tipo de pago es especial (13), se sustituya la cuenta bancaría en el pago, por esta, en lugar de la del cliente. hoy si me da tiempo subo las pr's, si no ya será el lunes! os voy comentando. muchas gracias por vuestro tiempo. saludos. implementado en #4417
__Recursividad__
text | es | creo que @etobella podría opinar mejor al respecto .
text | es | para esto lo correcto es hacer un modulo que extienda la funcionalidad.
text | es | obviamente se puede hacer en la oca y lo revisaremos cuando se publique .
text | es | perfecto, estoy a la espera de comprobar si la implementación que he hecho funciona correctamente.
text | es | lo que he planteado finalmente se basa en el modelo de unas facturas generadas con el programa de factura electrónica que un cliente utiliza con factoring y que le están funcionando correctamente.
text | es | la solución consiste en: * agregar los campos literales legales, donde se podrá incluir la información relativa al factoring.
text | es | * incorporar los campos de referencia emisor y referencia receptor, para indicar explícitamente que la factura se emite con factoring.
text | es | * definir la cuenta bancaria asociada al factoring, que se usará siempre que el modo de pago sea de tipo especial (13), sustituyendo la cuenta del cliente por la de la entidad cesionaria.
text | es | gracias.
text | es | buenos días @pedrobaeza @etobella, que os parece si agrego los literales legales, y las referencias en el l10n_es_facturae, ya que creo que esto es útil para toda persona que use el facturae, y luego haga un módulo de extensión que agregue la opción de la cuenta bancaría de factoring? ¡
text | es | quedo atento!
text | es | saludos.
text | es | @bernatobrador los legalliterals ya existen, simplemente deberás añadir una referencia en el caso del factoring.
text | es | primero haz el módulo y después comprueba si lo necesitas.
text | es | en la última versión del facturae se pasa un proceso para limpiar los que están vacios.
text | es | con el cliente ya hemos hecho la prueba y ha funcionado bien con la manera que os digo, agregando las referencias, literales legales y una cuenta da factoring, que será la de la entidad que cesionaria, para que si el tipo de pago es especial (13), se sustituya la cuenta bancaría en el pago, por esta, en lugar de la del cliente.
text | es | hoy si me da tiempo subo las pr's, si no ya será el lunes!
text | es | os voy comentando.
text | es | muchas gracias por vuestro tiempo.
text | es | saludos.
text | es | implementado en #4417
Detalles: total_items: 21 | code_items: 0 | spanish_items: 21 | english_items: 0
recomposed_text: creo que @etobella podría opinar mejor al respecto . para esto lo correcto es hacer un modulo que extienda la funcionalidad. obviamente se puede hacer en la oca y lo revisaremos cuando se publique . perfecto, estoy a la espera de comprobar si la implementación que he hecho funciona correctamente. lo que he planteado finalmente se basa en el modelo de unas facturas generadas con el programa de factura electrónica que un cliente utiliza con factoring y que le están funcionando correctamente. la solución consiste en: * agregar los campos literales legales, donde se podrá incluir la información relativa al factoring. * incorporar los campos de referencia emisor y referencia receptor, para indicar explícitamente que la factura se emite con factoring. * definir la cuenta bancaria asociada al factoring, que se usará siempre que el modo de pago sea de tipo especial (13), sustituyendo la cuenta del cliente por la de la entidad cesionaria. gracias. buenos días @pedrobaeza @etobella, que os parece si agrego los literales legales, y las referencias en el l10n_es_facturae, ya que creo que esto es útil para toda persona que use el facturae, y luego haga un módulo de extensión que agregue la opción de la cuenta bancaría de factoring? ¡ quedo atento! saludos. @bernatobrador los legalliterals ya existen, simplemente deberás añadir una referencia en el caso del factoring. primero haz el módulo y después comprueba si lo necesitas. en la última versión del facturae se pasa un proceso para limpiar los que están vacios. con el cliente ya hemos hecho la prueba y ha funcionado bien con la manera que os digo, agregando las referencias, literales legales y una cuenta da factoring, que será la de la entidad que cesionaria, para que si el tipo de pago es especial (13), se sustituya la cuenta bancaría en el pago, por esta, en lugar de la del cliente. hoy si me da tiempo subo las pr's, si no ya será el lunes! os voy comentando. muchas gracias por vuestro tiempo. saludos. implementado en #4417

__Corrector Ortográfico__2026-02-09T14:14:21.771373
'despés' se corrige por 'después'

# Entrada procesada 2026-02-09T14:14:21.832703 UTC
text | es | solucionado en #4403
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: solucionado en #4403
__Recursividad__
text | es | solucionado en #4403
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: solucionado en #4403

# Entrada procesada 2026-02-09T14:14:21.841260 UTC
text | es | hola!
text | es | si tienen que ser dos dígitos.
code | code | .
text | es | mil gracias!
text | und | funciona!
Detalles: total_items: 5 | code_items: 1 | spanish_items: 3 | english_items: 0
Dato borrado: code | code | .
recomposed_text: hola! si tienen que ser dos dígitos. mil gracias! funciona!
__Recursividad__
text | es | hola!
text | es | si tienen que ser dos dígitos.
text | es | mil gracias!
text | und | funciona!
Detalles: total_items: 4 | code_items: 0 | spanish_items: 3 | english_items: 0
Dato borrado: text | und | funciona!
recomposed_text: hola! si tienen que ser dos dígitos. mil gracias!

# Entrada procesada 2026-02-09T14:14:21.850092 UTC
code | code | sí, aquí lo tienes: https://github.com/oca/l10n-spain/pull/4357 y de hecho es una de las razones para tener la versión oca.
Detalles: total_items: 1 | code_items: 1 | spanish_items: 0 | english_items: 0
Dato borrado: code | code | sí, aquí lo tienes: https://github.com/oca/l10n-spain/pull/4357 y de hecho es una de las razones para tener la versión oca.
recomposed_text:
__Recursividad__
Detalles: total_items: 0 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text:

# Entrada procesada 2026-02-09T14:14:21.861100 UTC
text | es | el id del sif y el nif informados deben haber sido dados de alta en hacienda para poder hacer estas pruebas.
code | code | .
text | es | hola, el nif tiene que ser valido, el del desarrollador, aeat lo comprueba, y el sif id, se refiere a los dos digitos que indicas en la declaración responsable y se tienen que dar de alta en la referencia del encadenamiento.
code | code | <img width="751" height="259" alt="image" src="https://github.com/user-attachments/assets/37f1938f-a130-4a2a-98c5-e74c855196ba" /> .
text | es | buenos días, pedro: disculpa, pero si el software es odoo, hay que poner lo que indica la declaración responsable de odoo, ¿no habiendo sido ellos los que han desarrollador el módulo?
text | es | adjunto captura.
code | code | <img width="1236" height="398" alt="image" src="https://github.com/user-attachments/assets/65439e9c-0cbb-440c-a630-b989eb6616c6" /> ¿será que cada partner deberá hacer una declaración responsable y darse de alta en la aeat? gracias de antemano por la ayuda.
code | code | .
text | es | bueno, odoo puede no cubrirte si no es un odoo online.
text | es | cuando llegue la primera denuncia se sabra...
text | es | pon ahí lo que estiméis oportuno.
code | code | .
text | es | no hay que darse de alta en la aeat, pero si que tendrá que firmar alguien la declaración responsable indicando que el software cumple con la legalidad.
text | es | puede ser el mismo cliente el que lo firme.
text | es | esto esta confirmado con aeat, ya que al ser de código abierto puede que tu como implantador no puedas asegurar que cumple.
text | es | odoo se ha puesto el pero me parece arriesgado ya que esta en la versión community y cualquiera puede modificar ese código en una instalación on-premise .
text | es | muchas gracias, anmarmo1!
Detalles: total_items: 17 | code_items: 5 | spanish_items: 12 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | <img width="751" height="259" alt="image" src="https://github.com/user-attachments/assets/37f1938f-a130-4a2a-98c5-e74c855196ba" /> .
Dato borrado: code | code | <img width="1236" height="398" alt="image" src="https://github.com/user-attachments/assets/65439e9c-0cbb-440c-a630-b989eb6616c6" /> ¿será que cada partner deberá hacer una declaración responsable y darse de alta en la aeat? gracias de antemano por la ayuda.
Dato borrado: code | code | .
Dato borrado: code | code | .
recomposed_text: el id del sif y el nif informados deben haber sido dados de alta en hacienda para poder hacer estas pruebas. hola, el nif tiene que ser valido, el del desarrollador, aeat lo comprueba, y el sif id, se refiere a los dos digitos que indicas en la declaración responsable y se tienen que dar de alta en la referencia del encadenamiento. buenos días, pedro: disculpa, pero si el software es odoo, hay que poner lo que indica la declaración responsable de odoo, ¿no habiendo sido ellos los que han desarrollador el módulo? adjunto captura. bueno, odoo puede no cubrirte si no es un odoo online. cuando llegue la primera denuncia se sabra... pon ahí lo que estiméis oportuno. no hay que darse de alta en la aeat, pero si que tendrá que firmar alguien la declaración responsable indicando que el software cumple con la legalidad. puede ser el mismo cliente el que lo firme. esto esta confirmado con aeat, ya que al ser de código abierto puede que tu como implantador no puedas asegurar que cumple. odoo se ha puesto el pero me parece arriesgado ya que esta en la versión community y cualquiera puede modificar ese código en una instalación on-premise . muchas gracias, anmarmo1!
__Recursividad__
text | es | el id del sif y el nif informados deben haber sido dados de alta en hacienda para poder hacer estas pruebas.
text | es | hola, el nif tiene que ser valido, el del desarrollador, aeat lo comprueba, y el sif id, se refiere a los dos digitos que indicas en la declaración responsable y se tienen que dar de alta en la referencia del encadenamiento.
text | es | buenos días, pedro: disculpa, pero si el software es odoo, hay que poner lo que indica la declaración responsable de odoo, ¿no habiendo sido ellos los que han desarrollador el módulo?
text | es | adjunto captura.
text | es | bueno, odoo puede no cubrirte si no es un odoo online.
text | es | cuando llegue la primera denuncia se sabra...
text | es | pon ahí lo que estiméis oportuno.
text | es | no hay que darse de alta en la aeat, pero si que tendrá que firmar alguien la declaración responsable indicando que el software cumple con la legalidad.
text | es | puede ser el mismo cliente el que lo firme.
text | es | esto esta confirmado con aeat, ya que al ser de código abierto puede que tu como implantador no puedas asegurar que cumple.
text | es | odoo se ha puesto el pero me parece arriesgado ya que esta en la versión community y cualquiera puede modificar ese código en una instalación on-premise .
text | es | muchas gracias, anmarmo1!
Detalles: total_items: 12 | code_items: 0 | spanish_items: 12 | english_items: 0
recomposed_text: el id del sif y el nif informados deben haber sido dados de alta en hacienda para poder hacer estas pruebas. hola, el nif tiene que ser valido, el del desarrollador, aeat lo comprueba, y el sif id, se refiere a los dos digitos que indicas en la declaración responsable y se tienen que dar de alta en la referencia del encadenamiento. buenos días, pedro: disculpa, pero si el software es odoo, hay que poner lo que indica la declaración responsable de odoo, ¿no habiendo sido ellos los que han desarrollador el módulo? adjunto captura. bueno, odoo puede no cubrirte si no es un odoo online. cuando llegue la primera denuncia se sabra... pon ahí lo que estiméis oportuno. no hay que darse de alta en la aeat, pero si que tendrá que firmar alguien la declaración responsable indicando que el software cumple con la legalidad. puede ser el mismo cliente el que lo firme. esto esta confirmado con aeat, ya que al ser de código abierto puede que tu como implantador no puedas asegurar que cumple. odoo se ha puesto el pero me parece arriesgado ya que esta en la versión community y cualquiera puede modificar ese código en una instalación on-premise . muchas gracias, anmarmo1!

# Entrada procesada 2026-02-09T14:14:21.945740 UTC
text | es | lo siento por mis disvistes !!
text | es | he visto se puede actualizar todo los posicines fiscales para registrar las nuevas claves de verifactu por modulo "account_chart_update" segun pone en readme.rst del "l10n_es_verifactu_oca":
- establecer en las posiciones fiscales la clave de impuestos y la clave de registro veri*factu.
text | es | - para aplicar las claves ejecute el asistente de actualización del módulo accountchart_update.
code | code | en concreto: install addons: account_chart_update # https://github.com/oca/account-financial-tools.git settings > invoicing > update chart template: update char template next: check fiscal positions create/update, then cloes creo que esta reuslto mis dudas.
text | es | muchas gracias !!
Detalles: total_items: 5 | code_items: 1 | spanish_items: 4 | english_items: 0
Dato borrado: code | code | en concreto: install addons: account_chart_update # https://github.com/oca/account-financial-tools.git settings > invoicing > update chart template: update char template next: check fiscal positions create/update, then cloes creo que esta reuslto mis dudas.
recomposed_text: lo siento por mis disvistes !! he visto se puede actualizar todo los posicines fiscales para registrar las nuevas claves de verifactu por modulo "account_chart_update" segun pone en readme.rst del "l10n_es_verifactu_oca":
- establecer en las posiciones fiscales la clave de impuestos y la clave de registro veri*factu. - para aplicar las claves ejecute el asistente de actualización del módulo accountchart_update. muchas gracias !!
__Recursividad__
text | es | lo siento por mis disvistes !!
text | es | he visto se puede actualizar todo los posicines fiscales para registrar las nuevas claves de verifactu por modulo "account_chart_update" segun pone en readme.rst del "l10n_es_verifactu_oca":
- establecer en las posiciones fiscales la clave de impuestos y la clave de registro veri*factu.
text | es | - para aplicar las claves ejecute el asistente de actualización del módulo accountchart_update.
text | es | muchas gracias !!
Detalles: total_items: 4 | code_items: 0 | spanish_items: 4 | english_items: 0
recomposed_text: lo siento por mis disvistes !! he visto se puede actualizar todo los posicines fiscales para registrar las nuevas claves de verifactu por modulo "account_chart_update" segun pone en readme.rst del "l10n_es_verifactu_oca":
- establecer en las posiciones fiscales la clave de impuestos y la clave de registro veri*factu. - para aplicar las claves ejecute el asistente de actualización del módulo accountchart_update. muchas gracias !!

# Entrada procesada 2026-02-09T14:14:22.025584 UTC
text | es | hola @flachica me consta que @acysos tenía pensado llevarlo a la v15, también.
text | es | según lo que he hablado con @pedrobaeza , como los cambios de v16 hacia v14 y v15 son bastante similares, sería conveniente que podáis unir esfuerzos y coordinaros.
text | es | en caso de que necesitéis revisiones, puedo aportar mi granito de arena.
text | es | gracias.
code | code | .
text | es | @acysos, al enterarse finalmente dice que backportea a 13.0.
text | bilingual | aún así, no sé si duplicamos esfuerzos.
text | es | bienvenidos tus aportes @haraldpanten .
text | es | > [@acysos](https://github.com/acysos), al enterarse finalmente dice que backportea a 13.0.
text | bilingual | aún así, no sé si duplicamos esfuerzos.
text | es | bienvenidos tus aportes [@haraldpanten](https://github.com/haraldpanten) y si lo lleváis entonces vosotros a v14 y a v15?
text | es | nosotros a v13 no lo necesitamos.
text | es | si fuera necesario miramos cómo organizarnos para repartilo.
text | es | ya nos dices @flachica .
code | code | si.
text | es | mi idea es tener una pr en 14.0 antes de que finalice octubre @haraldpanten .
text | es | por favor, portearlo a v13 tambien, no se si los cambios de v13 a v14 son muy profundos...
code | code | .
text | es | @flachica yo puedo ayudar tambien a nivel funcional en revisiones.
code | code | .
text | es | > por favor, portearlo a v13 tambien, no se si los cambios de v13 a v14 son muy profundos...
text | es | si no lo lleva a cabo @acysos de forma voluntaria, también puedes abonar un importe a otros contribuidores para que lo hagan.
text | es | un saludo.
code | code | .
text | es | he renombrado el hilo para ser más amplio, puesto que no solo estamos hablando de la versión 14.
code | code | .
text | es | ¡hola!
text | es | a no ser que @acysos indique que ya tiene algo iniciado de la adaptación a odoo 15, desde batista10 (@b10serveis) podríamos encargarnos de ello (probablemente partiendo de la adaptación a la 16).
text | es | por supuesto, toda ayuda en revisiones y sugerencias sería muy bienvenida.
text | es | cara sonriendo ligeramente .
text | es | mejor partir de la 14 que de la 16, ya que en 16 se hizo una refactorización previa que habría que volver a extraerla para 15, lo que en la de la 14 ya se ha hecho.
code | code | .
text | es | gracias @pedrobaeza, tomo nota.
text | es | cara sonriendo ligeramente .
text | es | para facilitar el seguimiento del tíquet: el pr #4377 de @ljimenezsidoo para la migración a 14 ya ha sido mezclado, he creado #4503 para la migración a 15.
code | code | .
text | es | #4503 (odoo 15) ha sido mezclado también.
text | und | cohete .
text | es | voy a dar esta issue por cerrada, ya que se ha llevado verifactu a 14.0, 15.0, 16.0 y 17.0.
text | es | en 18.0 acabará llegando por necesidad, según procedimiento habitual de contribuciones, mientras que <14.0 debería tener un uso muy residual.
text | es | cualquier cosa podemos reabrir hilo.
code | code | .
text | es | en 18 ya está también...
code | code | .
text | es | sabéis si se va a realizar backport a v13?
text | es | se sabe algo de que va a pasar con el tpv de odoo para verifactu?
text | es | gracias .
text | es | de momento nadie ha expresado su interés en pasarlo a 13.
text | es | es demasiado antiguo...
text | es | del tpv puedes mirar los diversos pull requests abiertos para ello.
Detalles: total_items: 50 | code_items: 10 | spanish_items: 37 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | si.
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
recomposed_text: hola @flachica me consta que @acysos tenía pensado llevarlo a la v15, también. según lo que he hablado con @pedrobaeza , como los cambios de v16 hacia v14 y v15 son bastante similares, sería conveniente que podáis unir esfuerzos y coordinaros. en caso de que necesitéis revisiones, puedo aportar mi granito de arena. gracias. @acysos, al enterarse finalmente dice que backportea a 13.0. aún así, no sé si duplicamos esfuerzos. bienvenidos tus aportes @haraldpanten . > [@acysos](https://github.com/acysos), al enterarse finalmente dice que backportea a 13.0. aún así, no sé si duplicamos esfuerzos. bienvenidos tus aportes [@haraldpanten](https://github.com/haraldpanten) y si lo lleváis entonces vosotros a v14 y a v15? nosotros a v13 no lo necesitamos. si fuera necesario miramos cómo organizarnos para repartilo. ya nos dices @flachica . mi idea es tener una pr en 14.0 antes de que finalice octubre @haraldpanten . por favor, portearlo a v13 tambien, no se si los cambios de v13 a v14 son muy profundos... @flachica yo puedo ayudar tambien a nivel funcional en revisiones. > por favor, portearlo a v13 tambien, no se si los cambios de v13 a v14 son muy profundos... si no lo lleva a cabo @acysos de forma voluntaria, también puedes abonar un importe a otros contribuidores para que lo hagan. un saludo. he renombrado el hilo para ser más amplio, puesto que no solo estamos hablando de la versión 14. ¡hola! a no ser que @acysos indique que ya tiene algo iniciado de la adaptación a odoo 15, desde batista10 (@b10serveis) podríamos encargarnos de ello (probablemente partiendo de la adaptación a la 16). por supuesto, toda ayuda en revisiones y sugerencias sería muy bienvenida. cara sonriendo ligeramente . mejor partir de la 14 que de la 16, ya que en 16 se hizo una refactorización previa que habría que volver a extraerla para 15, lo que en la de la 14 ya se ha hecho. gracias @pedrobaeza, tomo nota. cara sonriendo ligeramente . para facilitar el seguimiento del tíquet: el pr #4377 de @ljimenezsidoo para la migración a 14 ya ha sido mezclado, he creado #4503 para la migración a 15. #4503 (odoo 15) ha sido mezclado también. cohete . voy a dar esta issue por cerrada, ya que se ha llevado verifactu a 14.0, 15.0, 16.0 y 17.0. en 18.0 acabará llegando por necesidad, según procedimiento habitual de contribuciones, mientras que <14.0 debería tener un uso muy residual. cualquier cosa podemos reabrir hilo. en 18 ya está también... sabéis si se va a realizar backport a v13? se sabe algo de que va a pasar con el tpv de odoo para verifactu? gracias . de momento nadie ha expresado su interés en pasarlo a 13. es demasiado antiguo... del tpv puedes mirar los diversos pull requests abiertos para ello.
__Recursividad__
text | es | hola @flachica me consta que @acysos tenía pensado llevarlo a la v15, también.
text | es | según lo que he hablado con @pedrobaeza , como los cambios de v16 hacia v14 y v15 son bastante similares, sería conveniente que podáis unir esfuerzos y coordinaros.
text | es | en caso de que necesitéis revisiones, puedo aportar mi granito de arena.
text | es | gracias.
text | es | @acysos, al enterarse finalmente dice que backportea a 13.0.
text | bilingual | aún así, no sé si duplicamos esfuerzos.
text | es | bienvenidos tus aportes @haraldpanten .
text | es | > [@acysos](https://github.com/acysos), al enterarse finalmente dice que backportea a 13.0.
text | bilingual | aún así, no sé si duplicamos esfuerzos.
text | es | bienvenidos tus aportes [@haraldpanten](https://github.com/haraldpanten) y si lo lleváis entonces vosotros a v14 y a v15?
text | es | nosotros a v13 no lo necesitamos.
text | es | si fuera necesario miramos cómo organizarnos para repartilo.
text | es | ya nos dices @flachica .
text | es | mi idea es tener una pr en 14.0 antes de que finalice octubre @haraldpanten .
text | es | por favor, portearlo a v13 tambien, no se si los cambios de v13 a v14 son muy profundos...
text | es | @flachica yo puedo ayudar tambien a nivel funcional en revisiones.
text | es | > por favor, portearlo a v13 tambien, no se si los cambios de v13 a v14 son muy profundos...
text | es | si no lo lleva a cabo @acysos de forma voluntaria, también puedes abonar un importe a otros contribuidores para que lo hagan.
text | es | un saludo.
text | es | he renombrado el hilo para ser más amplio, puesto que no solo estamos hablando de la versión 14.
text | es | ¡hola!
text | es | a no ser que @acysos indique que ya tiene algo iniciado de la adaptación a odoo 15, desde batista10 (@b10serveis) podríamos encargarnos de ello (probablemente partiendo de la adaptación a la 16).
text | es | por supuesto, toda ayuda en revisiones y sugerencias sería muy bienvenida.
text | es | cara sonriendo ligeramente .
text | es | mejor partir de la 14 que de la 16, ya que en 16 se hizo una refactorización previa que habría que volver a extraerla para 15, lo que en la de la 14 ya se ha hecho.
text | es | gracias @pedrobaeza, tomo nota.
text | es | cara sonriendo ligeramente .
text | es | para facilitar el seguimiento del tíquet: el pr #4377 de @ljimenezsidoo para la migración a 14 ya ha sido mezclado, he creado #4503 para la migración a 15.
text | es | #4503 (odoo 15) ha sido mezclado también.
text | und | cohete .
text | es | voy a dar esta issue por cerrada, ya que se ha llevado verifactu a 14.0, 15.0, 16.0 y 17.0.
text | es | en 18.0 acabará llegando por necesidad, según procedimiento habitual de contribuciones, mientras que <14.0 debería tener un uso muy residual.
text | es | cualquier cosa podemos reabrir hilo.
text | es | en 18 ya está también...
text | es | sabéis si se va a realizar backport a v13?
text | es | se sabe algo de que va a pasar con el tpv de odoo para verifactu?
text | es | gracias .
text | es | de momento nadie ha expresado su interés en pasarlo a 13.
text | es | es demasiado antiguo...
text | es | del tpv puedes mirar los diversos pull requests abiertos para ello.
Detalles: total_items: 40 | code_items: 0 | spanish_items: 37 | english_items: 0
Dato borrado: text | und | cohete .
recomposed_text: hola @flachica me consta que @acysos tenía pensado llevarlo a la v15, también. según lo que he hablado con @pedrobaeza , como los cambios de v16 hacia v14 y v15 son bastante similares, sería conveniente que podáis unir esfuerzos y coordinaros. en caso de que necesitéis revisiones, puedo aportar mi granito de arena. gracias. @acysos, al enterarse finalmente dice que backportea a 13.0. aún así, no sé si duplicamos esfuerzos. bienvenidos tus aportes @haraldpanten . > [@acysos](https://github.com/acysos), al enterarse finalmente dice que backportea a 13.0. aún así, no sé si duplicamos esfuerzos. bienvenidos tus aportes [@haraldpanten](https://github.com/haraldpanten) y si lo lleváis entonces vosotros a v14 y a v15? nosotros a v13 no lo necesitamos. si fuera necesario miramos cómo organizarnos para repartilo. ya nos dices @flachica . mi idea es tener una pr en 14.0 antes de que finalice octubre @haraldpanten . por favor, portearlo a v13 tambien, no se si los cambios de v13 a v14 son muy profundos... @flachica yo puedo ayudar tambien a nivel funcional en revisiones. > por favor, portearlo a v13 tambien, no se si los cambios de v13 a v14 son muy profundos... si no lo lleva a cabo @acysos de forma voluntaria, también puedes abonar un importe a otros contribuidores para que lo hagan. un saludo. he renombrado el hilo para ser más amplio, puesto que no solo estamos hablando de la versión 14. ¡hola! a no ser que @acysos indique que ya tiene algo iniciado de la adaptación a odoo 15, desde batista10 (@b10serveis) podríamos encargarnos de ello (probablemente partiendo de la adaptación a la 16). por supuesto, toda ayuda en revisiones y sugerencias sería muy bienvenida. cara sonriendo ligeramente . mejor partir de la 14 que de la 16, ya que en 16 se hizo una refactorización previa que habría que volver a extraerla para 15, lo que en la de la 14 ya se ha hecho. gracias @pedrobaeza, tomo nota. cara sonriendo ligeramente . para facilitar el seguimiento del tíquet: el pr #4377 de @ljimenezsidoo para la migración a 14 ya ha sido mezclado, he creado #4503 para la migración a 15. #4503 (odoo 15) ha sido mezclado también. voy a dar esta issue por cerrada, ya que se ha llevado verifactu a 14.0, 15.0, 16.0 y 17.0. en 18.0 acabará llegando por necesidad, según procedimiento habitual de contribuciones, mientras que <14.0 debería tener un uso muy residual. cualquier cosa podemos reabrir hilo. en 18 ya está también... sabéis si se va a realizar backport a v13? se sabe algo de que va a pasar con el tpv de odoo para verifactu? gracias . de momento nadie ha expresado su interés en pasarlo a 13. es demasiado antiguo... del tpv puedes mirar los diversos pull requests abiertos para ello.

# Entrada procesada 2026-02-09T14:14:22.178198 UTC
text | es | también he probado el addon y tengo también error en el cron, he seguido el desarrollo y la versión tester de hace 1 mes funcionaba, ahora que sube las facturas solo con el cron, también me da error,.
code | code | .
text | es | probad por favor usando #4367 y decís si ya os sale correcto.
code | code | .
text | es | buenos días, probado y funcionando.
text | es | muchas gracias.
code | code | .
text | es | correcto con los cambios indicados, gracias.
text | es | seguiremos probando y si sale algo mas lo reportare.
text | es | gracias .
text | es | fusionando entonces.
code | code | .
text | es | hola, he instalado el modulo verifactu en la version 16 y me pide como configuracion en las compañias el codigo del desarrollador, como pudiera obtener ese codigo, gracias
Detalles: total_items: 13 | code_items: 4 | spanish_items: 9 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
recomposed_text: también he probado el addon y tengo también error en el cron, he seguido el desarrollo y la versión tester de hace 1 mes funcionaba, ahora que sube las facturas solo con el cron, también me da error,. probad por favor usando #4367 y decís si ya os sale correcto. buenos días, probado y funcionando. muchas gracias. correcto con los cambios indicados, gracias. seguiremos probando y si sale algo mas lo reportare. gracias . fusionando entonces. hola, he instalado el modulo verifactu en la version 16 y me pide como configuracion en las compañias el codigo del desarrollador, como pudiera obtener ese codigo, gracias
__Recursividad__
text | es | también he probado el addon y tengo también error en el cron, he seguido el desarrollo y la versión tester de hace 1 mes funcionaba, ahora que sube las facturas solo con el cron, también me da error,.
text | es | probad por favor usando #4367 y decís si ya os sale correcto.
text | es | buenos días, probado y funcionando.
text | es | muchas gracias.
text | es | correcto con los cambios indicados, gracias.
text | es | seguiremos probando y si sale algo mas lo reportare.
text | es | gracias .
text | es | fusionando entonces.
text | es | hola, he instalado el modulo verifactu en la version 16 y me pide como configuracion en las compañias el codigo del desarrollador, como pudiera obtener ese codigo, gracias
Detalles: total_items: 9 | code_items: 0 | spanish_items: 9 | english_items: 0
recomposed_text: también he probado el addon y tengo también error en el cron, he seguido el desarrollo y la versión tester de hace 1 mes funcionaba, ahora que sube las facturas solo con el cron, también me da error,. probad por favor usando #4367 y decís si ya os sale correcto. buenos días, probado y funcionando. muchas gracias. correcto con los cambios indicados, gracias. seguiremos probando y si sale algo mas lo reportare. gracias . fusionando entonces. hola, he instalado el modulo verifactu en la version 16 y me pide como configuracion en las compañias el codigo del desarrollador, como pudiera obtener ese codigo, gracias

# Entrada procesada 2026-02-09T14:14:22.223435 UTC
text | es | hola, no veo una aplicación muy directa de eso en la gestión del erp, pero si teneis algo específico, comentadlo.
code | code | .
text | es | hola @pedrobaeza le agregue más detalles al isuues, digame que le parece, gracias .
text | es | de acuerdo, entonces entiendo que será un nuevo plan contable "igic (zec)" o similar.
code | code | .
text | es | si correcto @pedrobaeza es la idea
Detalles: total_items: 6 | code_items: 2 | spanish_items: 4 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | .
recomposed_text: hola, no veo una aplicación muy directa de eso en la gestión del erp, pero si teneis algo específico, comentadlo. hola @pedrobaeza le agregue más detalles al isuues, digame que le parece, gracias . de acuerdo, entonces entiendo que será un nuevo plan contable "igic (zec)" o similar. si correcto @pedrobaeza es la idea
__Recursividad__
text | es | hola, no veo una aplicación muy directa de eso en la gestión del erp, pero si teneis algo específico, comentadlo.
text | es | hola @pedrobaeza le agregue más detalles al isuues, digame que le parece, gracias .
text | es | de acuerdo, entonces entiendo que será un nuevo plan contable "igic (zec)" o similar.
text | es | si correcto @pedrobaeza es la idea
Detalles: total_items: 4 | code_items: 0 | spanish_items: 4 | english_items: 0
recomposed_text: hola, no veo una aplicación muy directa de eso en la gestión del erp, pero si teneis algo específico, comentadlo. hola @pedrobaeza le agregue más detalles al isuues, digame que le parece, gracias . de acuerdo, entonces entiendo que será un nuevo plan contable "igic (zec)" o similar. si correcto @pedrobaeza es la idea

# Entrada procesada 2026-02-09T14:14:22.359490 UTC
text | es | hola,
no veo mal que haya un módulo para gestiona las comunicaciones, ya que da mucha más versatilidad a oca.
text | es | el problema que veo es que el framework edi le ha pasado como al contract, ha evolucionado mucho y de tener una orientación sencilla de utilización ha pasado a ser un monstruito jaja.
text | es | ¿cabe la posibilidad de separación y adaptación del framework edi?
text | es | según estuve mirando en su día el punto 1 no lo veo viable.
text | es | el punto 2, me gustaría no realizarlo ya que realizar módulos bases de comunicaciones es muy útil, a lo mejor ...
text | es | añadir un apartado a los videos donde se explicase el funcionamiento de framework edi ¿podría estar bien @etobella ?
text | es | creo que como has comentado enric, el camino natural ha ido a la extracción de ese apartado, no veo del todo bien volver hacía atrás, si no, que se tendría que simplificar.
text | es | ¿creación de otro módulo de comunicaciones más sencillito? (
text | es | pero eso se podría conseguir con el refactor y separación del framework edi ¿correcto?) .
text | es | ¿no podríamos hacer como con sii, que solo se necesitan unos cuantos campos de control?
text | es | realmente el resto de información se ha demostrado no demasiado útil, y más si hay una plataforma como face detrás, donde la misma ya registra la actividad.
text | es | a efectos prácticos, solo necesitamos saber si se ha enviado o no, y error en caso de que no.
code | code | .
text | es | seria otra opción, si, por eso eran las ideas que se me ocurrían por ahora.
text | es | de todas formas, si simplificasemos el edi framework no lo vería mal yo .
text | es | el tema es depender de la migración de ese framework en cada versión para tener esto operativo, y más si se da integración por lo de la ley "crea y crece".
text | es | en ese sentido deberíamos ser más autónomos.
text | es | por eso también se quiso quitar de en medio `queue_job` en el sii.
code | code | .
text | es | también depende de otros módulos, aunque el edi-framework acostumbra a ser el más complejo.
text | es | además, la ley crea y crece no irá con facturae, así que si deberá ser con un módulo diferente (y sus respectivos campos y tal) .
text | es | cuantos menos módulos haya en la pila, mejor, y algunas dependencias son lógicas (como `l10n_es_facturae`), pero todo el framework edi no.
code | code | .
text | es | en eso estoy de acuerdo @pedrobaeza de todas formas, el problema no es el edi-framework, es todo lo que lleva incorporado (queue job, connector....) que tiene una arquitectura demasiado compleja cara llorando .
text | es | pues entonces sí que estás de acuerdo, porque el tema es que esa pila es demasiado compleja, y en 18 o cortamos por lo sano, o esa supuesta refactorización del edi no va a llegar, porque ya hay una parte de la pila fusionada y otros no van a querer cambiarla, y mientras, seguiremos sin tener este módulo disponible.
code | code | .
text | es | a nivel de pilas de módulos obviamente sería mejor integrarlo en el propio y listo, pero veo mejor que exista uno base para que el máximo de módulos se pueda beneficiar de ello, como actualmente está el framework-edi.
text | es | estoy de acuerdo en que la dependencia tecnológica de ese módulo es muy grande y hay puntos de los cuales se quiere "huir" (job_queue) como pasó con el sii (también se podría mirar de adaptar el módulo para el queue o triggers de odoo, según configuración o extensiones).
text | es | según lo veo yo si integramos esta conexión directamente en el módulo, estamos "cerrando" y duplicando funcionalidades que actualmente están genéricas.
text | es | está bien que hayan módulos bases para circuitos de comunicaciones, ya que estamos viendo que cada vez es más común.
code | code | .
text | es | yo no veo que tenga tanta base compartida, pero si acaso, esa base podría ir en `l10n_es_aeat` como hicimos con sii/verifactu.
code | code | .
text | es | pero entonces si otros módulos se quieren aprovechar de esas funcionalidades si no son del repo l10n-spain, no podrán.
text | es | por otro lado, esta característica podría necesitarse o no ¿es necesario ponerlo en el l10n_es_aeat?
text | es | ya que en general no gusta ampliar ese módulo.
code | code | .
text | es | ¿pero qué funcionalidad se va a reaprovechar?
text | es | a ver, dejemos de hablar en abstracto.
text | es | aquí no hay nada reaprovechable realmente.
text | es | lo dicho, al final tenemos unos campos de estado de envío/error, y el código que llama a la api de face.
text | es | por eso digo que no hay que complicarse.
text | es | teniendo librerías python para esas comunicaciones, y que se inicializan con dos líneas y se envían datos con otras 2, dejemos de montar capas abstractas que si `edi_webservice`, y sustituyendo código por configuraciones raras que continuamente cualquier cambio hacía que ya no saliera un botón o que no se enviara.
text | es | lo dicho, tenemos el antecedente del sii donde no hay complicación.
text | es | y lo de `l10n_es_aeat` era siguiendo vuestra línea de razonamiento, pero que efectivamente, aquí no hay código compartido con nada.
text | es | lo otro de sii/verifactu era porque las estructuras de datos que se envían son iguales en ambos, y sí es más cantidad de código.
code | code | .
text | es | @pedrobaeza se reaprovechan cosas.
text | es | yo en mi caso tengo clientes que envían las facturas de múltiples formas dependendiendo de cliente y el funcionamiento de edi ayuda un montón.
text | es | personalmente estoy de acuerdo que el stack de edi-framework es demasiado complejo al depender de component y de queue_job y me ofrezco a eliminar esas dependencias para simplificar el stack.
text | es | pero de eso a cargarnos el concepto, pues veo muchos problemas.
text | es | sobretodo cuando venga la factura electrónica obligatoria en ubl, en el que reinventaremos la rueda según tu idea para generar los ficheros y el envío, ya que el de face no nos servirá (desconocemos aún la forma de envío, pero los ficheros seran distintos al 100%).
text | es | además que tendremos que notificar los pagos, con lo que tendremos un doble flujo de entrada (envío de facturas de venta, recepción de compras, envío de estado de compras....) todo esto ya está contemplado en edi y nos lo simplifica bastante si lo mejoramos un poco.
text | es | sé que personalmente no es fruto de tu devoción el framework de edi, pero creo que hacerlos completamente separados cada vez no aportan nada.
text | es | es mejor buscar una base común más sencilla en mi opinión .
text | es | @pedrobaeza con algo así como lo verías?
text | es | se quitaria la mayor parte del stack extra dejando solo el edi_oca, que nos permite gestionar la generacioń y envío.
text | es | obviamente no pondríamos más dependencias que las explicadas .
code | code | https://github.com/oca/edi-framework/pull/192#issuecomment-3166786574 .
text | es | el problema es que esto no va a estar en 18.
code | code | .
text | es | se puede hablar con el equipo edi y hacer comunicacion en el contributors de la oca si es necesario y el concepto cuadra para todos .
text | es | bueno, primero habría que conseguir eso, y luego ver cómo se queda finalmente.
code | code | .
text | es | parece que irá a buen puerto, con lo que podemos plantear el cambio ya en v18.
text | es | simplificandonos la vida a todos.
Detalles: total_items: 66 | code_items: 11 | spanish_items: 55 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | https://github.com/oca/edi-framework/pull/192#issuecomment-3166786574 .
Dato borrado: code | code | .
Dato borrado: code | code | .
recomposed_text: hola,
no veo mal que haya un módulo para gestiona las comunicaciones, ya que da mucha más versatilidad a oca. el problema que veo es que el framework edi le ha pasado como al contract, ha evolucionado mucho y de tener una orientación sencilla de utilización ha pasado a ser un monstruito jaja. ¿cabe la posibilidad de separación y adaptación del framework edi? según estuve mirando en su día el punto 1 no lo veo viable. el punto 2, me gustaría no realizarlo ya que realizar módulos bases de comunicaciones es muy útil, a lo mejor ... añadir un apartado a los videos donde se explicase el funcionamiento de framework edi ¿podría estar bien @etobella ? creo que como has comentado enric, el camino natural ha ido a la extracción de ese apartado, no veo del todo bien volver hacía atrás, si no, que se tendría que simplificar. ¿creación de otro módulo de comunicaciones más sencillito? ( pero eso se podría conseguir con el refactor y separación del framework edi ¿correcto?) . ¿no podríamos hacer como con sii, que solo se necesitan unos cuantos campos de control? realmente el resto de información se ha demostrado no demasiado útil, y más si hay una plataforma como face detrás, donde la misma ya registra la actividad. a efectos prácticos, solo necesitamos saber si se ha enviado o no, y error en caso de que no. seria otra opción, si, por eso eran las ideas que se me ocurrían por ahora. de todas formas, si simplificasemos el edi framework no lo vería mal yo . el tema es depender de la migración de ese framework en cada versión para tener esto operativo, y más si se da integración por lo de la ley "crea y crece". en ese sentido deberíamos ser más autónomos. por eso también se quiso quitar de en medio `queue_job` en el sii. también depende de otros módulos, aunque el edi-framework acostumbra a ser el más complejo. además, la ley crea y crece no irá con facturae, así que si deberá ser con un módulo diferente (y sus respectivos campos y tal) . cuantos menos módulos haya en la pila, mejor, y algunas dependencias son lógicas (como `l10n_es_facturae`), pero todo el framework edi no. en eso estoy de acuerdo @pedrobaeza de todas formas, el problema no es el edi-framework, es todo lo que lleva incorporado (queue job, connector....) que tiene una arquitectura demasiado compleja cara llorando . pues entonces sí que estás de acuerdo, porque el tema es que esa pila es demasiado compleja, y en 18 o cortamos por lo sano, o esa supuesta refactorización del edi no va a llegar, porque ya hay una parte de la pila fusionada y otros no van a querer cambiarla, y mientras, seguiremos sin tener este módulo disponible. a nivel de pilas de módulos obviamente sería mejor integrarlo en el propio y listo, pero veo mejor que exista uno base para que el máximo de módulos se pueda beneficiar de ello, como actualmente está el framework-edi. estoy de acuerdo en que la dependencia tecnológica de ese módulo es muy grande y hay puntos de los cuales se quiere "huir" (job_queue) como pasó con el sii (también se podría mirar de adaptar el módulo para el queue o triggers de odoo, según configuración o extensiones). según lo veo yo si integramos esta conexión directamente en el módulo, estamos "cerrando" y duplicando funcionalidades que actualmente están genéricas. está bien que hayan módulos bases para circuitos de comunicaciones, ya que estamos viendo que cada vez es más común. yo no veo que tenga tanta base compartida, pero si acaso, esa base podría ir en `l10n_es_aeat` como hicimos con sii/verifactu. pero entonces si otros módulos se quieren aprovechar de esas funcionalidades si no son del repo l10n-spain, no podrán. por otro lado, esta característica podría necesitarse o no ¿es necesario ponerlo en el l10n_es_aeat? ya que en general no gusta ampliar ese módulo. ¿pero qué funcionalidad se va a reaprovechar? a ver, dejemos de hablar en abstracto. aquí no hay nada reaprovechable realmente. lo dicho, al final tenemos unos campos de estado de envío/error, y el código que llama a la api de face. por eso digo que no hay que complicarse. teniendo librerías python para esas comunicaciones, y que se inicializan con dos líneas y se envían datos con otras 2, dejemos de montar capas abstractas que si `edi_webservice`, y sustituyendo código por configuraciones raras que continuamente cualquier cambio hacía que ya no saliera un botón o que no se enviara. lo dicho, tenemos el antecedente del sii donde no hay complicación. y lo de `l10n_es_aeat` era siguiendo vuestra línea de razonamiento, pero que efectivamente, aquí no hay código compartido con nada. lo otro de sii/verifactu era porque las estructuras de datos que se envían son iguales en ambos, y sí es más cantidad de código. @pedrobaeza se reaprovechan cosas. yo en mi caso tengo clientes que envían las facturas de múltiples formas dependendiendo de cliente y el funcionamiento de edi ayuda un montón. personalmente estoy de acuerdo que el stack de edi-framework es demasiado complejo al depender de component y de queue_job y me ofrezco a eliminar esas dependencias para simplificar el stack. pero de eso a cargarnos el concepto, pues veo muchos problemas. sobretodo cuando venga la factura electrónica obligatoria en ubl, en el que reinventaremos la rueda según tu idea para generar los ficheros y el envío, ya que el de face no nos servirá (desconocemos aún la forma de envío, pero los ficheros seran distintos al 100%). además que tendremos que notificar los pagos, con lo que tendremos un doble flujo de entrada (envío de facturas de venta, recepción de compras, envío de estado de compras....) todo esto ya está contemplado en edi y nos lo simplifica bastante si lo mejoramos un poco. sé que personalmente no es fruto de tu devoción el framework de edi, pero creo que hacerlos completamente separados cada vez no aportan nada. es mejor buscar una base común más sencilla en mi opinión . @pedrobaeza con algo así como lo verías? se quitaria la mayor parte del stack extra dejando solo el edi_oca, que nos permite gestionar la generacioń y envío. obviamente no pondríamos más dependencias que las explicadas . el problema es que esto no va a estar en 18. se puede hablar con el equipo edi y hacer comunicacion en el contributors de la oca si es necesario y el concepto cuadra para todos . bueno, primero habría que conseguir eso, y luego ver cómo se queda finalmente. parece que irá a buen puerto, con lo que podemos plantear el cambio ya en v18. simplificandonos la vida a todos.
__Recursividad__
text | es | hola,
no veo mal que haya un módulo para gestiona las comunicaciones, ya que da mucha más versatilidad a oca.
text | es | el problema que veo es que el framework edi le ha pasado como al contract, ha evolucionado mucho y de tener una orientación sencilla de utilización ha pasado a ser un monstruito jaja.
text | es | ¿cabe la posibilidad de separación y adaptación del framework edi?
text | es | según estuve mirando en su día el punto 1 no lo veo viable.
text | es | el punto 2, me gustaría no realizarlo ya que realizar módulos bases de comunicaciones es muy útil, a lo mejor ...
text | es | añadir un apartado a los videos donde se explicase el funcionamiento de framework edi ¿podría estar bien @etobella ?
text | es | creo que como has comentado enric, el camino natural ha ido a la extracción de ese apartado, no veo del todo bien volver hacía atrás, si no, que se tendría que simplificar.
text | es | ¿creación de otro módulo de comunicaciones más sencillito? (
text | es | pero eso se podría conseguir con el refactor y separación del framework edi ¿correcto?) .
text | es | ¿no podríamos hacer como con sii, que solo se necesitan unos cuantos campos de control?
text | es | realmente el resto de información se ha demostrado no demasiado útil, y más si hay una plataforma como face detrás, donde la misma ya registra la actividad.
text | es | a efectos prácticos, solo necesitamos saber si se ha enviado o no, y error en caso de que no.
text | es | seria otra opción, si, por eso eran las ideas que se me ocurrían por ahora.
text | es | de todas formas, si simplificasemos el edi framework no lo vería mal yo .
text | es | el tema es depender de la migración de ese framework en cada versión para tener esto operativo, y más si se da integración por lo de la ley "crea y crece".
text | es | en ese sentido deberíamos ser más autónomos.
text | es | por eso también se quiso quitar de en medio `queue_job` en el sii.
text | es | también depende de otros módulos, aunque el edi-framework acostumbra a ser el más complejo.
text | es | además, la ley crea y crece no irá con facturae, así que si deberá ser con un módulo diferente (y sus respectivos campos y tal) .
text | es | cuantos menos módulos haya en la pila, mejor, y algunas dependencias son lógicas (como `l10n_es_facturae`), pero todo el framework edi no.
text | es | en eso estoy de acuerdo @pedrobaeza de todas formas, el problema no es el edi-framework, es todo lo que lleva incorporado (queue job, connector....) que tiene una arquitectura demasiado compleja cara llorando .
text | es | pues entonces sí que estás de acuerdo, porque el tema es que esa pila es demasiado compleja, y en 18 o cortamos por lo sano, o esa supuesta refactorización del edi no va a llegar, porque ya hay una parte de la pila fusionada y otros no van a querer cambiarla, y mientras, seguiremos sin tener este módulo disponible.
text | es | a nivel de pilas de módulos obviamente sería mejor integrarlo en el propio y listo, pero veo mejor que exista uno base para que el máximo de módulos se pueda beneficiar de ello, como actualmente está el framework-edi.
text | es | estoy de acuerdo en que la dependencia tecnológica de ese módulo es muy grande y hay puntos de los cuales se quiere "huir" (job_queue) como pasó con el sii (también se podría mirar de adaptar el módulo para el queue o triggers de odoo, según configuración o extensiones).
text | es | según lo veo yo si integramos esta conexión directamente en el módulo, estamos "cerrando" y duplicando funcionalidades que actualmente están genéricas.
text | es | está bien que hayan módulos bases para circuitos de comunicaciones, ya que estamos viendo que cada vez es más común.
text | es | yo no veo que tenga tanta base compartida, pero si acaso, esa base podría ir en `l10n_es_aeat` como hicimos con sii/verifactu.
text | es | pero entonces si otros módulos se quieren aprovechar de esas funcionalidades si no son del repo l10n-spain, no podrán.
text | es | por otro lado, esta característica podría necesitarse o no ¿es necesario ponerlo en el l10n_es_aeat?
text | es | ya que en general no gusta ampliar ese módulo.
text | es | ¿pero qué funcionalidad se va a reaprovechar?
text | es | a ver, dejemos de hablar en abstracto.
text | es | aquí no hay nada reaprovechable realmente.
text | es | lo dicho, al final tenemos unos campos de estado de envío/error, y el código que llama a la api de face.
text | es | por eso digo que no hay que complicarse.
text | es | teniendo librerías python para esas comunicaciones, y que se inicializan con dos líneas y se envían datos con otras 2, dejemos de montar capas abstractas que si `edi_webservice`, y sustituyendo código por configuraciones raras que continuamente cualquier cambio hacía que ya no saliera un botón o que no se enviara.
text | es | lo dicho, tenemos el antecedente del sii donde no hay complicación.
text | es | y lo de `l10n_es_aeat` era siguiendo vuestra línea de razonamiento, pero que efectivamente, aquí no hay código compartido con nada.
text | es | lo otro de sii/verifactu era porque las estructuras de datos que se envían son iguales en ambos, y sí es más cantidad de código.
text | es | @pedrobaeza se reaprovechan cosas.
text | es | yo en mi caso tengo clientes que envían las facturas de múltiples formas dependendiendo de cliente y el funcionamiento de edi ayuda un montón.
text | es | personalmente estoy de acuerdo que el stack de edi-framework es demasiado complejo al depender de component y de queue_job y me ofrezco a eliminar esas dependencias para simplificar el stack.
text | es | pero de eso a cargarnos el concepto, pues veo muchos problemas.
text | es | sobretodo cuando venga la factura electrónica obligatoria en ubl, en el que reinventaremos la rueda según tu idea para generar los ficheros y el envío, ya que el de face no nos servirá (desconocemos aún la forma de envío, pero los ficheros seran distintos al 100%).
text | es | además que tendremos que notificar los pagos, con lo que tendremos un doble flujo de entrada (envío de facturas de venta, recepción de compras, envío de estado de compras....) todo esto ya está contemplado en edi y nos lo simplifica bastante si lo mejoramos un poco.
text | es | sé que personalmente no es fruto de tu devoción el framework de edi, pero creo que hacerlos completamente separados cada vez no aportan nada.
text | es | es mejor buscar una base común más sencilla en mi opinión .
text | es | @pedrobaeza con algo así como lo verías?
text | es | se quitaria la mayor parte del stack extra dejando solo el edi_oca, que nos permite gestionar la generacioń y envío.
text | es | obviamente no pondríamos más dependencias que las explicadas .
text | es | el problema es que esto no va a estar en 18.
text | es | se puede hablar con el equipo edi y hacer comunicacion en el contributors de la oca si es necesario y el concepto cuadra para todos .
text | es | bueno, primero habría que conseguir eso, y luego ver cómo se queda finalmente.
text | es | parece que irá a buen puerto, con lo que podemos plantear el cambio ya en v18.
text | es | simplificandonos la vida a todos.
Detalles: total_items: 55 | code_items: 0 | spanish_items: 55 | english_items: 0
recomposed_text: hola,
no veo mal que haya un módulo para gestiona las comunicaciones, ya que da mucha más versatilidad a oca. el problema que veo es que el framework edi le ha pasado como al contract, ha evolucionado mucho y de tener una orientación sencilla de utilización ha pasado a ser un monstruito jaja. ¿cabe la posibilidad de separación y adaptación del framework edi? según estuve mirando en su día el punto 1 no lo veo viable. el punto 2, me gustaría no realizarlo ya que realizar módulos bases de comunicaciones es muy útil, a lo mejor ... añadir un apartado a los videos donde se explicase el funcionamiento de framework edi ¿podría estar bien @etobella ? creo que como has comentado enric, el camino natural ha ido a la extracción de ese apartado, no veo del todo bien volver hacía atrás, si no, que se tendría que simplificar. ¿creación de otro módulo de comunicaciones más sencillito? ( pero eso se podría conseguir con el refactor y separación del framework edi ¿correcto?) . ¿no podríamos hacer como con sii, que solo se necesitan unos cuantos campos de control? realmente el resto de información se ha demostrado no demasiado útil, y más si hay una plataforma como face detrás, donde la misma ya registra la actividad. a efectos prácticos, solo necesitamos saber si se ha enviado o no, y error en caso de que no. seria otra opción, si, por eso eran las ideas que se me ocurrían por ahora. de todas formas, si simplificasemos el edi framework no lo vería mal yo . el tema es depender de la migración de ese framework en cada versión para tener esto operativo, y más si se da integración por lo de la ley "crea y crece". en ese sentido deberíamos ser más autónomos. por eso también se quiso quitar de en medio `queue_job` en el sii. también depende de otros módulos, aunque el edi-framework acostumbra a ser el más complejo. además, la ley crea y crece no irá con facturae, así que si deberá ser con un módulo diferente (y sus respectivos campos y tal) . cuantos menos módulos haya en la pila, mejor, y algunas dependencias son lógicas (como `l10n_es_facturae`), pero todo el framework edi no. en eso estoy de acuerdo @pedrobaeza de todas formas, el problema no es el edi-framework, es todo lo que lleva incorporado (queue job, connector....) que tiene una arquitectura demasiado compleja cara llorando . pues entonces sí que estás de acuerdo, porque el tema es que esa pila es demasiado compleja, y en 18 o cortamos por lo sano, o esa supuesta refactorización del edi no va a llegar, porque ya hay una parte de la pila fusionada y otros no van a querer cambiarla, y mientras, seguiremos sin tener este módulo disponible. a nivel de pilas de módulos obviamente sería mejor integrarlo en el propio y listo, pero veo mejor que exista uno base para que el máximo de módulos se pueda beneficiar de ello, como actualmente está el framework-edi. estoy de acuerdo en que la dependencia tecnológica de ese módulo es muy grande y hay puntos de los cuales se quiere "huir" (job_queue) como pasó con el sii (también se podría mirar de adaptar el módulo para el queue o triggers de odoo, según configuración o extensiones). según lo veo yo si integramos esta conexión directamente en el módulo, estamos "cerrando" y duplicando funcionalidades que actualmente están genéricas. está bien que hayan módulos bases para circuitos de comunicaciones, ya que estamos viendo que cada vez es más común. yo no veo que tenga tanta base compartida, pero si acaso, esa base podría ir en `l10n_es_aeat` como hicimos con sii/verifactu. pero entonces si otros módulos se quieren aprovechar de esas funcionalidades si no son del repo l10n-spain, no podrán. por otro lado, esta característica podría necesitarse o no ¿es necesario ponerlo en el l10n_es_aeat? ya que en general no gusta ampliar ese módulo. ¿pero qué funcionalidad se va a reaprovechar? a ver, dejemos de hablar en abstracto. aquí no hay nada reaprovechable realmente. lo dicho, al final tenemos unos campos de estado de envío/error, y el código que llama a la api de face. por eso digo que no hay que complicarse. teniendo librerías python para esas comunicaciones, y que se inicializan con dos líneas y se envían datos con otras 2, dejemos de montar capas abstractas que si `edi_webservice`, y sustituyendo código por configuraciones raras que continuamente cualquier cambio hacía que ya no saliera un botón o que no se enviara. lo dicho, tenemos el antecedente del sii donde no hay complicación. y lo de `l10n_es_aeat` era siguiendo vuestra línea de razonamiento, pero que efectivamente, aquí no hay código compartido con nada. lo otro de sii/verifactu era porque las estructuras de datos que se envían son iguales en ambos, y sí es más cantidad de código. @pedrobaeza se reaprovechan cosas. yo en mi caso tengo clientes que envían las facturas de múltiples formas dependendiendo de cliente y el funcionamiento de edi ayuda un montón. personalmente estoy de acuerdo que el stack de edi-framework es demasiado complejo al depender de component y de queue_job y me ofrezco a eliminar esas dependencias para simplificar el stack. pero de eso a cargarnos el concepto, pues veo muchos problemas. sobretodo cuando venga la factura electrónica obligatoria en ubl, en el que reinventaremos la rueda según tu idea para generar los ficheros y el envío, ya que el de face no nos servirá (desconocemos aún la forma de envío, pero los ficheros seran distintos al 100%). además que tendremos que notificar los pagos, con lo que tendremos un doble flujo de entrada (envío de facturas de venta, recepción de compras, envío de estado de compras....) todo esto ya está contemplado en edi y nos lo simplifica bastante si lo mejoramos un poco. sé que personalmente no es fruto de tu devoción el framework de edi, pero creo que hacerlos completamente separados cada vez no aportan nada. es mejor buscar una base común más sencilla en mi opinión . @pedrobaeza con algo así como lo verías? se quitaria la mayor parte del stack extra dejando solo el edi_oca, que nos permite gestionar la generacioń y envío. obviamente no pondríamos más dependencias que las explicadas . el problema es que esto no va a estar en 18. se puede hablar con el equipo edi y hacer comunicacion en el contributors de la oca si es necesario y el concepto cuadra para todos . bueno, primero habría que conseguir eso, y luego ver cómo se queda finalmente. parece que irá a buen puerto, con lo que podemos plantear el cambio ya en v18. simplificandonos la vida a todos.

# Entrada procesada 2026-02-09T14:14:22.674162 UTC
code | code | @aaronhforgeflow no te has saltado esta sobreescritura en el módulo `l10n_es_dua_sii` de la 16? https://github.com/oca/l10n-spain/blob/16.0/l10n_es_dua_sii/models/account_move.py#l47 lo que se hace en la 17 es integrar y adaptar ese otro módulo, porque el dua ya está en `l10n_es`.
code | code | .
text | es | @pedrobaeza claro, en la 16.0 estaba por separado persona con la mano en la frente de todas formas dejo el issue abierto a ver si alguien da una razón funcional/legal de por qué es así.
text | es | no he encontrado nada.
code | code | .
text | es | la razón es porque la factura original del proveedor extranjero no hay que enviarla.
text | es | la aeat dice que no pasa nada por enviarla (claro, ellos quieren cuanta más información de ti, mejor), pero como no es obligatoria, no se envía.
code | code | .
text | es | @pedrobaeza vale!
text | es | muchas gracias!
Detalles: total_items: 10 | code_items: 4 | spanish_items: 6 | english_items: 0
Dato borrado: code | code | @aaronhforgeflow no te has saltado esta sobreescritura en el módulo `l10n_es_dua_sii` de la 16? https://github.com/oca/l10n-spain/blob/16.0/l10n_es_dua_sii/models/account_move.py#l47 lo que se hace en la 17 es integrar y adaptar ese otro módulo, porque el dua ya está en `l10n_es`.
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
recomposed_text: @pedrobaeza claro, en la 16.0 estaba por separado persona con la mano en la frente de todas formas dejo el issue abierto a ver si alguien da una razón funcional/legal de por qué es así. no he encontrado nada. la razón es porque la factura original del proveedor extranjero no hay que enviarla. la aeat dice que no pasa nada por enviarla (claro, ellos quieren cuanta más información de ti, mejor), pero como no es obligatoria, no se envía. @pedrobaeza vale! muchas gracias!
__Recursividad__
text | es | @pedrobaeza claro, en la 16.0 estaba por separado persona con la mano en la frente de todas formas dejo el issue abierto a ver si alguien da una razón funcional/legal de por qué es así.
text | es | no he encontrado nada.
text | es | la razón es porque la factura original del proveedor extranjero no hay que enviarla.
text | es | la aeat dice que no pasa nada por enviarla (claro, ellos quieren cuanta más información de ti, mejor), pero como no es obligatoria, no se envía.
text | es | @pedrobaeza vale!
text | es | muchas gracias!
Detalles: total_items: 6 | code_items: 0 | spanish_items: 6 | english_items: 0
recomposed_text: @pedrobaeza claro, en la 16.0 estaba por separado persona con la mano en la frente de todas formas dejo el issue abierto a ver si alguien da una razón funcional/legal de por qué es así. no he encontrado nada. la razón es porque la factura original del proveedor extranjero no hay que enviarla. la aeat dice que no pasa nada por enviarla (claro, ellos quieren cuanta más información de ti, mejor), pero como no es obligatoria, no se envía. @pedrobaeza vale! muchas gracias!

# Entrada procesada 2026-02-09T14:14:22.710030 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:22.891271 UTC
text | es | esto sucede porque no tiene el codigo postal el cliente definido.
text | es | esta definido como un campo obligatorio para el envió del ticketbai cuando no deberia ser asi no? .
text | es | buenas @joaco1980 no entiendo muy bien como reproducir el error que comentas.
text | es | yo he realizado dos ventas en el pos sin seleccionar cliente y no me da ningún error.
text | es | las ventas "facturas simplificadas" se envían correctamente a tbai.
code | code | .
text | en | > buenas [@joaco1980](https://github.com/joaco1980) no entiendo muy bien como reproducir el error que comentas.
text | es | yo he realizado dos ventas en el pos sin seleccionar cliente y no me da ningún error.
text | es | las ventas "facturas simplificadas" se envían correctamente a tbai.
text | es | vale para replicarlo, crear un cliente nuevo "pepito flores" y déjale sin cp introducido, mete si quieres provincia, país y todos los datos que consideres pero deja vacío el cp.
text | es | es ahi donde da el error que comento, además si recargas la pagina y vuelves a crear el ticket se crea correctamente pero falla la transmisión y da error cuando haces un ticket después de este error: es): el xml del fichero ticketbai no cumple el esquema.[linea:2 columna:1706] error:cvc-pattern-valid: value 'an-an-nan' is not facet-valid with respect to pattern '\d{2,2}-\d{2,2}-\d{4,4}' for type 'fechatype'.(eu): ticketbai fitxategiaren xmlak ez du esquema betetzen.[linea:2 columna:1706] error:cvc-pattern-valid: value 'an-an-nan' is not facet-valid with respect to pattern '\d{2,2}-\d{2,2}-\d{4,4}' for type 'fechatype'.
code | code | concretamente da un error de validación con la fecha de la factura anterior que la deja asi en el xml:
<fechaexpedicionfacturaanterior>an-an-nan</fechaexpedicionfacturaanterior> yo estoy subiendo los tickets con error en la subida manualmente en el lroe poniendo esa fecha bien no se si es la manera correcta de hacerlo pero al menos se validan, porque el botón de cancelar y recrear no sirve en este caso concreto.
code | code | .
text | es | efectivamente si el cliente no tiene cp salta el error.
code | code | `typeerror: cannot read properties of undefined (reading 'number_prefix')` seguido de este error, el comportamiento al refrescar etc...
text | es | pues ya puede ser cualquier cosa.
text | es | efectivamente es un bug a corregir.
text | es | ping @rrebollo ¿como lo ves para corregir este problema?
text | es | nota: también recuerdo que quedo pendiente mejorar el módulo para que funcionara con el cambio de posición fiscal.
code | code | .
text | es | @bilbonet puedo ocuparme del error pero definamos antes la conducta a seguir: ¿debemos hacer un mejor tratamiento de excepciones y loguear el error concreto: un log indicando que el cp es requerido o el cp no es realmente requerido y podemos continuar con el flujo normal? .
text | es | buenas @rrebollo , muchas gracias por el ofrecimiento.
text | es | el tema del ticketbai funciona en las tres provincias vascas por separado.
text | es | lo digo porque aunque la normativa es común podría haber alguna pequeña diferencia.
text | es | yo voy a comentar basándome en el ticketbai de bizkaia "bfa".
text | es | adjunto documento con las especificaciones del envío para el alta de facturas por si necesitas comprobar alguna otra cosa.
text | es | respecto al error que nos ocupa.
text | es | el cp del destinatario no es un dato obligatorio.
text | es | bastaría con evitar que de error cuando se encuentra con este campo vacio.
code | code | <img width="1058" height="589" alt="image" src="https://github.com/user-attachments/assets/7f5ae03c-0b01-4977-85df-6e828a8bdf3e" /> cuadrado negro pequeño letra roja: bloque/campo obligatorio.
text | es | cuadrado negro pequeño letra negra: bloque/campo opcional.
text | es | cuadrado negro pequeño fondo rosa: bloque/campo excluyente.
code | code | quedo a tu disposición para cualquier otra aclaración cara feliz con ojos sonrientes [lroe_pj_240_alta_v1_0_0.pdf](https://github.com/user-attachments/files/22563391/lroe_pj_240_alta_v1_0_0.pdf) .
text | es | @bilbonet perfecto.
text | es | lo miro.
text | es | sucede que tenemos algunos issues también en una instalación de ticketbai pos en 16.0 y queremos ir descartando causas.
text | es | así que puedo aprovechar y corregir este issue también.
text | es | al cliente en cuestión le fallan algunos tickets en pos porque la secuencia que genera está repitiendo valores: el valor que sugiere ya está ocupado.
text | bilingual | me atrevo a consultarte.
text | es | ¿que crees que podríamos revisar?
text | es | uno de los temas fundamentales es la imposibilidad de reproducir el bug porque ocurre esporádicamente y no están claras las condiciones que lo desencadenan.
code | code | .
text | es | genial @rrebollo , para todo lo que necesites no dudes en contactarme.
text | es | respecto a lo que comentas de los duplicados mira esto #3984 cualquier cosa me comentas.
code | code | .
text | es | @bilbonet @joaco1980 he estado tratando de replicar el error originalmente reportado en este issue en el runboat pero estoy stuck en que el pos no carga el certificado.
code | code | <img width="982" height="423" alt="image" src="https://github.com/user-attachments/assets/e426a437-16c3-4bea-b38d-cea81e0678ce" /> estoy usando los datos de pruebas que se usan en los test automatizados.
text | es | alcanzo a ver que los certificados que vienen tanto en l10n_es_ticketbai como l10n_es_ticketbai_api parecen expirados.
code | code | <img width="1679" height="336" alt="image" src="https://github.com/user-attachments/assets/2c142cbf-be18-42ec-88eb-db6a76b56ee2" /> ¿me está faltanto alguna configuración? ¿donde puedo obtener un juego de datos apropiado para las pruebas? solo de cargar el pos tengo dorso de mano con índice hacia abajo error en consola del browser <img width="560" height="189" alt="image" src="https://github.com/user-attachments/assets/d15c00b3-7521-4ed2-b69c-7d2420d66252" /> .
code | code | aqui tienes certificados para pruebas https://www.batuz.eus/fitxategiak/batuz/lroe/batuz_lroe_ziurtagiriak_kit_certificados_v1_0_3.7z get outlook for android<https://aka.ms/ghei36> ________________________________ from: rolando pérez rebollo ***@***.***> sent: sunday, september 28, 2025 2:13:30 pm to: oca/l10n-spain ***@***.***> cc: jesus (bilbonet) ***@***.***>; mention ***@***.***> subject: re: [oca/l10n-spain] [16] l10n_es_ticketbai_pos: ticketbai no construida aun.
code | code | (issue #4291) [https://avatars.githubusercontent.com/u/38138332?s=20&v=4]rrebollo left a comment (oca/l10n-spain#4291)<https://github.com/oca/l10n-spain/issues/4291#issuecomment-3343099649> @bilbonet<https://github.com/bilbonet> @joaco1980<https://github.com/joaco1980> he estado tratando de replicar el error originalmente reportado en este issue en el runboar pero estoy stuck en que el pos carga el certificado image.png (view on web)<https://github.com/user-attachments/assets/e426a437-16c3-4bea-b38d-cea81e0678ce> estoy usando los datos de pruebas que se usan en los test automatizados.
text | es | alcanzo a ver que los certificados que vienen tanto en l10n_es_ticketbai_pos como l10n_es_ticketbai_api parecen expirados.
code | code | image.png (view on web)<https://github.com/user-attachments/assets/2c142cbf-be18-42ec-88eb-db6a76b56ee2> ¿me está faltanto alguna configuración, donde puedo obtener un juego de datos apropiado para las pruebas? — reply to this email directly, view it on github<https://github.com/oca/l10n-spain/issues/4291#issuecomment-3343099649>, or unsubscribe<https://github.com/notifications/unsubscribe-auth/ab6mt4gny2wxfnfma7ljgjl3u7ggvavcnfsm6aaaaacbxyiwoovhi2dsmvqwix3lmv43oslton2wkq3pnvwwk3tuhmztgnbtga4tsnruhe>.
code | code | you are receiving this because you were mentioned.message id: ***@***.***> .
text | es | > el tema del ticketbai funciona en las tres provincias vascas por separado.
text | es | lo digo porque aunque la normativa es común podría haber alguna pequeña diferencia.
text | es | yo voy a comentar basándome en el ticketbai de bizkaia "bfa".
code | code | @bilbonet, si miramos: https://github.com/oca/l10n-spain/blob/0ba2de3db3f42dc16af7504e2329b4036582dce9/l10n_es_ticketbai_api/models/ticketbai_invoice.py#l939-l953 dedo índice hacia arriba código indica que gipuzkoa es la excepción.
text | es | (aclaro que este fragmento **no** es el que se ejecuta en el módulo `l10n_es_ticketbai_pos`, pero lo encontré como un hallazgo interesante durante el análisis del issue).
text | es | pregunto porque tengo listo un fix para el error reportado aquí, pero ahora tengo que refinarlo porque hay diferencias de comportamiento entre las agencias.
code | code | .
text | es | @rrebollo interesante.
text | es | corrijo: parece que 'bizkaia/vizcaya' es la excepción "que infierno cara triste pero aliviada ".
text | es | pues parece que en facturación ya se dio este problema y fue solventado.
text | es | imagino que lo mas sencillo sería aplicar el mismo procedimiento en el pos.
text | es | pero lo que tu prefieras.
text | es | por mi como si se pone zip obligatorio para todas.
text | es | en este caso tampoco me parece muy importante hilar fino cara feliz con ojos sonrientes .
code | code | .
code | code | > @rrebollo interesante.
text | es | > corrijo: parece que 'bizkaia/vizcaya' es la excepción "que infierno cara triste pero aliviada ".
text | es | > > pues parece que en facturación ya se dio este problema y fue solventado.
text | es | imagino que lo mas sencillo sería aplicar el mismo procedimiento en el pos.
text | es | > pero lo que tu prefieras.
text | es | por mi como si se pone zip obligatorio para todas.
text | es | en este caso tampoco me parece muy importante hilar fino cara feliz con ojos sonrientes .
text | es | > yo creo que solo deberia de ser obligatorio si el destinatario lleva nif y quiere deducirse por cualquier motivo el iva, ahí si se obliga a introducir el "domicilio" que supongo que incluya el zip.
text | es | precisamente las facturas simplificadas es para simplificar la facturación diaria, si exigimos completar todos esos campos que diferencia tenemos con hacer una factura de toda la vida?
text | es | una tienda que lo utiliza necesita agilidad en la venta, y si quiere asignar un cliente por tema estadístico y de control de ventas no debería tener que pedir tantos datos, es mi opinión.
text | es | en cualquier caso toméis la decisión que toméis el tema es que el error no permite arreglarlo introduciendo el zip y volver a crear el ticket, o sale sin qr a posteriori y no se crea en el backend, o borras la cache del navegador y vuelves a crearlo y esta vez si se realiza pero da el error de la fecha del ticket anterior en la trasmision, hay que modificarlo manualmente el xml y subirlo al lroe .
text | es | > yo creo que solo deberia de ser obligatorio si el destinatario lleva nif y quiere deducirse por cualquier motivo el iva, ahí si se obliga a introducir el "domicilio" que supongo que incluya el zip.
text | es | > > precisamente las facturas simplificadas es para simplificar la facturación diaria, si exigimos completar todos esos campos que diferencia tenemos con hacer una factura de toda la vida?
text | es | > > una tienda que lo utiliza necesita agilidad en la venta, y si quiere asignar un cliente por tema estadístico y de control de ventas no debería tener que pedir tantos datos, es mi opinión.
text | es | si claro.
text | es | el bug es solo cuando identificas al cliente.
text | es | si es una venta anónima no hay error.
code | code | .
text | es | @bilbonet cuando finalmente he podido dilucidar una estrategia para adaptar el código en l10n_es_ticketbai_pos y lograr hacer opcional el cp descubro que bizkaia está definida cómo tbai.tax.agency en el addon l10n_es_ticketbai_batuz.
text | es | esto técnicamente implica que para corregir "bien" el issue tendríamos que hacer depender el primer addon mencionado del segundo y ya no puedo evaluar que otras repercusiones tendría esto.
text | es | en este momento me inclino por dejarlo tal y como está.
text | es | ya que habría que ocuparse de temas de diseño más serios antes de abordar este.
text | es | @joaco1980 lo siento.
text | es | si te sirve de algo eso solo está validando que el zip sean 5 dígitos consecutivos so ...
code | code | .
text | es | ya veo que se ha definido en los módulos de batuz.
text | es | ciertamente esto lo complica cara desanimada .
code | code | https://github.com/oca/l10n-spain/blob/435ca7a53c5ee325f21d50d00306147b29ec55b7/l10n_es_ticketbai_api_batuz/data/tax_agency_data.xml#l5 a estas alturas y viendo que no creo que tbai de oca pase de la versión 16.0.
text | es | mejor seguir con la mismo estrategia y plantear un nuevo módulo que realice estas correcciones: - **l10n_es_ticketbai_pos_batuz** .
text | es | a mi me parece bien que no toquéis nada pero que al menos ese error no implique no poder avanzar, es decir, si no hay zip en la validación que salte un error de que falta el zip y al menos que te deje volver al cliente, introducir un zip y volver a intentar la transmisión del ticket con el zip.
text | es | ahora el comportamiento es el siguiente: - salta el error de construcción
- si luego intentas hacer el ticket le hace pero sin qr de tbai, puede incluso saltar la secuencia o ni realizarse en el backend.
text | es | - hay que borrar cache del navegador y volver a realizar la venrta
- genera el ticket bien con el qr pero falla el xsig porque el campo de fecha de factura anterior le deja vacío an-an-annn.
text | es | es como si en todo el proceso perdería la referencia del ticket anterior.
text | es | esto implica un error en la transmisión a la hacienda vasca, hay que descargarse el xsig, ponerle la fecha correctamente y subirlo manualmente al lroe.
code | code | .
text | es | > a estas alturas y viendo que no creo que tbai de oca pase de la versión 16.0.
text | es | mejor seguir con la mismo estrategia y plantear un nuevo módulo que realice estas correcciones vi algo de que ticketbai está disponible en odoo ¿enterprise o community a partir de que versión?
text | bilingual | y powered by @ao-landoo y su team creo.
code | code | .
text | es | @joaco1980 madurando esa última idea > a mi me parece bien que no toquéis nada pero que al menos ese error no implique no poder avanzar, tal vez algo se pueda hacer.
text | es | viendolo desde la perspectiva que planteas, el problema fundamental es que ese error ya salta durante la generación del ticket, tal vez si colocamos una validación al momento de escoger el cliente (el detalle es que realmente la validación ignorará el comportamiento para bizkaia: todos los clientes tienen que tener cp de 5 dígitos) @bilbonet ¿que crees? .
text | es | > > a estas alturas y viendo que no creo que tbai de oca pase de la versión 16.0.
text | es | mejor seguir con la mismo estrategia y plantear un nuevo módulo que realice estas correcciones
> > vi algo de que ticketbai está disponible en odoo ¿enterprise o community a partir de que versión?
text | en | y powered by [@ao-landoo](https://github.com/ao-landoo) y su team creo.
text | es | ticketbai esta diponible en el core de odoo desde la 16.0.
text | es | pero no en el pos.
text | es | ticketbai en el pos se que está en la 18.0 no lo sé seguro si esta en la 17.0 .
text | en | > [@joaco1980](https://github.com/joaco1980) madurando esa última idea
> > > a mi me parece bien que no toquéis nada pero que al menos ese error no implique no poder avanzar,
> > tal vez algo se pueda hacer.
text | es | viendolo desde la perspectiva que planteas, el problema fundamental es que ese error ya salta durante la generación del ticket, tal vez si colocamos una validación al momento de escoger el cliente (el detalle es que realmente la validación ignorará el comportamiento para bizkaia: todos los clientes tienen que tener cp de 5 dígitos) [@bilbonet](https://github.com/bilbonet) ¿que crees?
text | es | pues si, me parece mejor poner una restricción general.
text | es | **que se obligue a poner cp si identificas al cliente, sea cual sea la hacienda,**
es peor dejar el error actual.
text | es | que según comenta @joaco1980 hace un estropicio importante cortar la ejecución con el error actual.
code | code | .
text | es | @joaco1980 ¿podremos cerrar este issue entonces?
Detalles: total_items: 123 | code_items: 25 | spanish_items: 93 | english_items: 3
Dato borrado: code | code | .
Dato borrado: text | en | > buenas [@joaco1980](https://github.com/joaco1980) no entiendo muy bien como reproducir el error que comentas.
Dato borrado: code | code | concretamente da un error de validación con la fecha de la factura anterior que la deja asi en el xml:
<fechaexpedicionfacturaanterior>an-an-nan</fechaexpedicionfacturaanterior> yo estoy subiendo los tickets con error en la subida manualmente en el lroe poniendo esa fecha bien no se si es la manera correcta de hacerlo pero al menos se validan, porque el botón de cancelar y recrear no sirve en este caso concreto.
Dato borrado: code | code | .
Dato borrado: code | code | `typeerror: cannot read properties of undefined (reading 'number_prefix')` seguido de este error, el comportamiento al refrescar etc...
Dato borrado: code | code | .
Dato borrado: code | code | <img width="1058" height="589" alt="image" src="https://github.com/user-attachments/assets/7f5ae03c-0b01-4977-85df-6e828a8bdf3e" /> cuadrado negro pequeño letra roja: bloque/campo obligatorio.
Dato borrado: code | code | quedo a tu disposición para cualquier otra aclaración cara feliz con ojos sonrientes [lroe_pj_240_alta_v1_0_0.pdf](https://github.com/user-attachments/files/22563391/lroe_pj_240_alta_v1_0_0.pdf) .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | <img width="982" height="423" alt="image" src="https://github.com/user-attachments/assets/e426a437-16c3-4bea-b38d-cea81e0678ce" /> estoy usando los datos de pruebas que se usan en los test automatizados.
Dato borrado: code | code | <img width="1679" height="336" alt="image" src="https://github.com/user-attachments/assets/2c142cbf-be18-42ec-88eb-db6a76b56ee2" /> ¿me está faltanto alguna configuración? ¿donde puedo obtener un juego de datos apropiado para las pruebas? solo de cargar el pos tengo dorso de mano con índice hacia abajo error en consola del browser <img width="560" height="189" alt="image" src="https://github.com/user-attachments/assets/d15c00b3-7521-4ed2-b69c-7d2420d66252" /> .
Dato borrado: code | code | aqui tienes certificados para pruebas https://www.batuz.eus/fitxategiak/batuz/lroe/batuz_lroe_ziurtagiriak_kit_certificados_v1_0_3.7z get outlook for android<https://aka.ms/ghei36> ________________________________ from: rolando pérez rebollo ***@***.***> sent: sunday, september 28, 2025 2:13:30 pm to: oca/l10n-spain ***@***.***> cc: jesus (bilbonet) ***@***.***>; mention ***@***.***> subject: re: [oca/l10n-spain] [16] l10n_es_ticketbai_pos: ticketbai no construida aun.
Dato borrado: code | code | (issue #4291) [https://avatars.githubusercontent.com/u/38138332?s=20&v=4]rrebollo left a comment (oca/l10n-spain#4291)<https://github.com/oca/l10n-spain/issues/4291#issuecomment-3343099649> @bilbonet<https://github.com/bilbonet> @joaco1980<https://github.com/joaco1980> he estado tratando de replicar el error originalmente reportado en este issue en el runboar pero estoy stuck en que el pos carga el certificado image.png (view on web)<https://github.com/user-attachments/assets/e426a437-16c3-4bea-b38d-cea81e0678ce> estoy usando los datos de pruebas que se usan en los test automatizados.
Dato borrado: code | code | image.png (view on web)<https://github.com/user-attachments/assets/2c142cbf-be18-42ec-88eb-db6a76b56ee2> ¿me está faltanto alguna configuración, donde puedo obtener un juego de datos apropiado para las pruebas? — reply to this email directly, view it on github<https://github.com/oca/l10n-spain/issues/4291#issuecomment-3343099649>, or unsubscribe<https://github.com/notifications/unsubscribe-auth/ab6mt4gny2wxfnfma7ljgjl3u7ggvavcnfsm6aaaaacbxyiwoovhi2dsmvqwix3lmv43oslton2wkq3pnvwwk3tuhmztgnbtga4tsnruhe>.
Dato borrado: code | code | you are receiving this because you were mentioned.message id: ***@***.***> .
Dato borrado: code | code | @bilbonet, si miramos: https://github.com/oca/l10n-spain/blob/0ba2de3db3f42dc16af7504e2329b4036582dce9/l10n_es_ticketbai_api/models/ticketbai_invoice.py#l939-l953 dedo índice hacia arriba código indica que gipuzkoa es la excepción.
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | > @rrebollo interesante.
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | https://github.com/oca/l10n-spain/blob/435ca7a53c5ee325f21d50d00306147b29ec55b7/l10n_es_ticketbai_api_batuz/data/tax_agency_data.xml#l5 a estas alturas y viendo que no creo que tbai de oca pase de la versión 16.0.
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: text | en | y powered by [@ao-landoo](https://github.com/ao-landoo) y su team creo.
Dato borrado: text | en | > [@joaco1980](https://github.com/joaco1980) madurando esa última idea
> > > a mi me parece bien que no toquéis nada pero que al menos ese error no implique no poder avanzar,
> > tal vez algo se pueda hacer.
Dato borrado: code | code | .
recomposed_text: esto sucede porque no tiene el codigo postal el cliente definido. esta definido como un campo obligatorio para el envió del ticketbai cuando no deberia ser asi no? . buenas @joaco1980 no entiendo muy bien como reproducir el error que comentas. yo he realizado dos ventas en el pos sin seleccionar cliente y no me da ningún error. las ventas "facturas simplificadas" se envían correctamente a tbai. yo he realizado dos ventas en el pos sin seleccionar cliente y no me da ningún error. las ventas "facturas simplificadas" se envían correctamente a tbai. vale para replicarlo, crear un cliente nuevo "pepito flores" y déjale sin cp introducido, mete si quieres provincia, país y todos los datos que consideres pero deja vacío el cp. es ahi donde da el error que comento, además si recargas la pagina y vuelves a crear el ticket se crea correctamente pero falla la transmisión y da error cuando haces un ticket después de este error: es): el xml del fichero ticketbai no cumple el esquema.[linea:2 columna:1706] error:cvc-pattern-valid: value 'an-an-nan' is not facet-valid with respect to pattern '\d{2,2}-\d{2,2}-\d{4,4}' for type 'fechatype'.(eu): ticketbai fitxategiaren xmlak ez du esquema betetzen.[linea:2 columna:1706] error:cvc-pattern-valid: value 'an-an-nan' is not facet-valid with respect to pattern '\d{2,2}-\d{2,2}-\d{4,4}' for type 'fechatype'. efectivamente si el cliente no tiene cp salta el error. pues ya puede ser cualquier cosa. efectivamente es un bug a corregir. ping @rrebollo ¿como lo ves para corregir este problema? nota: también recuerdo que quedo pendiente mejorar el módulo para que funcionara con el cambio de posición fiscal. @bilbonet puedo ocuparme del error pero definamos antes la conducta a seguir: ¿debemos hacer un mejor tratamiento de excepciones y loguear el error concreto: un log indicando que el cp es requerido o el cp no es realmente requerido y podemos continuar con el flujo normal? . buenas @rrebollo , muchas gracias por el ofrecimiento. el tema del ticketbai funciona en las tres provincias vascas por separado. lo digo porque aunque la normativa es común podría haber alguna pequeña diferencia. yo voy a comentar basándome en el ticketbai de bizkaia "bfa". adjunto documento con las especificaciones del envío para el alta de facturas por si necesitas comprobar alguna otra cosa. respecto al error que nos ocupa. el cp del destinatario no es un dato obligatorio. bastaría con evitar que de error cuando se encuentra con este campo vacio. cuadrado negro pequeño letra negra: bloque/campo opcional. cuadrado negro pequeño fondo rosa: bloque/campo excluyente. @bilbonet perfecto. lo miro. sucede que tenemos algunos issues también en una instalación de ticketbai pos en 16.0 y queremos ir descartando causas. así que puedo aprovechar y corregir este issue también. al cliente en cuestión le fallan algunos tickets en pos porque la secuencia que genera está repitiendo valores: el valor que sugiere ya está ocupado. me atrevo a consultarte. ¿que crees que podríamos revisar? uno de los temas fundamentales es la imposibilidad de reproducir el bug porque ocurre esporádicamente y no están claras las condiciones que lo desencadenan. genial @rrebollo , para todo lo que necesites no dudes en contactarme. respecto a lo que comentas de los duplicados mira esto #3984 cualquier cosa me comentas. @bilbonet @joaco1980 he estado tratando de replicar el error originalmente reportado en este issue en el runboat pero estoy stuck en que el pos no carga el certificado. alcanzo a ver que los certificados que vienen tanto en l10n_es_ticketbai como l10n_es_ticketbai_api parecen expirados. alcanzo a ver que los certificados que vienen tanto en l10n_es_ticketbai_pos como l10n_es_ticketbai_api parecen expirados. > el tema del ticketbai funciona en las tres provincias vascas por separado. lo digo porque aunque la normativa es común podría haber alguna pequeña diferencia. yo voy a comentar basándome en el ticketbai de bizkaia "bfa". (aclaro que este fragmento **no** es el que se ejecuta en el módulo `l10n_es_ticketbai_pos`, pero lo encontré como un hallazgo interesante durante el análisis del issue). pregunto porque tengo listo un fix para el error reportado aquí, pero ahora tengo que refinarlo porque hay diferencias de comportamiento entre las agencias. @rrebollo interesante. corrijo: parece que 'bizkaia/vizcaya' es la excepción "que infierno cara triste pero aliviada ". pues parece que en facturación ya se dio este problema y fue solventado. imagino que lo mas sencillo sería aplicar el mismo procedimiento en el pos. pero lo que tu prefieras. por mi como si se pone zip obligatorio para todas. en este caso tampoco me parece muy importante hilar fino cara feliz con ojos sonrientes . > corrijo: parece que 'bizkaia/vizcaya' es la excepción "que infierno cara triste pero aliviada ". > > pues parece que en facturación ya se dio este problema y fue solventado. imagino que lo mas sencillo sería aplicar el mismo procedimiento en el pos. > pero lo que tu prefieras. por mi como si se pone zip obligatorio para todas. en este caso tampoco me parece muy importante hilar fino cara feliz con ojos sonrientes . > yo creo que solo deberia de ser obligatorio si el destinatario lleva nif y quiere deducirse por cualquier motivo el iva, ahí si se obliga a introducir el "domicilio" que supongo que incluya el zip. precisamente las facturas simplificadas es para simplificar la facturación diaria, si exigimos completar todos esos campos que diferencia tenemos con hacer una factura de toda la vida? una tienda que lo utiliza necesita agilidad en la venta, y si quiere asignar un cliente por tema estadístico y de control de ventas no debería tener que pedir tantos datos, es mi opinión. en cualquier caso toméis la decisión que toméis el tema es que el error no permite arreglarlo introduciendo el zip y volver a crear el ticket, o sale sin qr a posteriori y no se crea en el backend, o borras la cache del navegador y vuelves a crearlo y esta vez si se realiza pero da el error de la fecha del ticket anterior en la trasmision, hay que modificarlo manualmente el xml y subirlo al lroe . > yo creo que solo deberia de ser obligatorio si el destinatario lleva nif y quiere deducirse por cualquier motivo el iva, ahí si se obliga a introducir el "domicilio" que supongo que incluya el zip. > > precisamente las facturas simplificadas es para simplificar la facturación diaria, si exigimos completar todos esos campos que diferencia tenemos con hacer una factura de toda la vida? > > una tienda que lo utiliza necesita agilidad en la venta, y si quiere asignar un cliente por tema estadístico y de control de ventas no debería tener que pedir tantos datos, es mi opinión. si claro. el bug es solo cuando identificas al cliente. si es una venta anónima no hay error. @bilbonet cuando finalmente he podido dilucidar una estrategia para adaptar el código en l10n_es_ticketbai_pos y lograr hacer opcional el cp descubro que bizkaia está definida cómo tbai.tax.agency en el addon l10n_es_ticketbai_batuz. esto técnicamente implica que para corregir "bien" el issue tendríamos que hacer depender el primer addon mencionado del segundo y ya no puedo evaluar que otras repercusiones tendría esto. en este momento me inclino por dejarlo tal y como está. ya que habría que ocuparse de temas de diseño más serios antes de abordar este. @joaco1980 lo siento. si te sirve de algo eso solo está validando que el zip sean 5 dígitos consecutivos so ... ya veo que se ha definido en los módulos de batuz. ciertamente esto lo complica cara desanimada . mejor seguir con la mismo estrategia y plantear un nuevo módulo que realice estas correcciones: - **l10n_es_ticketbai_pos_batuz** . a mi me parece bien que no toquéis nada pero que al menos ese error no implique no poder avanzar, es decir, si no hay zip en la validación que salte un error de que falta el zip y al menos que te deje volver al cliente, introducir un zip y volver a intentar la transmisión del ticket con el zip. ahora el comportamiento es el siguiente: - salta el error de construcción
- si luego intentas hacer el ticket le hace pero sin qr de tbai, puede incluso saltar la secuencia o ni realizarse en el backend. - hay que borrar cache del navegador y volver a realizar la venrta
- genera el ticket bien con el qr pero falla el xsig porque el campo de fecha de factura anterior le deja vacío an-an-annn. es como si en todo el proceso perdería la referencia del ticket anterior. esto implica un error en la transmisión a la hacienda vasca, hay que descargarse el xsig, ponerle la fecha correctamente y subirlo manualmente al lroe. > a estas alturas y viendo que no creo que tbai de oca pase de la versión 16.0. mejor seguir con la mismo estrategia y plantear un nuevo módulo que realice estas correcciones vi algo de que ticketbai está disponible en odoo ¿enterprise o community a partir de que versión? y powered by @ao-landoo y su team creo. @joaco1980 madurando esa última idea > a mi me parece bien que no toquéis nada pero que al menos ese error no implique no poder avanzar, tal vez algo se pueda hacer. viendolo desde la perspectiva que planteas, el problema fundamental es que ese error ya salta durante la generación del ticket, tal vez si colocamos una validación al momento de escoger el cliente (el detalle es que realmente la validación ignorará el comportamiento para bizkaia: todos los clientes tienen que tener cp de 5 dígitos) @bilbonet ¿que crees? . > > a estas alturas y viendo que no creo que tbai de oca pase de la versión 16.0. mejor seguir con la mismo estrategia y plantear un nuevo módulo que realice estas correcciones
> > vi algo de que ticketbai está disponible en odoo ¿enterprise o community a partir de que versión? ticketbai esta diponible en el core de odoo desde la 16.0. pero no en el pos. ticketbai en el pos se que está en la 18.0 no lo sé seguro si esta en la 17.0 . viendolo desde la perspectiva que planteas, el problema fundamental es que ese error ya salta durante la generación del ticket, tal vez si colocamos una validación al momento de escoger el cliente (el detalle es que realmente la validación ignorará el comportamiento para bizkaia: todos los clientes tienen que tener cp de 5 dígitos) [@bilbonet](https://github.com/bilbonet) ¿que crees? pues si, me parece mejor poner una restricción general. **que se obligue a poner cp si identificas al cliente, sea cual sea la hacienda,**
es peor dejar el error actual. que según comenta @joaco1980 hace un estropicio importante cortar la ejecución con el error actual. @joaco1980 ¿podremos cerrar este issue entonces?
__Recursividad__
text | es | esto sucede porque no tiene el codigo postal el cliente definido.
text | es | esta definido como un campo obligatorio para el envió del ticketbai cuando no deberia ser asi no? .
text | es | buenas @joaco1980 no entiendo muy bien como reproducir el error que comentas.
text | es | yo he realizado dos ventas en el pos sin seleccionar cliente y no me da ningún error.
text | es | las ventas "facturas simplificadas" se envían correctamente a tbai.
text | es | yo he realizado dos ventas en el pos sin seleccionar cliente y no me da ningún error.
text | es | las ventas "facturas simplificadas" se envían correctamente a tbai.
text | es | vale para replicarlo, crear un cliente nuevo "pepito flores" y déjale sin cp introducido, mete si quieres provincia, país y todos los datos que consideres pero deja vacío el cp.
text | es | es ahi donde da el error que comento, además si recargas la pagina y vuelves a crear el ticket se crea correctamente pero falla la transmisión y da error cuando haces un ticket después de este error: es): el xml del fichero ticketbai no cumple el esquema.[linea:2 columna:1706] error:cvc-pattern-valid: value 'an-an-nan' is not facet-valid with respect to pattern '\d{2,2}-\d{2,2}-\d{4,4}' for type 'fechatype'.(eu): ticketbai fitxategiaren xmlak ez du esquema betetzen.[linea:2 columna:1706] error:cvc-pattern-valid: value 'an-an-nan' is not facet-valid with respect to pattern '\d{2,2}-\d{2,2}-\d{4,4}' for type 'fechatype'.
text | es | efectivamente si el cliente no tiene cp salta el error.
text | es | pues ya puede ser cualquier cosa.
text | es | efectivamente es un bug a corregir.
text | es | ping @rrebollo ¿como lo ves para corregir este problema?
text | es | nota: también recuerdo que quedo pendiente mejorar el módulo para que funcionara con el cambio de posición fiscal.
text | es | @bilbonet puedo ocuparme del error pero definamos antes la conducta a seguir: ¿debemos hacer un mejor tratamiento de excepciones y loguear el error concreto: un log indicando que el cp es requerido o el cp no es realmente requerido y podemos continuar con el flujo normal? .
text | es | buenas @rrebollo , muchas gracias por el ofrecimiento.
text | es | el tema del ticketbai funciona en las tres provincias vascas por separado.
text | es | lo digo porque aunque la normativa es común podría haber alguna pequeña diferencia.
text | es | yo voy a comentar basándome en el ticketbai de bizkaia "bfa".
text | es | adjunto documento con las especificaciones del envío para el alta de facturas por si necesitas comprobar alguna otra cosa.
text | es | respecto al error que nos ocupa.
text | es | el cp del destinatario no es un dato obligatorio.
text | es | bastaría con evitar que de error cuando se encuentra con este campo vacio.
text | es | cuadrado negro pequeño letra negra: bloque/campo opcional.
text | es | cuadrado negro pequeño fondo rosa: bloque/campo excluyente.
text | es | @bilbonet perfecto.
text | es | lo miro.
text | es | sucede que tenemos algunos issues también en una instalación de ticketbai pos en 16.0 y queremos ir descartando causas.
text | es | así que puedo aprovechar y corregir este issue también.
text | es | al cliente en cuestión le fallan algunos tickets en pos porque la secuencia que genera está repitiendo valores: el valor que sugiere ya está ocupado.
text | bilingual | me atrevo a consultarte.
text | es | ¿que crees que podríamos revisar?
text | es | uno de los temas fundamentales es la imposibilidad de reproducir el bug porque ocurre esporádicamente y no están claras las condiciones que lo desencadenan.
text | es | genial @rrebollo , para todo lo que necesites no dudes en contactarme.
text | es | respecto a lo que comentas de los duplicados mira esto #3984 cualquier cosa me comentas.
text | es | @bilbonet @joaco1980 he estado tratando de replicar el error originalmente reportado en este issue en el runboat pero estoy stuck en que el pos no carga el certificado.
text | es | alcanzo a ver que los certificados que vienen tanto en l10n_es_ticketbai como l10n_es_ticketbai_api parecen expirados.
text | es | alcanzo a ver que los certificados que vienen tanto en l10n_es_ticketbai_pos como l10n_es_ticketbai_api parecen expirados.
text | es | > el tema del ticketbai funciona en las tres provincias vascas por separado.
text | es | lo digo porque aunque la normativa es común podría haber alguna pequeña diferencia.
text | es | yo voy a comentar basándome en el ticketbai de bizkaia "bfa".
text | es | (aclaro que este fragmento **no** es el que se ejecuta en el módulo `l10n_es_ticketbai_pos`, pero lo encontré como un hallazgo interesante durante el análisis del issue).
text | es | pregunto porque tengo listo un fix para el error reportado aquí, pero ahora tengo que refinarlo porque hay diferencias de comportamiento entre las agencias.
text | es | @rrebollo interesante.
text | es | corrijo: parece que 'bizkaia/vizcaya' es la excepción "que infierno cara triste pero aliviada ".
text | es | pues parece que en facturación ya se dio este problema y fue solventado.
text | es | imagino que lo mas sencillo sería aplicar el mismo procedimiento en el pos.
text | es | pero lo que tu prefieras.
text | es | por mi como si se pone zip obligatorio para todas.
text | es | en este caso tampoco me parece muy importante hilar fino cara feliz con ojos sonrientes .
text | es | > corrijo: parece que 'bizkaia/vizcaya' es la excepción "que infierno cara triste pero aliviada ".
text | es | > > pues parece que en facturación ya se dio este problema y fue solventado.
text | es | imagino que lo mas sencillo sería aplicar el mismo procedimiento en el pos.
text | es | > pero lo que tu prefieras.
text | es | por mi como si se pone zip obligatorio para todas.
text | es | en este caso tampoco me parece muy importante hilar fino cara feliz con ojos sonrientes .
text | es | > yo creo que solo deberia de ser obligatorio si el destinatario lleva nif y quiere deducirse por cualquier motivo el iva, ahí si se obliga a introducir el "domicilio" que supongo que incluya el zip.
text | es | precisamente las facturas simplificadas es para simplificar la facturación diaria, si exigimos completar todos esos campos que diferencia tenemos con hacer una factura de toda la vida?
text | es | una tienda que lo utiliza necesita agilidad en la venta, y si quiere asignar un cliente por tema estadístico y de control de ventas no debería tener que pedir tantos datos, es mi opinión.
text | es | en cualquier caso toméis la decisión que toméis el tema es que el error no permite arreglarlo introduciendo el zip y volver a crear el ticket, o sale sin qr a posteriori y no se crea en el backend, o borras la cache del navegador y vuelves a crearlo y esta vez si se realiza pero da el error de la fecha del ticket anterior en la trasmision, hay que modificarlo manualmente el xml y subirlo al lroe .
text | es | > yo creo que solo deberia de ser obligatorio si el destinatario lleva nif y quiere deducirse por cualquier motivo el iva, ahí si se obliga a introducir el "domicilio" que supongo que incluya el zip.
text | es | > > precisamente las facturas simplificadas es para simplificar la facturación diaria, si exigimos completar todos esos campos que diferencia tenemos con hacer una factura de toda la vida?
text | es | > > una tienda que lo utiliza necesita agilidad en la venta, y si quiere asignar un cliente por tema estadístico y de control de ventas no debería tener que pedir tantos datos, es mi opinión.
text | es | si claro.
text | es | el bug es solo cuando identificas al cliente.
text | es | si es una venta anónima no hay error.
text | es | @bilbonet cuando finalmente he podido dilucidar una estrategia para adaptar el código en l10n_es_ticketbai_pos y lograr hacer opcional el cp descubro que bizkaia está definida cómo tbai.tax.agency en el addon l10n_es_ticketbai_batuz.
text | es | esto técnicamente implica que para corregir "bien" el issue tendríamos que hacer depender el primer addon mencionado del segundo y ya no puedo evaluar que otras repercusiones tendría esto.
text | es | en este momento me inclino por dejarlo tal y como está.
text | es | ya que habría que ocuparse de temas de diseño más serios antes de abordar este.
text | es | @joaco1980 lo siento.
text | es | si te sirve de algo eso solo está validando que el zip sean 5 dígitos consecutivos so ...
text | es | ya veo que se ha definido en los módulos de batuz.
text | es | ciertamente esto lo complica cara desanimada .
text | es | mejor seguir con la mismo estrategia y plantear un nuevo módulo que realice estas correcciones: - **l10n_es_ticketbai_pos_batuz** .
text | es | a mi me parece bien que no toquéis nada pero que al menos ese error no implique no poder avanzar, es decir, si no hay zip en la validación que salte un error de que falta el zip y al menos que te deje volver al cliente, introducir un zip y volver a intentar la transmisión del ticket con el zip.
text | es | ahora el comportamiento es el siguiente: - salta el error de construcción
- si luego intentas hacer el ticket le hace pero sin qr de tbai, puede incluso saltar la secuencia o ni realizarse en el backend.
text | es | - hay que borrar cache del navegador y volver a realizar la venrta
- genera el ticket bien con el qr pero falla el xsig porque el campo de fecha de factura anterior le deja vacío an-an-annn.
text | es | es como si en todo el proceso perdería la referencia del ticket anterior.
text | es | esto implica un error en la transmisión a la hacienda vasca, hay que descargarse el xsig, ponerle la fecha correctamente y subirlo manualmente al lroe.
text | es | > a estas alturas y viendo que no creo que tbai de oca pase de la versión 16.0.
text | es | mejor seguir con la mismo estrategia y plantear un nuevo módulo que realice estas correcciones vi algo de que ticketbai está disponible en odoo ¿enterprise o community a partir de que versión?
text | bilingual | y powered by @ao-landoo y su team creo.
text | es | @joaco1980 madurando esa última idea > a mi me parece bien que no toquéis nada pero que al menos ese error no implique no poder avanzar, tal vez algo se pueda hacer.
text | es | viendolo desde la perspectiva que planteas, el problema fundamental es que ese error ya salta durante la generación del ticket, tal vez si colocamos una validación al momento de escoger el cliente (el detalle es que realmente la validación ignorará el comportamiento para bizkaia: todos los clientes tienen que tener cp de 5 dígitos) @bilbonet ¿que crees? .
text | es | > > a estas alturas y viendo que no creo que tbai de oca pase de la versión 16.0.
text | es | mejor seguir con la mismo estrategia y plantear un nuevo módulo que realice estas correcciones
> > vi algo de que ticketbai está disponible en odoo ¿enterprise o community a partir de que versión?
text | es | ticketbai esta diponible en el core de odoo desde la 16.0.
text | es | pero no en el pos.
text | es | ticketbai en el pos se que está en la 18.0 no lo sé seguro si esta en la 17.0 .
text | es | viendolo desde la perspectiva que planteas, el problema fundamental es que ese error ya salta durante la generación del ticket, tal vez si colocamos una validación al momento de escoger el cliente (el detalle es que realmente la validación ignorará el comportamiento para bizkaia: todos los clientes tienen que tener cp de 5 dígitos) [@bilbonet](https://github.com/bilbonet) ¿que crees?
text | es | pues si, me parece mejor poner una restricción general.
text | es | **que se obligue a poner cp si identificas al cliente, sea cual sea la hacienda,**
es peor dejar el error actual.
text | es | que según comenta @joaco1980 hace un estropicio importante cortar la ejecución con el error actual.
text | es | @joaco1980 ¿podremos cerrar este issue entonces?
Detalles: total_items: 95 | code_items: 0 | spanish_items: 93 | english_items: 0
recomposed_text: esto sucede porque no tiene el codigo postal el cliente definido. esta definido como un campo obligatorio para el envió del ticketbai cuando no deberia ser asi no? . buenas @joaco1980 no entiendo muy bien como reproducir el error que comentas. yo he realizado dos ventas en el pos sin seleccionar cliente y no me da ningún error. las ventas "facturas simplificadas" se envían correctamente a tbai. yo he realizado dos ventas en el pos sin seleccionar cliente y no me da ningún error. las ventas "facturas simplificadas" se envían correctamente a tbai. vale para replicarlo, crear un cliente nuevo "pepito flores" y déjale sin cp introducido, mete si quieres provincia, país y todos los datos que consideres pero deja vacío el cp. es ahi donde da el error que comento, además si recargas la pagina y vuelves a crear el ticket se crea correctamente pero falla la transmisión y da error cuando haces un ticket después de este error: es): el xml del fichero ticketbai no cumple el esquema.[linea:2 columna:1706] error:cvc-pattern-valid: value 'an-an-nan' is not facet-valid with respect to pattern '\d{2,2}-\d{2,2}-\d{4,4}' for type 'fechatype'.(eu): ticketbai fitxategiaren xmlak ez du esquema betetzen.[linea:2 columna:1706] error:cvc-pattern-valid: value 'an-an-nan' is not facet-valid with respect to pattern '\d{2,2}-\d{2,2}-\d{4,4}' for type 'fechatype'. efectivamente si el cliente no tiene cp salta el error. pues ya puede ser cualquier cosa. efectivamente es un bug a corregir. ping @rrebollo ¿como lo ves para corregir este problema? nota: también recuerdo que quedo pendiente mejorar el módulo para que funcionara con el cambio de posición fiscal. @bilbonet puedo ocuparme del error pero definamos antes la conducta a seguir: ¿debemos hacer un mejor tratamiento de excepciones y loguear el error concreto: un log indicando que el cp es requerido o el cp no es realmente requerido y podemos continuar con el flujo normal? . buenas @rrebollo , muchas gracias por el ofrecimiento. el tema del ticketbai funciona en las tres provincias vascas por separado. lo digo porque aunque la normativa es común podría haber alguna pequeña diferencia. yo voy a comentar basándome en el ticketbai de bizkaia "bfa". adjunto documento con las especificaciones del envío para el alta de facturas por si necesitas comprobar alguna otra cosa. respecto al error que nos ocupa. el cp del destinatario no es un dato obligatorio. bastaría con evitar que de error cuando se encuentra con este campo vacio. cuadrado negro pequeño letra negra: bloque/campo opcional. cuadrado negro pequeño fondo rosa: bloque/campo excluyente. @bilbonet perfecto. lo miro. sucede que tenemos algunos issues también en una instalación de ticketbai pos en 16.0 y queremos ir descartando causas. así que puedo aprovechar y corregir este issue también. al cliente en cuestión le fallan algunos tickets en pos porque la secuencia que genera está repitiendo valores: el valor que sugiere ya está ocupado. me atrevo a consultarte. ¿que crees que podríamos revisar? uno de los temas fundamentales es la imposibilidad de reproducir el bug porque ocurre esporádicamente y no están claras las condiciones que lo desencadenan. genial @rrebollo , para todo lo que necesites no dudes en contactarme. respecto a lo que comentas de los duplicados mira esto #3984 cualquier cosa me comentas. @bilbonet @joaco1980 he estado tratando de replicar el error originalmente reportado en este issue en el runboat pero estoy stuck en que el pos no carga el certificado. alcanzo a ver que los certificados que vienen tanto en l10n_es_ticketbai como l10n_es_ticketbai_api parecen expirados. alcanzo a ver que los certificados que vienen tanto en l10n_es_ticketbai_pos como l10n_es_ticketbai_api parecen expirados. > el tema del ticketbai funciona en las tres provincias vascas por separado. lo digo porque aunque la normativa es común podría haber alguna pequeña diferencia. yo voy a comentar basándome en el ticketbai de bizkaia "bfa". (aclaro que este fragmento **no** es el que se ejecuta en el módulo `l10n_es_ticketbai_pos`, pero lo encontré como un hallazgo interesante durante el análisis del issue). pregunto porque tengo listo un fix para el error reportado aquí, pero ahora tengo que refinarlo porque hay diferencias de comportamiento entre las agencias. @rrebollo interesante. corrijo: parece que 'bizkaia/vizcaya' es la excepción "que infierno cara triste pero aliviada ". pues parece que en facturación ya se dio este problema y fue solventado. imagino que lo mas sencillo sería aplicar el mismo procedimiento en el pos. pero lo que tu prefieras. por mi como si se pone zip obligatorio para todas. en este caso tampoco me parece muy importante hilar fino cara feliz con ojos sonrientes . > corrijo: parece que 'bizkaia/vizcaya' es la excepción "que infierno cara triste pero aliviada ". > > pues parece que en facturación ya se dio este problema y fue solventado. imagino que lo mas sencillo sería aplicar el mismo procedimiento en el pos. > pero lo que tu prefieras. por mi como si se pone zip obligatorio para todas. en este caso tampoco me parece muy importante hilar fino cara feliz con ojos sonrientes . > yo creo que solo deberia de ser obligatorio si el destinatario lleva nif y quiere deducirse por cualquier motivo el iva, ahí si se obliga a introducir el "domicilio" que supongo que incluya el zip. precisamente las facturas simplificadas es para simplificar la facturación diaria, si exigimos completar todos esos campos que diferencia tenemos con hacer una factura de toda la vida? una tienda que lo utiliza necesita agilidad en la venta, y si quiere asignar un cliente por tema estadístico y de control de ventas no debería tener que pedir tantos datos, es mi opinión. en cualquier caso toméis la decisión que toméis el tema es que el error no permite arreglarlo introduciendo el zip y volver a crear el ticket, o sale sin qr a posteriori y no se crea en el backend, o borras la cache del navegador y vuelves a crearlo y esta vez si se realiza pero da el error de la fecha del ticket anterior en la trasmision, hay que modificarlo manualmente el xml y subirlo al lroe . > yo creo que solo deberia de ser obligatorio si el destinatario lleva nif y quiere deducirse por cualquier motivo el iva, ahí si se obliga a introducir el "domicilio" que supongo que incluya el zip. > > precisamente las facturas simplificadas es para simplificar la facturación diaria, si exigimos completar todos esos campos que diferencia tenemos con hacer una factura de toda la vida? > > una tienda que lo utiliza necesita agilidad en la venta, y si quiere asignar un cliente por tema estadístico y de control de ventas no debería tener que pedir tantos datos, es mi opinión. si claro. el bug es solo cuando identificas al cliente. si es una venta anónima no hay error. @bilbonet cuando finalmente he podido dilucidar una estrategia para adaptar el código en l10n_es_ticketbai_pos y lograr hacer opcional el cp descubro que bizkaia está definida cómo tbai.tax.agency en el addon l10n_es_ticketbai_batuz. esto técnicamente implica que para corregir "bien" el issue tendríamos que hacer depender el primer addon mencionado del segundo y ya no puedo evaluar que otras repercusiones tendría esto. en este momento me inclino por dejarlo tal y como está. ya que habría que ocuparse de temas de diseño más serios antes de abordar este. @joaco1980 lo siento. si te sirve de algo eso solo está validando que el zip sean 5 dígitos consecutivos so ... ya veo que se ha definido en los módulos de batuz. ciertamente esto lo complica cara desanimada . mejor seguir con la mismo estrategia y plantear un nuevo módulo que realice estas correcciones: - **l10n_es_ticketbai_pos_batuz** . a mi me parece bien que no toquéis nada pero que al menos ese error no implique no poder avanzar, es decir, si no hay zip en la validación que salte un error de que falta el zip y al menos que te deje volver al cliente, introducir un zip y volver a intentar la transmisión del ticket con el zip. ahora el comportamiento es el siguiente: - salta el error de construcción
- si luego intentas hacer el ticket le hace pero sin qr de tbai, puede incluso saltar la secuencia o ni realizarse en el backend. - hay que borrar cache del navegador y volver a realizar la venrta
- genera el ticket bien con el qr pero falla el xsig porque el campo de fecha de factura anterior le deja vacío an-an-annn. es como si en todo el proceso perdería la referencia del ticket anterior. esto implica un error en la transmisión a la hacienda vasca, hay que descargarse el xsig, ponerle la fecha correctamente y subirlo manualmente al lroe. > a estas alturas y viendo que no creo que tbai de oca pase de la versión 16.0. mejor seguir con la mismo estrategia y plantear un nuevo módulo que realice estas correcciones vi algo de que ticketbai está disponible en odoo ¿enterprise o community a partir de que versión? y powered by @ao-landoo y su team creo. @joaco1980 madurando esa última idea > a mi me parece bien que no toquéis nada pero que al menos ese error no implique no poder avanzar, tal vez algo se pueda hacer. viendolo desde la perspectiva que planteas, el problema fundamental es que ese error ya salta durante la generación del ticket, tal vez si colocamos una validación al momento de escoger el cliente (el detalle es que realmente la validación ignorará el comportamiento para bizkaia: todos los clientes tienen que tener cp de 5 dígitos) @bilbonet ¿que crees? . > > a estas alturas y viendo que no creo que tbai de oca pase de la versión 16.0. mejor seguir con la mismo estrategia y plantear un nuevo módulo que realice estas correcciones
> > vi algo de que ticketbai está disponible en odoo ¿enterprise o community a partir de que versión? ticketbai esta diponible en el core de odoo desde la 16.0. pero no en el pos. ticketbai en el pos se que está en la 18.0 no lo sé seguro si esta en la 17.0 . viendolo desde la perspectiva que planteas, el problema fundamental es que ese error ya salta durante la generación del ticket, tal vez si colocamos una validación al momento de escoger el cliente (el detalle es que realmente la validación ignorará el comportamiento para bizkaia: todos los clientes tienen que tener cp de 5 dígitos) [@bilbonet](https://github.com/bilbonet) ¿que crees? pues si, me parece mejor poner una restricción general. **que se obligue a poner cp si identificas al cliente, sea cual sea la hacienda,**
es peor dejar el error actual. que según comenta @joaco1980 hace un estropicio importante cortar la ejecución con el error actual. @joaco1980 ¿podremos cerrar este issue entonces?

__Corrector Ortográfico__2026-02-09T14:14:22.891271
'ademas' se corrige por 'además'
'eskema' se corrige por 'esquema'

# Entrada procesada 2026-02-09T14:14:23.327596 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:23.348681 UTC
text | es | hola, ¿podéis identificaros adecuadamente en lugar de un nick genérico?
text | es | así se sabe con quién se está hablando.
code | code | .
text | es | lo detecte esta mañana y le dije de cambiarlo para que funcionará, se llama patrick.
text | es | en ocasiones algunos impuestos usan para grecia gr y otros el (el nuevo es el desde hace muchos años) .
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
code | code | .
text | es | hola, estoy teniendo un problema similar.
text | es | actualmente, el vat del partner está configurado con el prefijo el, que es el formato correcto según vies para grecia.
text | es | sin embargo, al notificar la factura al sii, el envío es rechazado indicando un error en la clave codigopais, ya que el sii espera el código iso gr y se está enviando el.
text | es | si se modifica el vat del partner y se establece el prefijo gr, el envío al sii vuelve a fallar, en este caso indicando que el id es incorrecto, ya que el vat deja de ser válido.
text | es | el comportamiento esperado por parte del sii es que se envíe: codigopais: gr id: elxxxxxxxxx por lo que hemos podido analizar, el envío actual utiliza el mismo prefijo tanto para el código de país como para el identificador, lo que dificulta cumplir simultáneamente con los requisitos de vies y del sii en este caso concreto.
code | code | .
code | code | analizando el comportamiento con más detalle, creo que el origen del problema puede estar en la siguiente línea de código:
[ country_code_map = {"el": "gr"}](https://github.com/oca/l10n-spain/blob/878690ccf0bdf1cd83b008824fe9bd0992630391/l10n_es_aeat/models/res_partner.py#l60) en concreto, si esta clave no estuviese definida, el flujo posterior parece que podría ajustarse mejor al comportamiento esperado por el sii en este caso, permitiendo enviar codigopais = gr mientras se mantiene el id con el prefijo el, que es el formato válido según vies.
code | code | .
text | es | esto se solucionó en #4753 y #4754
Detalles: total_items: 17 | code_items: 5 | spanish_items: 10 | english_items: 2
Dato borrado: code | code | .
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | analizando el comportamiento con más detalle, creo que el origen del problema puede estar en la siguiente línea de código:
[ country_code_map = {"el": "gr"}](https://github.com/oca/l10n-spain/blob/878690ccf0bdf1cd83b008824fe9bd0992630391/l10n_es_aeat/models/res_partner.py#l60) en concreto, si esta clave no estuviese definida, el flujo posterior parece que podría ajustarse mejor al comportamiento esperado por el sii en este caso, permitiendo enviar codigopais = gr mientras se mantiene el id con el prefijo el, que es el formato válido según vies.
Dato borrado: code | code | .
recomposed_text: hola, ¿podéis identificaros adecuadamente en lugar de un nick genérico? así se sabe con quién se está hablando. lo detecte esta mañana y le dije de cambiarlo para que funcionará, se llama patrick. en ocasiones algunos impuestos usan para grecia gr y otros el (el nuevo es el desde hace muchos años) . hola, estoy teniendo un problema similar. actualmente, el vat del partner está configurado con el prefijo el, que es el formato correcto según vies para grecia. sin embargo, al notificar la factura al sii, el envío es rechazado indicando un error en la clave codigopais, ya que el sii espera el código iso gr y se está enviando el. si se modifica el vat del partner y se establece el prefijo gr, el envío al sii vuelve a fallar, en este caso indicando que el id es incorrecto, ya que el vat deja de ser válido. el comportamiento esperado por parte del sii es que se envíe: codigopais: gr id: elxxxxxxxxx por lo que hemos podido analizar, el envío actual utiliza el mismo prefijo tanto para el código de país como para el identificador, lo que dificulta cumplir simultáneamente con los requisitos de vies y del sii en este caso concreto. esto se solucionó en #4753 y #4754
__Recursividad__
text | es | hola, ¿podéis identificaros adecuadamente en lugar de un nick genérico?
text | es | así se sabe con quién se está hablando.
text | es | lo detecte esta mañana y le dije de cambiarlo para que funcionará, se llama patrick.
text | es | en ocasiones algunos impuestos usan para grecia gr y otros el (el nuevo es el desde hace muchos años) .
text | es | hola, estoy teniendo un problema similar.
text | es | actualmente, el vat del partner está configurado con el prefijo el, que es el formato correcto según vies para grecia.
text | es | sin embargo, al notificar la factura al sii, el envío es rechazado indicando un error en la clave codigopais, ya que el sii espera el código iso gr y se está enviando el.
text | es | si se modifica el vat del partner y se establece el prefijo gr, el envío al sii vuelve a fallar, en este caso indicando que el id es incorrecto, ya que el vat deja de ser válido.
text | es | el comportamiento esperado por parte del sii es que se envíe: codigopais: gr id: elxxxxxxxxx por lo que hemos podido analizar, el envío actual utiliza el mismo prefijo tanto para el código de país como para el identificador, lo que dificulta cumplir simultáneamente con los requisitos de vies y del sii en este caso concreto.
text | es | esto se solucionó en #4753 y #4754
Detalles: total_items: 10 | code_items: 0 | spanish_items: 10 | english_items: 0
recomposed_text: hola, ¿podéis identificaros adecuadamente en lugar de un nick genérico? así se sabe con quién se está hablando. lo detecte esta mañana y le dije de cambiarlo para que funcionará, se llama patrick. en ocasiones algunos impuestos usan para grecia gr y otros el (el nuevo es el desde hace muchos años) . hola, estoy teniendo un problema similar. actualmente, el vat del partner está configurado con el prefijo el, que es el formato correcto según vies para grecia. sin embargo, al notificar la factura al sii, el envío es rechazado indicando un error en la clave codigopais, ya que el sii espera el código iso gr y se está enviando el. si se modifica el vat del partner y se establece el prefijo gr, el envío al sii vuelve a fallar, en este caso indicando que el id es incorrecto, ya que el vat deja de ser válido. el comportamiento esperado por parte del sii es que se envíe: codigopais: gr id: elxxxxxxxxx por lo que hemos podido analizar, el envío actual utiliza el mismo prefijo tanto para el código de país como para el identificador, lo que dificulta cumplir simultáneamente con los requisitos de vies y del sii en este caso concreto. esto se solucionó en #4753 y #4754

# Entrada procesada 2026-02-09T14:14:23.413675 UTC
text | es | odoo está incluyendo en el core de 17 un módulo para la gestión de verifactu, y aquí en oca, cuando se complete el desarrollo en 16, se migrará a 17.
text | es | busca por favor las referencias correspondientes.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: odoo está incluyendo en el core de 17 un módulo para la gestión de verifactu, y aquí en oca, cuando se complete el desarrollo en 16, se migrará a 17. busca por favor las referencias correspondientes.
__Recursividad__
text | es | odoo está incluyendo en el core de 17 un módulo para la gestión de verifactu, y aquí en oca, cuando se complete el desarrollo en 16, se migrará a 17.
text | es | busca por favor las referencias correspondientes.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: odoo está incluyendo en el core de 17 un módulo para la gestión de verifactu, y aquí en oca, cuando se complete el desarrollo en 16, se migrará a 17. busca por favor las referencias correspondientes.

# Entrada procesada 2026-02-09T14:14:23.439727 UTC
code | code | hola, nacho, por no abras incidencias para este tipo de cosas que se recopilan y tratan en el [hilo dedicado a la propia migración](https://github.com/oca/l10n-spain/issues/3754).
text | es | en cualquier caso, si tan fundamental es para vuestro proyecto, lo que podéis hacer es: - realizar la migración vosotros y contribuirla a oca.
text | es | - financiar a un contribuidor para que la haga por vosotros.
text | es | si no, no está garantizado ningún plazo de realización.
text | es | cuando uno de los contribuidores que suelen migrar lo necesite, lo llevará a cabo y probablemente lo contribuya de vuelta en oca, pero sin garantías expresas ni obligaciones.
text | es | cierro por lo dicho que no debe haber hilos en incidencias sobre cosas que no lo son.
Detalles: total_items: 6 | code_items: 1 | spanish_items: 5 | english_items: 0
Dato borrado: code | code | hola, nacho, por no abras incidencias para este tipo de cosas que se recopilan y tratan en el [hilo dedicado a la propia migración](https://github.com/oca/l10n-spain/issues/3754).
recomposed_text: en cualquier caso, si tan fundamental es para vuestro proyecto, lo que podéis hacer es: - realizar la migración vosotros y contribuirla a oca. - financiar a un contribuidor para que la haga por vosotros. si no, no está garantizado ningún plazo de realización. cuando uno de los contribuidores que suelen migrar lo necesite, lo llevará a cabo y probablemente lo contribuya de vuelta en oca, pero sin garantías expresas ni obligaciones. cierro por lo dicho que no debe haber hilos en incidencias sobre cosas que no lo son.
__Recursividad__
text | es | en cualquier caso, si tan fundamental es para vuestro proyecto, lo que podéis hacer es: - realizar la migración vosotros y contribuirla a oca.
text | es | - financiar a un contribuidor para que la haga por vosotros.
text | es | si no, no está garantizado ningún plazo de realización.
text | es | cuando uno de los contribuidores que suelen migrar lo necesite, lo llevará a cabo y probablemente lo contribuya de vuelta en oca, pero sin garantías expresas ni obligaciones.
text | es | cierro por lo dicho que no debe haber hilos en incidencias sobre cosas que no lo son.
Detalles: total_items: 5 | code_items: 0 | spanish_items: 5 | english_items: 0
recomposed_text: en cualquier caso, si tan fundamental es para vuestro proyecto, lo que podéis hacer es: - realizar la migración vosotros y contribuirla a oca. - financiar a un contribuidor para que la haga por vosotros. si no, no está garantizado ningún plazo de realización. cuando uno de los contribuidores que suelen migrar lo necesite, lo llevará a cabo y probablemente lo contribuya de vuelta en oca, pero sin garantías expresas ni obligaciones. cierro por lo dicho que no debe haber hilos en incidencias sobre cosas que no lo son.

# Entrada procesada 2026-02-09T14:14:23.484737 UTC
text | es | sería incluir el tipo de operación, pero hay que asegurar que funcionan minorando la misma casilla, o si van de otra forma.
code | code | .
code | code | el modelo 123 no tiene casillas específicas para facturas rectificativas por lo que tiene que ir minorando los importes ![image](https://github.com/user-attachments/assets/fb452898-e318-455d-9f0d-9ee961779de0) .
code | code | sería entonces si no estoy equivocado, cambiar esta línea y la siguiente a "both" en lugar de "credit": https://github.com/oca/l10n-spain/blob/18.0/l10n_es_aeat_mod123/data/2024/l10n.es.aeat.map.tax.line.csv#l4 .
code | code | pero parece ser que hay que hacer más cosas según https://github.com/oca/l10n-spain/pull/4220#issuecomment-3024074700 .
code | code | he respondido en este pr que hizo @omar7r : https://github.com/oca/l10n-spain/pull/4220 la cuestión es que la norma solo aplica si debes ingresar más pero no es de menos.
code | code | 1.
text | es | si la factura rectificativa aumenta la retención: - debes presentar un modelo 123 complementario del trimestre original.
text | es | - fundamento: artículo 4.3 de la orden hap/1608/2014.
code | code | 2.
text | es | si la factura rectificativa reduce la retención: - no se modifica el modelo 123 ya presentado.
text | es | - si se ingresó de más, debes solicitar una devolución de ingresos indebidos.
text | es | - fundamento: artículo 221.1 de la ley general tributaria.
code | code | ---
referencias: modelo 123 aeat: https://sede.agenciatributaria.gob.es/sede/procedimientoini/gc27.shtml orden hap/1608/2014: https://www.boe.es/diario_boe/txt.php?id=boe-a-2014-8121 ley general tributaria: https://www.boe.es/buscar/act.php?id=boe-a-2003-23186 @moduon @omar7r .
code | code | https://github.com/oca/l10n-spain/pull/4220#issuecomment-3024303414 .
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Detalles: total_items: 17 | code_items: 9 | spanish_items: 6 | english_items: 2
Dato borrado: code | code | .
Dato borrado: code | code | el modelo 123 no tiene casillas específicas para facturas rectificativas por lo que tiene que ir minorando los importes ![image](https://github.com/user-attachments/assets/fb452898-e318-455d-9f0d-9ee961779de0) .
Dato borrado: code | code | sería entonces si no estoy equivocado, cambiar esta línea y la siguiente a "both" en lugar de "credit": https://github.com/oca/l10n-spain/blob/18.0/l10n_es_aeat_mod123/data/2024/l10n.es.aeat.map.tax.line.csv#l4 .
Dato borrado: code | code | pero parece ser que hay que hacer más cosas según https://github.com/oca/l10n-spain/pull/4220#issuecomment-3024074700 .
Dato borrado: code | code | he respondido en este pr que hizo @omar7r : https://github.com/oca/l10n-spain/pull/4220 la cuestión es que la norma solo aplica si debes ingresar más pero no es de menos.
Dato borrado: code | code | 1.
Dato borrado: code | code | 2.
Dato borrado: code | code | ---
referencias: modelo 123 aeat: https://sede.agenciatributaria.gob.es/sede/procedimientoini/gc27.shtml orden hap/1608/2014: https://www.boe.es/diario_boe/txt.php?id=boe-a-2014-8121 ley general tributaria: https://www.boe.es/buscar/act.php?id=boe-a-2003-23186 @moduon @omar7r .
Dato borrado: code | code | https://github.com/oca/l10n-spain/pull/4220#issuecomment-3024303414 .
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
recomposed_text: sería incluir el tipo de operación, pero hay que asegurar que funcionan minorando la misma casilla, o si van de otra forma. si la factura rectificativa aumenta la retención: - debes presentar un modelo 123 complementario del trimestre original. - fundamento: artículo 4.3 de la orden hap/1608/2014. si la factura rectificativa reduce la retención: - no se modifica el modelo 123 ya presentado. - si se ingresó de más, debes solicitar una devolución de ingresos indebidos. - fundamento: artículo 221.1 de la ley general tributaria.
__Recursividad__
text | es | sería incluir el tipo de operación, pero hay que asegurar que funcionan minorando la misma casilla, o si van de otra forma.
text | es | si la factura rectificativa aumenta la retención: - debes presentar un modelo 123 complementario del trimestre original.
text | es | - fundamento: artículo 4.3 de la orden hap/1608/2014.
text | es | si la factura rectificativa reduce la retención: - no se modifica el modelo 123 ya presentado.
text | es | - si se ingresó de más, debes solicitar una devolución de ingresos indebidos.
text | es | - fundamento: artículo 221.1 de la ley general tributaria.
Detalles: total_items: 6 | code_items: 0 | spanish_items: 6 | english_items: 0
recomposed_text: sería incluir el tipo de operación, pero hay que asegurar que funcionan minorando la misma casilla, o si van de otra forma. si la factura rectificativa aumenta la retención: - debes presentar un modelo 123 complementario del trimestre original. - fundamento: artículo 4.3 de la orden hap/1608/2014. si la factura rectificativa reduce la retención: - no se modifica el modelo 123 ya presentado. - si se ingresó de más, debes solicitar una devolución de ingresos indebidos. - fundamento: artículo 221.1 de la ley general tributaria.

# Entrada procesada 2026-02-09T14:14:23.522086 UTC
text | es | la rama 12.0 es una rama obsoleta y ya no se mantiene "oficialmente".
text | es | también se junta que el soporte de las herramientas de ci para esa rama está obsoleto (por el propio github), con lo que aquí debes buscar la forma de traer esos cambios, aunque mi recomendación es que migres de versión.
code | code | .
text | es | gracias pedro, intentaré actualizarme con openupgrade.
Detalles: total_items: 4 | code_items: 1 | spanish_items: 3 | english_items: 0
Dato borrado: code | code | .
recomposed_text: la rama 12.0 es una rama obsoleta y ya no se mantiene "oficialmente". también se junta que el soporte de las herramientas de ci para esa rama está obsoleto (por el propio github), con lo que aquí debes buscar la forma de traer esos cambios, aunque mi recomendación es que migres de versión. gracias pedro, intentaré actualizarme con openupgrade.
__Recursividad__
text | es | la rama 12.0 es una rama obsoleta y ya no se mantiene "oficialmente".
text | es | también se junta que el soporte de las herramientas de ci para esa rama está obsoleto (por el propio github), con lo que aquí debes buscar la forma de traer esos cambios, aunque mi recomendación es que migres de versión.
text | es | gracias pedro, intentaré actualizarme con openupgrade.
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: la rama 12.0 es una rama obsoleta y ya no se mantiene "oficialmente". también se junta que el soporte de las herramientas de ci para esa rama está obsoleto (por el propio github), con lo que aquí debes buscar la forma de traer esos cambios, aunque mi recomendación es que migres de versión. gracias pedro, intentaré actualizarme con openupgrade.

# Entrada procesada 2026-02-09T14:14:23.552532 UTC
text | es | @pedrobaeza podrías echar un vistazo?
text | es | gracias! .
text | es | he comentado esto en el foro, hay algunos bancos que ni el vat te ponen.
text | es | he tenido que hacer algo para poner el partner_id con una importación de extractos por xlsx.
text | es | modificando fichero.
code | code | .
text | es | esto quedó solucionado eligiendo a nivel de diario lo que se quiere hacer, así que cierro.
Detalles: total_items: 7 | code_items: 1 | spanish_items: 6 | english_items: 0
Dato borrado: code | code | .
recomposed_text: @pedrobaeza podrías echar un vistazo? gracias! . he comentado esto en el foro, hay algunos bancos que ni el vat te ponen. he tenido que hacer algo para poner el partner_id con una importación de extractos por xlsx. modificando fichero. esto quedó solucionado eligiendo a nivel de diario lo que se quiere hacer, así que cierro.
__Recursividad__
text | es | @pedrobaeza podrías echar un vistazo?
text | es | gracias! .
text | es | he comentado esto en el foro, hay algunos bancos que ni el vat te ponen.
text | es | he tenido que hacer algo para poner el partner_id con una importación de extractos por xlsx.
text | es | modificando fichero.
text | es | esto quedó solucionado eligiendo a nivel de diario lo que se quiere hacer, así que cierro.
Detalles: total_items: 6 | code_items: 0 | spanish_items: 6 | english_items: 0
recomposed_text: @pedrobaeza podrías echar un vistazo? gracias! . he comentado esto en el foro, hay algunos bancos que ni el vat te ponen. he tenido que hacer algo para poner el partner_id con una importación de extractos por xlsx. modificando fichero. esto quedó solucionado eligiendo a nivel de diario lo que se quiere hacer, así que cierro.

# Entrada procesada 2026-02-09T14:14:23.581527 UTC
text | es | me temo que la información proporcionada no es suficiente.
text | es | revisa la fecha y hora a la que tiene programado el envío, y si tu instancia puede ejecutar acciones planificadas.
text | es | por lo demás, debería funcionar correctamente.
text | es | cierro mientras no tengamos más información que pueda llevarnos a deducir que es un problema del módulo.
Detalles: total_items: 4 | code_items: 0 | spanish_items: 4 | english_items: 0
recomposed_text: me temo que la información proporcionada no es suficiente. revisa la fecha y hora a la que tiene programado el envío, y si tu instancia puede ejecutar acciones planificadas. por lo demás, debería funcionar correctamente. cierro mientras no tengamos más información que pueda llevarnos a deducir que es un problema del módulo.
__Recursividad__
text | es | me temo que la información proporcionada no es suficiente.
text | es | revisa la fecha y hora a la que tiene programado el envío, y si tu instancia puede ejecutar acciones planificadas.
text | es | por lo demás, debería funcionar correctamente.
text | es | cierro mientras no tengamos más información que pueda llevarnos a deducir que es un problema del módulo.
Detalles: total_items: 4 | code_items: 0 | spanish_items: 4 | english_items: 0
recomposed_text: me temo que la información proporcionada no es suficiente. revisa la fecha y hora a la que tiene programado el envío, y si tu instancia puede ejecutar acciones planificadas. por lo demás, debería funcionar correctamente. cierro mientras no tengamos más información que pueda llevarnos a deducir que es un problema del módulo.

# Entrada procesada 2026-02-09T14:14:23.649525 UTC
text | es | @bilbonet ¿podrías tal vez indicarme donde encontrar el formato correcto? .
text | es | buenas @rrebollo como se puede ver en el xml que he puesto de ejemplo.
text | es | si te fijas en el detalle del iva.
text | es | la parte del recargo de equivalencia la indica mal con el valor "n".
code | code | deber ser asi:
`<operacionenrecargodeequivalenciaoregimensimplificado>s</operacionenrecargodeequivalenciaoregimensimplificado>` si realizas una factura ticketbai con recargo de equivalencia funciona bien.
text | es | son las ventas del pos las que sale este valor mal.
code | code | .
code | code | estimado @bilbonet
**problema**: - las implementaciones no gestionan la posición fiscal, ejemplo: v14 https://github.com/oca/l10n-spain/blob/edfd729da0de8614aad56379c68eb5e8fcd86cac/l10n_es_ticketbai_pos/static/src/js/tbai_models.js#l194-l209 en v16 no mezclado aún: https://github.com/binhexteam/l10n-spain/blob/544ca459119d1d607e8d8ca75fb534f5ff7cac2e/l10n_es_ticketbai_pos/static/src/js/tbai_models.js#l241 - parece un enfoque técnico simplificado **consulta**:
a la luz de estos elementos te parece que sea intencional (por diseño) o es una limitación a corregir? pregungo por confirmar el enfoque antes de proponer cambios técnicos.
code | code | .
text | es | buenas @rrebollo no he analizado a fondo el código que muestras y al mirarlo por encima tengo una duda.
text | es | ¿esa parte que muestras del código no se refiere a la posición fiscal de la compañía?
text | es | para el caso que tratamos es la posición fiscal del cliente la que interviene para el desglose de los impuestos.
code | code | .
code | code | > buenas [@rrebollo](https://github.com/rrebollo)
text | es | > > no he analizado a fondo el código que muestras y al mirarlo por encima tengo una duda.
text | es | ¿esa parte que muestras del código no se refiere a la posición fiscal de la compañía?
text | es | para el caso que tratamos es la posición fiscal del cliente la que interviene para el desglose de los impuestos.
text | und | exacto.
text | es | solo se tiene en cuenta la company.
text | es | creo que desde el punto de vista técnico hay un tratamiento "ingenuo" del feature por eso me parece que es una limitación desde el diseño.
text | es | en el caso del addon ticketbai pos es únicamente desde este código que indico que se le asigna valor al elemento "operacionenrecargodeequivalenciaoregimensimplificado" del xml.
code | code | .
text | es | ok entiendo.
text | es | entonces mas que un bug ya estamos hablando de una mejora que habría que implementar.
code | code | .
text | es | @bilbonet entiendo que hay un referente porque desde la app de contabilidad el proceso funciona correctamente así que podría mirarse el código allí (asumo que mayormente python) y trasladar la idea hacia donde corresponda en ticketbai pos (python y js) muy probablemente.
text | es | aclarar desde el punto de vista del negocio el panorama para técnicos como yo podría ser la clave: ¿si el cliente tiene una posición fiscal de recargo de equivalencia el iva se comportará igual que en el régimen simplificado?
text | es | es que no creo que este cambio lo único que afecte sea el valor del tag operacionenrecargodeequivalenciaoregimensimplificado al generar el xml.
code | code | .
text | es | no entiendo porque han hecho esta simplificación la verdad.
text | es | puede ser que el desarrollo viene de versiones anteriores del pos donde igual no se podían utilizar diferentes posiciones fiscales de cliente.
text | es | y en ese caso pues no correspondía añadir dicha lógica.
text | es | peor por lo que yo conozco desde v14.0 el pos permite diferentes posiciones fiscales así que entiendo que tiene que funcionar igual que en financiero.
text | es | de hecho, el pos hace bien el calculo del iva (parte del core de odoo).
code | code | es la parte de tbai la que no mira el detalle del impuesto si es <operacionenrecargodeequivalenciaoregimensimplificado> (desarrollo tbai).
text | es | respecto a la pregunta que planteas, no se si hay otros caso en los que no este haciendo correctamente el envío tbai.
text | es | pero es muy probable que también ocurra con otras posiciones fiscales como intracavitarias etc...
text | es | de momento las facturas simplificadas con recargo de equivalencia la hacienda de bizkaia las está rechazando:
code | code | código: b4_2000031
descripción	(es): valor del tipo impositivo no admitido.
code | code | .
text | es | @bilbonet gracias por el inside.
text | es | creo que como dices probablemente esté relacionado con el hecho de que orgininalmente el pos no permitía usar múltiples posiciones fiscales.
text | es | tengo esto en mis issues pendientes.
text | es | mirando lo hecho para contabilidad tal vez se pueda trasladar el comportamiento a pos o encontrar alguna solución para incorporar el feature.
code | code | .
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Detalles: total_items: 47 | code_items: 13 | spanish_items: 31 | english_items: 2
Dato borrado: code | code | deber ser asi:
`<operacionenrecargodeequivalenciaoregimensimplificado>s</operacionenrecargodeequivalenciaoregimensimplificado>` si realizas una factura ticketbai con recargo de equivalencia funciona bien.
Dato borrado: code | code | .
Dato borrado: code | code | estimado @bilbonet
**problema**: - las implementaciones no gestionan la posición fiscal, ejemplo: v14 https://github.com/oca/l10n-spain/blob/edfd729da0de8614aad56379c68eb5e8fcd86cac/l10n_es_ticketbai_pos/static/src/js/tbai_models.js#l194-l209 en v16 no mezclado aún: https://github.com/binhexteam/l10n-spain/blob/544ca459119d1d607e8d8ca75fb534f5ff7cac2e/l10n_es_ticketbai_pos/static/src/js/tbai_models.js#l241 - parece un enfoque técnico simplificado **consulta**:
a la luz de estos elementos te parece que sea intencional (por diseño) o es una limitación a corregir? pregungo por confirmar el enfoque antes de proponer cambios técnicos.
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | > buenas [@rrebollo](https://github.com/rrebollo)
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | es la parte de tbai la que no mira el detalle del impuesto si es <operacionenrecargodeequivalenciaoregimensimplificado> (desarrollo tbai).
Dato borrado: code | code | código: b4_2000031
descripción	(es): valor del tipo impositivo no admitido.
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
recomposed_text: @bilbonet ¿podrías tal vez indicarme donde encontrar el formato correcto? . buenas @rrebollo como se puede ver en el xml que he puesto de ejemplo. si te fijas en el detalle del iva. la parte del recargo de equivalencia la indica mal con el valor "n". son las ventas del pos las que sale este valor mal. buenas @rrebollo no he analizado a fondo el código que muestras y al mirarlo por encima tengo una duda. ¿esa parte que muestras del código no se refiere a la posición fiscal de la compañía? para el caso que tratamos es la posición fiscal del cliente la que interviene para el desglose de los impuestos. > > no he analizado a fondo el código que muestras y al mirarlo por encima tengo una duda. ¿esa parte que muestras del código no se refiere a la posición fiscal de la compañía? para el caso que tratamos es la posición fiscal del cliente la que interviene para el desglose de los impuestos. exacto. solo se tiene en cuenta la company. creo que desde el punto de vista técnico hay un tratamiento "ingenuo" del feature por eso me parece que es una limitación desde el diseño. en el caso del addon ticketbai pos es únicamente desde este código que indico que se le asigna valor al elemento "operacionenrecargodeequivalenciaoregimensimplificado" del xml. ok entiendo. entonces mas que un bug ya estamos hablando de una mejora que habría que implementar. @bilbonet entiendo que hay un referente porque desde la app de contabilidad el proceso funciona correctamente así que podría mirarse el código allí (asumo que mayormente python) y trasladar la idea hacia donde corresponda en ticketbai pos (python y js) muy probablemente. aclarar desde el punto de vista del negocio el panorama para técnicos como yo podría ser la clave: ¿si el cliente tiene una posición fiscal de recargo de equivalencia el iva se comportará igual que en el régimen simplificado? es que no creo que este cambio lo único que afecte sea el valor del tag operacionenrecargodeequivalenciaoregimensimplificado al generar el xml. no entiendo porque han hecho esta simplificación la verdad. puede ser que el desarrollo viene de versiones anteriores del pos donde igual no se podían utilizar diferentes posiciones fiscales de cliente. y en ese caso pues no correspondía añadir dicha lógica. peor por lo que yo conozco desde v14.0 el pos permite diferentes posiciones fiscales así que entiendo que tiene que funcionar igual que en financiero. de hecho, el pos hace bien el calculo del iva (parte del core de odoo). respecto a la pregunta que planteas, no se si hay otros caso en los que no este haciendo correctamente el envío tbai. pero es muy probable que también ocurra con otras posiciones fiscales como intracavitarias etc... de momento las facturas simplificadas con recargo de equivalencia la hacienda de bizkaia las está rechazando: @bilbonet gracias por el inside. creo que como dices probablemente esté relacionado con el hecho de que orgininalmente el pos no permitía usar múltiples posiciones fiscales. tengo esto en mis issues pendientes. mirando lo hecho para contabilidad tal vez se pueda trasladar el comportamiento a pos o encontrar alguna solución para incorporar el feature.
__Recursividad__
text | es | @bilbonet ¿podrías tal vez indicarme donde encontrar el formato correcto? .
text | es | buenas @rrebollo como se puede ver en el xml que he puesto de ejemplo.
text | es | si te fijas en el detalle del iva.
text | es | la parte del recargo de equivalencia la indica mal con el valor "n".
text | es | son las ventas del pos las que sale este valor mal.
text | es | buenas @rrebollo no he analizado a fondo el código que muestras y al mirarlo por encima tengo una duda.
text | es | ¿esa parte que muestras del código no se refiere a la posición fiscal de la compañía?
text | es | para el caso que tratamos es la posición fiscal del cliente la que interviene para el desglose de los impuestos.
text | es | > > no he analizado a fondo el código que muestras y al mirarlo por encima tengo una duda.
text | es | ¿esa parte que muestras del código no se refiere a la posición fiscal de la compañía?
text | es | para el caso que tratamos es la posición fiscal del cliente la que interviene para el desglose de los impuestos.
text | und | exacto.
text | es | solo se tiene en cuenta la company.
text | es | creo que desde el punto de vista técnico hay un tratamiento "ingenuo" del feature por eso me parece que es una limitación desde el diseño.
text | es | en el caso del addon ticketbai pos es únicamente desde este código que indico que se le asigna valor al elemento "operacionenrecargodeequivalenciaoregimensimplificado" del xml.
text | es | ok entiendo.
text | es | entonces mas que un bug ya estamos hablando de una mejora que habría que implementar.
text | es | @bilbonet entiendo que hay un referente porque desde la app de contabilidad el proceso funciona correctamente así que podría mirarse el código allí (asumo que mayormente python) y trasladar la idea hacia donde corresponda en ticketbai pos (python y js) muy probablemente.
text | es | aclarar desde el punto de vista del negocio el panorama para técnicos como yo podría ser la clave: ¿si el cliente tiene una posición fiscal de recargo de equivalencia el iva se comportará igual que en el régimen simplificado?
text | es | es que no creo que este cambio lo único que afecte sea el valor del tag operacionenrecargodeequivalenciaoregimensimplificado al generar el xml.
text | es | no entiendo porque han hecho esta simplificación la verdad.
text | es | puede ser que el desarrollo viene de versiones anteriores del pos donde igual no se podían utilizar diferentes posiciones fiscales de cliente.
text | es | y en ese caso pues no correspondía añadir dicha lógica.
text | es | peor por lo que yo conozco desde v14.0 el pos permite diferentes posiciones fiscales así que entiendo que tiene que funcionar igual que en financiero.
text | es | de hecho, el pos hace bien el calculo del iva (parte del core de odoo).
text | es | respecto a la pregunta que planteas, no se si hay otros caso en los que no este haciendo correctamente el envío tbai.
text | es | pero es muy probable que también ocurra con otras posiciones fiscales como intracavitarias etc...
text | es | de momento las facturas simplificadas con recargo de equivalencia la hacienda de bizkaia las está rechazando: @bilbonet gracias por el inside.
text | es | creo que como dices probablemente esté relacionado con el hecho de que orgininalmente el pos no permitía usar múltiples posiciones fiscales.
text | es | tengo esto en mis issues pendientes.
text | es | mirando lo hecho para contabilidad tal vez se pueda trasladar el comportamiento a pos o encontrar alguna solución para incorporar el feature.
Detalles: total_items: 31 | code_items: 0 | spanish_items: 30 | english_items: 0
Dato borrado: text | und | exacto.
recomposed_text: @bilbonet ¿podrías tal vez indicarme donde encontrar el formato correcto? . buenas @rrebollo como se puede ver en el xml que he puesto de ejemplo. si te fijas en el detalle del iva. la parte del recargo de equivalencia la indica mal con el valor "n". son las ventas del pos las que sale este valor mal. buenas @rrebollo no he analizado a fondo el código que muestras y al mirarlo por encima tengo una duda. ¿esa parte que muestras del código no se refiere a la posición fiscal de la compañía? para el caso que tratamos es la posición fiscal del cliente la que interviene para el desglose de los impuestos. > > no he analizado a fondo el código que muestras y al mirarlo por encima tengo una duda. ¿esa parte que muestras del código no se refiere a la posición fiscal de la compañía? para el caso que tratamos es la posición fiscal del cliente la que interviene para el desglose de los impuestos. solo se tiene en cuenta la company. creo que desde el punto de vista técnico hay un tratamiento "ingenuo" del feature por eso me parece que es una limitación desde el diseño. en el caso del addon ticketbai pos es únicamente desde este código que indico que se le asigna valor al elemento "operacionenrecargodeequivalenciaoregimensimplificado" del xml. ok entiendo. entonces mas que un bug ya estamos hablando de una mejora que habría que implementar. @bilbonet entiendo que hay un referente porque desde la app de contabilidad el proceso funciona correctamente así que podría mirarse el código allí (asumo que mayormente python) y trasladar la idea hacia donde corresponda en ticketbai pos (python y js) muy probablemente. aclarar desde el punto de vista del negocio el panorama para técnicos como yo podría ser la clave: ¿si el cliente tiene una posición fiscal de recargo de equivalencia el iva se comportará igual que en el régimen simplificado? es que no creo que este cambio lo único que afecte sea el valor del tag operacionenrecargodeequivalenciaoregimensimplificado al generar el xml. no entiendo porque han hecho esta simplificación la verdad. puede ser que el desarrollo viene de versiones anteriores del pos donde igual no se podían utilizar diferentes posiciones fiscales de cliente. y en ese caso pues no correspondía añadir dicha lógica. peor por lo que yo conozco desde v14.0 el pos permite diferentes posiciones fiscales así que entiendo que tiene que funcionar igual que en financiero. de hecho, el pos hace bien el calculo del iva (parte del core de odoo). respecto a la pregunta que planteas, no se si hay otros caso en los que no este haciendo correctamente el envío tbai. pero es muy probable que también ocurra con otras posiciones fiscales como intracavitarias etc... de momento las facturas simplificadas con recargo de equivalencia la hacienda de bizkaia las está rechazando: @bilbonet gracias por el inside. creo que como dices probablemente esté relacionado con el hecho de que orgininalmente el pos no permitía usar múltiples posiciones fiscales. tengo esto en mis issues pendientes. mirando lo hecho para contabilidad tal vez se pueda trasladar el comportamiento a pos o encontrar alguna solución para incorporar el feature.

__Corrector Ortográfico__2026-02-09T14:14:23.649525
'devería' se corrige por 'deber'

# Entrada procesada 2026-02-09T14:14:23.779796 UTC
code | code | está fusionado en el repositorio: https://github.com/oca/l10n-spain/tree/15.0/l10n_es_aeat_mod592
Detalles: total_items: 1 | code_items: 1 | spanish_items: 0 | english_items: 0
Dato borrado: code | code | está fusionado en el repositorio: https://github.com/oca/l10n-spain/tree/15.0/l10n_es_aeat_mod592
recomposed_text:
__Recursividad__
Detalles: total_items: 0 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text:

# Entrada procesada 2026-02-09T14:14:23.792559 UTC
text | es | @pedrobaeza si puedes revisar esto y decirme si es por culpa de configuración o si esta obsoleto lo del `_tipo` .
text | es | no te puedo decir ahora mismo, porque ahora mismo no tenemos ninguno en activo con este transportista.
text | es | hasta hace poco, la antigua url de asm funcionaba.
text | es | tal vez la han cambiado.
code | code | .
text | es | @pedrobaeza solo hay que cambiar la url a una mas actual, ya que he tenido que llamar a los de gls y me han dado la url que se tiene que utilizar y voy a hacer los fix de las version 14.0, 16.0 y 17.0, ya que en la version 18 hay un pr de una compañera mia que lo añadira ella.
code | code | la nueva url: ![image](https://github.com/user-attachments/assets/eac7191e-5a32-45b9-ac94-870680a1460a) el pr de la migración:
https://github.com/oca/l10n-spain/pull/4090 .
text | es | cierro al estar ya los prs.
Detalles: total_items: 8 | code_items: 2 | spanish_items: 6 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | la nueva url: ![image](https://github.com/user-attachments/assets/eac7191e-5a32-45b9-ac94-870680a1460a) el pr de la migración:
https://github.com/oca/l10n-spain/pull/4090 .
recomposed_text: @pedrobaeza si puedes revisar esto y decirme si es por culpa de configuración o si esta obsoleto lo del `_tipo` . no te puedo decir ahora mismo, porque ahora mismo no tenemos ninguno en activo con este transportista. hasta hace poco, la antigua url de asm funcionaba. tal vez la han cambiado. @pedrobaeza solo hay que cambiar la url a una mas actual, ya que he tenido que llamar a los de gls y me han dado la url que se tiene que utilizar y voy a hacer los fix de las version 14.0, 16.0 y 17.0, ya que en la version 18 hay un pr de una compañera mia que lo añadira ella. cierro al estar ya los prs.
__Recursividad__
text | es | @pedrobaeza si puedes revisar esto y decirme si es por culpa de configuración o si esta obsoleto lo del `_tipo` .
text | es | no te puedo decir ahora mismo, porque ahora mismo no tenemos ninguno en activo con este transportista.
text | es | hasta hace poco, la antigua url de asm funcionaba.
text | es | tal vez la han cambiado.
text | es | @pedrobaeza solo hay que cambiar la url a una mas actual, ya que he tenido que llamar a los de gls y me han dado la url que se tiene que utilizar y voy a hacer los fix de las version 14.0, 16.0 y 17.0, ya que en la version 18 hay un pr de una compañera mia que lo añadira ella.
text | es | cierro al estar ya los prs.
Detalles: total_items: 6 | code_items: 0 | spanish_items: 6 | english_items: 0
recomposed_text: @pedrobaeza si puedes revisar esto y decirme si es por culpa de configuración o si esta obsoleto lo del `_tipo` . no te puedo decir ahora mismo, porque ahora mismo no tenemos ninguno en activo con este transportista. hasta hace poco, la antigua url de asm funcionaba. tal vez la han cambiado. @pedrobaeza solo hay que cambiar la url a una mas actual, ya que he tenido que llamar a los de gls y me han dado la url que se tiene que utilizar y voy a hacer los fix de las version 14.0, 16.0 y 17.0, ya que en la version 18 hay un pr de una compañera mia que lo añadira ella. cierro al estar ya los prs.

# Entrada procesada 2026-02-09T14:14:23.837069 UTC
text | es | hola, no existe ningún módulo con ese nombre.
text | es | dirige por favor tus consultas al foro de aeodoo, al no tratarse de problemas de los módulos en si, si no de uso.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: hola, no existe ningún módulo con ese nombre. dirige por favor tus consultas al foro de aeodoo, al no tratarse de problemas de los módulos en si, si no de uso.
__Recursividad__
text | es | hola, no existe ningún módulo con ese nombre.
text | es | dirige por favor tus consultas al foro de aeodoo, al no tratarse de problemas de los módulos en si, si no de uso.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: hola, no existe ningún módulo con ese nombre. dirige por favor tus consultas al foro de aeodoo, al no tratarse de problemas de los módulos en si, si no de uso.

# Entrada procesada 2026-02-09T14:14:23.867992 UTC
text | es | los módulos de prorrata no están aún migrados a dicha versión, por lo que es normal que los de una versión anterior no funcionen adecuadamente en la siguiente.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: los módulos de prorrata no están aún migrados a dicha versión, por lo que es normal que los de una versión anterior no funcionen adecuadamente en la siguiente.
__Recursividad__
text | es | los módulos de prorrata no están aún migrados a dicha versión, por lo que es normal que los de una versión anterior no funcionen adecuadamente en la siguiente.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: los módulos de prorrata no están aún migrados a dicha versión, por lo que es normal que los de una versión anterior no funcionen adecuadamente en la siguiente.

# Entrada procesada 2026-02-09T14:14:23.885837 UTC
text | es | exel oficial de equivalencias https://www.ine.es/daco/daco42/clasificaciones/cnae25/correspondencia_cnae25_cnae09.xlsx
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: exel oficial de equivalencias https://www.ine.es/daco/daco42/clasificaciones/cnae25/correspondencia_cnae25_cnae09.xlsx
__Recursividad__
text | es | exel oficial de equivalencias https://www.ine.es/daco/daco42/clasificaciones/cnae25/correspondencia_cnae25_cnae09.xlsx
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: exel oficial de equivalencias https://www.ine.es/daco/daco42/clasificaciones/cnae25/correspondencia_cnae25_cnae09.xlsx

# Entrada procesada 2026-02-09T14:14:23.904743 UTC
text | es | da igual, porque esas casillas no se rellenan con nada, y están ahí solo "de adorno".
text | es | haría falta migrar el módulo de criterio de caja, que las alimenta, y además creo recordar que se hace manualmente sin seguir esa configuración.
text | es | cierro por no ser un problema real.
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: da igual, porque esas casillas no se rellenan con nada, y están ahí solo "de adorno". haría falta migrar el módulo de criterio de caja, que las alimenta, y además creo recordar que se hace manualmente sin seguir esa configuración. cierro por no ser un problema real.
__Recursividad__
text | es | da igual, porque esas casillas no se rellenan con nada, y están ahí solo "de adorno".
text | es | haría falta migrar el módulo de criterio de caja, que las alimenta, y además creo recordar que se hace manualmente sin seguir esa configuración.
text | es | cierro por no ser un problema real.
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: da igual, porque esas casillas no se rellenan con nada, y están ahí solo "de adorno". haría falta migrar el módulo de criterio de caja, que las alimenta, y además creo recordar que se hace manualmente sin seguir esa configuración. cierro por no ser un problema real.

# Entrada procesada 2026-02-09T14:14:23.935956 UTC
text | es | si es así, creo que también se debería modificar la casilla 84 y pasar ese impuestos a la casilla 94.
code | code | .
text | es | y aunque no se si este comentario vendría aquí o se debería abrir un nuevo issue en caso de aprobar el cambio que propone @pedroortega-punt en el mod.
text | es | 303, creo que en el mod.
text | es | 390 se debería cambiar el impuesto de la casilla 110 a la 104.
code | code | .
text | es | @tesseratech4 he realizado la consulta telefónica al departamento de iva y me han informado que los bienes a la casilla 60 y la prestación de servicios a la casilla 120, por lo que habría que cambiar el mapeo del impuesto de bienes a la casilla 60.
code | code | .
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Detalles: total_items: 10 | code_items: 3 | spanish_items: 5 | english_items: 2
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
recomposed_text: si es así, creo que también se debería modificar la casilla 84 y pasar ese impuestos a la casilla 94. y aunque no se si este comentario vendría aquí o se debería abrir un nuevo issue en caso de aprobar el cambio que propone @pedroortega-punt en el mod. 303, creo que en el mod. 390 se debería cambiar el impuesto de la casilla 110 a la 104. @tesseratech4 he realizado la consulta telefónica al departamento de iva y me han informado que los bienes a la casilla 60 y la prestación de servicios a la casilla 120, por lo que habría que cambiar el mapeo del impuesto de bienes a la casilla 60.
__Recursividad__
text | es | si es así, creo que también se debería modificar la casilla 84 y pasar ese impuestos a la casilla 94.
text | es | y aunque no se si este comentario vendría aquí o se debería abrir un nuevo issue en caso de aprobar el cambio que propone @pedroortega-punt en el mod.
text | es | 303, creo que en el mod.
text | es | 390 se debería cambiar el impuesto de la casilla 110 a la 104.
text | es | @tesseratech4 he realizado la consulta telefónica al departamento de iva y me han informado que los bienes a la casilla 60 y la prestación de servicios a la casilla 120, por lo que habría que cambiar el mapeo del impuesto de bienes a la casilla 60.
Detalles: total_items: 5 | code_items: 0 | spanish_items: 5 | english_items: 0
recomposed_text: si es así, creo que también se debería modificar la casilla 84 y pasar ese impuestos a la casilla 94. y aunque no se si este comentario vendría aquí o se debería abrir un nuevo issue en caso de aprobar el cambio que propone @pedroortega-punt en el mod. 303, creo que en el mod. 390 se debería cambiar el impuesto de la casilla 110 a la 104. @tesseratech4 he realizado la consulta telefónica al departamento de iva y me han informado que los bienes a la casilla 60 y la prestación de servicios a la casilla 120, por lo que habría que cambiar el mapeo del impuesto de bienes a la casilla 60.

# Entrada procesada 2026-02-09T14:14:23.979567 UTC
text | es | es mucho más sencillo hacer el check de "no incluir en el 347" del contacto como dependiente de la compañía.
code | code | .
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Detalles: total_items: 4 | code_items: 1 | spanish_items: 1 | english_items: 2
Dato borrado: code | code | .
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
recomposed_text: es mucho más sencillo hacer el check de "no incluir en el 347" del contacto como dependiente de la compañía.
__Recursividad__
text | es | es mucho más sencillo hacer el check de "no incluir en el 347" del contacto como dependiente de la compañía.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: es mucho más sencillo hacer el check de "no incluir en el 347" del contacto como dependiente de la compañía.

# Entrada procesada 2026-02-09T14:14:24.000254 UTC
text | es | ¿en la posición fiscal del régimen extracomunitario habéis puesto que el tipo de identificación sii sea de exportación? .
text | es | buenos días @pedrobaeza he probado en el mismo runboat y ahora estamos haciendo pruebas en el cliente.
text | es | tiene pinta que es eso.
text | es | muchísimas gracias.
Detalles: total_items: 4 | code_items: 0 | spanish_items: 4 | english_items: 0
recomposed_text: ¿en la posición fiscal del régimen extracomunitario habéis puesto que el tipo de identificación sii sea de exportación? . buenos días @pedrobaeza he probado en el mismo runboat y ahora estamos haciendo pruebas en el cliente. tiene pinta que es eso. muchísimas gracias.
__Recursividad__
text | es | ¿en la posición fiscal del régimen extracomunitario habéis puesto que el tipo de identificación sii sea de exportación? .
text | es | buenos días @pedrobaeza he probado en el mismo runboat y ahora estamos haciendo pruebas en el cliente.
text | es | tiene pinta que es eso.
text | es | muchísimas gracias.
Detalles: total_items: 4 | code_items: 0 | spanish_items: 4 | english_items: 0
recomposed_text: ¿en la posición fiscal del régimen extracomunitario habéis puesto que el tipo de identificación sii sea de exportación? . buenos días @pedrobaeza he probado en el mismo runboat y ahora estamos haciendo pruebas en el cliente. tiene pinta que es eso. muchísimas gracias.

# Entrada procesada 2026-02-09T14:14:24.021299 UTC
code | code | este commit y otros similares en diversos módulos ya tenían en cuenta que estuvieran archivados: https://github.com/oca/l10n-spain/commit/e4457af95b1c027a71eb74b1a6e066e6c828b9e8 tendrás que concretar algo más para saber si falta algo por aplicar.
code | code | .
text | es | era para versión 14 que no estaba hecho el backport.
code | code | acabo de hacerlo en https://github.com/oca/l10n-spain/pull/4170 @pedrobaeza gracias por el apunte.
Detalles: total_items: 4 | code_items: 3 | spanish_items: 1 | english_items: 0
Dato borrado: code | code | este commit y otros similares en diversos módulos ya tenían en cuenta que estuvieran archivados: https://github.com/oca/l10n-spain/commit/e4457af95b1c027a71eb74b1a6e066e6c828b9e8 tendrás que concretar algo más para saber si falta algo por aplicar.
Dato borrado: code | code | .
Dato borrado: code | code | acabo de hacerlo en https://github.com/oca/l10n-spain/pull/4170 @pedrobaeza gracias por el apunte.
recomposed_text: era para versión 14 que no estaba hecho el backport.
__Recursividad__
text | es | era para versión 14 que no estaba hecho el backport.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: era para versión 14 que no estaba hecho el backport.

# Entrada procesada 2026-02-09T14:14:24.074792 UTC
text | es | me temo que la información proporcionada no es suficiente para poder ayudar.
code | code | .
text | es | buenas tardes,
he detectado que el error se produce porque al pulsar en la acción de servidor enviar al sii en las facturas, en la función de default_get, no actualiza el campo account_move_ids, con las ids seleccionadas, por lo que al intentar enviar al sii, aparece sin facturas a enviar.
text | und | l10n_es_aeat_sii_oca/wizards/account_move_send_sii.py.
code | code | res.update( { "sending_number": len(account_moves), "not_send_without_errors_number": len(not_send_without_errors), "with_errors_number": len(with_errors), "modified_number": len(modified), } ) return res
text | es | saludos .
text | es | fuera de que ahí pueda haber un error, ¿por qué se están usando ese asistente, si con una configuración normal se encola para enviar en cuanto se confirma la factura? .
text | es | en mi caso tengo habilitado el que no se envíe las facturas automáticamente, si no que se haga manualmente con el botón de enviar al sii .
text | es | como tal, considero un error hacerlo de esa forma, porque es muy fácil "olvidarse" de alguna factura a enviar y hacerlo en plazo, pero bueno, cada uno que elija la forma que quiera.
text | es | entiendo de todas formas que no tienes nada que ver con eva y la tuya ha sido una averiguación parelela, ¿verdad? .
text | es | @evaguadaltech es posible que alguna de las facturas esté dando error en el envío y por eso parezca que no haga nada.
text | es | intenta ejecutar la acción planificada manualmente y mira si te sale algún mensaje de error.
text | es | hola @pedrobaeza iba a abrir un issue, pero me cuelgo de este hilo, en caso de ser necesario lo abro formalmente.
text | es | ¿sabes si es normal que no se puedan enviar al sii facturas de cliente de países extracomunitarios sin nif establecido?
text | es | en versión 15 sí se podía y no veo que en v17 haya que hacer una configuración adicional.
text | es | ¿es obligatorio?
text | es | gracias .
text | es | @mof-landoo en principio sobre eso no ha habido ningún cambio, así que alguna diferencia debería haber entre lo hecho en la 15 y en la 17.
text | es | analiza eso, y si no, especifica todos los pasos con datos para reproducir el error en una issue diferente.
code | code | .
text | es | muy buenas, nosotros estamos teniendo el mismo problema.
text | es | tenemos la versión 17 de odoo y enviamos las facturas de forma manual pulsando el botón (también lo hemos probado de forma automática).
text | es | desde el lado de odoo parece que se ha enviado la factura de forma correcta, cambia a estado enviado, obtiene el sii csv, incluso muestra el retorno sii, pero luego consultamos en la agenciatributaria y la factura no ha llegado.
text | es | también he probado a ejecutar la acción planificada de forma manual pero tampoco funciona.
text | es | en nuestro log de odoo (odoo-server.log), cuando pulsamos enviar al sii solo se muestra lo siguiente:
odoo.addons.base.models.ir_cron: starting job: 'send invoices to sii'
odoo.addons.base.models.ir_cron: job done: 'send invoices to sii' (0.794s) no aparece ningún error.
text | es | ¿se os ocurre por qué puede ser para que lo revise? .
text | es | @albertocanto si os devuelve csv, sí que se está enviando.
text | es | a ver si tenéis puesto el portal de pruebas en lugar del real...
code | code | .
text | es | el modo pruebas no estaba activado, además, lo curioso, es que el csv que devuelve no coincide con el real, ya que el que aparece en el campo de odoo sii csv es un valor alfanumérico y el que aparece en la factura dentro del portal de la agenciatributaria es numérico solamente.
code | code | .
text | es | serán números diferentes, porque el csv siempre ha tenido formato alfanumérico.
code | code | .
text | es | cierro como ya se fusionó el pr que corregía el asistente de envío.
Detalles: total_items: 34 | code_items: 6 | spanish_items: 27 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | res.update( { "sending_number": len(account_moves), "not_send_without_errors_number": len(not_send_without_errors), "with_errors_number": len(with_errors), "modified_number": len(modified), } ) return res
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
recomposed_text: me temo que la información proporcionada no es suficiente para poder ayudar. buenas tardes,
he detectado que el error se produce porque al pulsar en la acción de servidor enviar al sii en las facturas, en la función de default_get, no actualiza el campo account_move_ids, con las ids seleccionadas, por lo que al intentar enviar al sii, aparece sin facturas a enviar. l10n_es_aeat_sii_oca/wizards/account_move_send_sii.py. saludos . fuera de que ahí pueda haber un error, ¿por qué se están usando ese asistente, si con una configuración normal se encola para enviar en cuanto se confirma la factura? . en mi caso tengo habilitado el que no se envíe las facturas automáticamente, si no que se haga manualmente con el botón de enviar al sii . como tal, considero un error hacerlo de esa forma, porque es muy fácil "olvidarse" de alguna factura a enviar y hacerlo en plazo, pero bueno, cada uno que elija la forma que quiera. entiendo de todas formas que no tienes nada que ver con eva y la tuya ha sido una averiguación parelela, ¿verdad? . @evaguadaltech es posible que alguna de las facturas esté dando error en el envío y por eso parezca que no haga nada. intenta ejecutar la acción planificada manualmente y mira si te sale algún mensaje de error. hola @pedrobaeza iba a abrir un issue, pero me cuelgo de este hilo, en caso de ser necesario lo abro formalmente. ¿sabes si es normal que no se puedan enviar al sii facturas de cliente de países extracomunitarios sin nif establecido? en versión 15 sí se podía y no veo que en v17 haya que hacer una configuración adicional. ¿es obligatorio? gracias . @mof-landoo en principio sobre eso no ha habido ningún cambio, así que alguna diferencia debería haber entre lo hecho en la 15 y en la 17. analiza eso, y si no, especifica todos los pasos con datos para reproducir el error en una issue diferente. muy buenas, nosotros estamos teniendo el mismo problema. tenemos la versión 17 de odoo y enviamos las facturas de forma manual pulsando el botón (también lo hemos probado de forma automática). desde el lado de odoo parece que se ha enviado la factura de forma correcta, cambia a estado enviado, obtiene el sii csv, incluso muestra el retorno sii, pero luego consultamos en la agenciatributaria y la factura no ha llegado. también he probado a ejecutar la acción planificada de forma manual pero tampoco funciona. en nuestro log de odoo (odoo-server.log), cuando pulsamos enviar al sii solo se muestra lo siguiente:
odoo.addons.base.models.ir_cron: starting job: 'send invoices to sii'
odoo.addons.base.models.ir_cron: job done: 'send invoices to sii' (0.794s) no aparece ningún error. ¿se os ocurre por qué puede ser para que lo revise? . @albertocanto si os devuelve csv, sí que se está enviando. a ver si tenéis puesto el portal de pruebas en lugar del real... el modo pruebas no estaba activado, además, lo curioso, es que el csv que devuelve no coincide con el real, ya que el que aparece en el campo de odoo sii csv es un valor alfanumérico y el que aparece en la factura dentro del portal de la agenciatributaria es numérico solamente. serán números diferentes, porque el csv siempre ha tenido formato alfanumérico. cierro como ya se fusionó el pr que corregía el asistente de envío.
__Recursividad__
text | es | me temo que la información proporcionada no es suficiente para poder ayudar.
text | es | buenas tardes,
he detectado que el error se produce porque al pulsar en la acción de servidor enviar al sii en las facturas, en la función de default_get, no actualiza el campo account_move_ids, con las ids seleccionadas, por lo que al intentar enviar al sii, aparece sin facturas a enviar.
text | und | l10n_es_aeat_sii_oca/wizards/account_move_send_sii.py.
text | es | saludos .
text | es | fuera de que ahí pueda haber un error, ¿por qué se están usando ese asistente, si con una configuración normal se encola para enviar en cuanto se confirma la factura? .
text | es | en mi caso tengo habilitado el que no se envíe las facturas automáticamente, si no que se haga manualmente con el botón de enviar al sii .
text | es | como tal, considero un error hacerlo de esa forma, porque es muy fácil "olvidarse" de alguna factura a enviar y hacerlo en plazo, pero bueno, cada uno que elija la forma que quiera.
text | es | entiendo de todas formas que no tienes nada que ver con eva y la tuya ha sido una averiguación parelela, ¿verdad? .
text | es | @evaguadaltech es posible que alguna de las facturas esté dando error en el envío y por eso parezca que no haga nada.
text | es | intenta ejecutar la acción planificada manualmente y mira si te sale algún mensaje de error.
text | es | hola @pedrobaeza iba a abrir un issue, pero me cuelgo de este hilo, en caso de ser necesario lo abro formalmente.
text | es | ¿sabes si es normal que no se puedan enviar al sii facturas de cliente de países extracomunitarios sin nif establecido?
text | es | en versión 15 sí se podía y no veo que en v17 haya que hacer una configuración adicional.
text | es | ¿es obligatorio?
text | es | gracias .
text | es | @mof-landoo en principio sobre eso no ha habido ningún cambio, así que alguna diferencia debería haber entre lo hecho en la 15 y en la 17.
text | es | analiza eso, y si no, especifica todos los pasos con datos para reproducir el error en una issue diferente.
text | es | muy buenas, nosotros estamos teniendo el mismo problema.
text | es | tenemos la versión 17 de odoo y enviamos las facturas de forma manual pulsando el botón (también lo hemos probado de forma automática).
text | es | desde el lado de odoo parece que se ha enviado la factura de forma correcta, cambia a estado enviado, obtiene el sii csv, incluso muestra el retorno sii, pero luego consultamos en la agenciatributaria y la factura no ha llegado.
text | es | también he probado a ejecutar la acción planificada de forma manual pero tampoco funciona.
text | es | en nuestro log de odoo (odoo-server.log), cuando pulsamos enviar al sii solo se muestra lo siguiente:
odoo.addons.base.models.ir_cron: starting job: 'send invoices to sii'
odoo.addons.base.models.ir_cron: job done: 'send invoices to sii' (0.794s) no aparece ningún error.
text | es | ¿se os ocurre por qué puede ser para que lo revise? .
text | es | @albertocanto si os devuelve csv, sí que se está enviando.
text | es | a ver si tenéis puesto el portal de pruebas en lugar del real...
text | es | el modo pruebas no estaba activado, además, lo curioso, es que el csv que devuelve no coincide con el real, ya que el que aparece en el campo de odoo sii csv es un valor alfanumérico y el que aparece en la factura dentro del portal de la agenciatributaria es numérico solamente.
text | es | serán números diferentes, porque el csv siempre ha tenido formato alfanumérico.
text | es | cierro como ya se fusionó el pr que corregía el asistente de envío.
Detalles: total_items: 28 | code_items: 0 | spanish_items: 27 | english_items: 0
Dato borrado: text | und | l10n_es_aeat_sii_oca/wizards/account_move_send_sii.py.
recomposed_text: me temo que la información proporcionada no es suficiente para poder ayudar. buenas tardes,
he detectado que el error se produce porque al pulsar en la acción de servidor enviar al sii en las facturas, en la función de default_get, no actualiza el campo account_move_ids, con las ids seleccionadas, por lo que al intentar enviar al sii, aparece sin facturas a enviar. saludos . fuera de que ahí pueda haber un error, ¿por qué se están usando ese asistente, si con una configuración normal se encola para enviar en cuanto se confirma la factura? . en mi caso tengo habilitado el que no se envíe las facturas automáticamente, si no que se haga manualmente con el botón de enviar al sii . como tal, considero un error hacerlo de esa forma, porque es muy fácil "olvidarse" de alguna factura a enviar y hacerlo en plazo, pero bueno, cada uno que elija la forma que quiera. entiendo de todas formas que no tienes nada que ver con eva y la tuya ha sido una averiguación parelela, ¿verdad? . @evaguadaltech es posible que alguna de las facturas esté dando error en el envío y por eso parezca que no haga nada. intenta ejecutar la acción planificada manualmente y mira si te sale algún mensaje de error. hola @pedrobaeza iba a abrir un issue, pero me cuelgo de este hilo, en caso de ser necesario lo abro formalmente. ¿sabes si es normal que no se puedan enviar al sii facturas de cliente de países extracomunitarios sin nif establecido? en versión 15 sí se podía y no veo que en v17 haya que hacer una configuración adicional. ¿es obligatorio? gracias . @mof-landoo en principio sobre eso no ha habido ningún cambio, así que alguna diferencia debería haber entre lo hecho en la 15 y en la 17. analiza eso, y si no, especifica todos los pasos con datos para reproducir el error en una issue diferente. muy buenas, nosotros estamos teniendo el mismo problema. tenemos la versión 17 de odoo y enviamos las facturas de forma manual pulsando el botón (también lo hemos probado de forma automática). desde el lado de odoo parece que se ha enviado la factura de forma correcta, cambia a estado enviado, obtiene el sii csv, incluso muestra el retorno sii, pero luego consultamos en la agenciatributaria y la factura no ha llegado. también he probado a ejecutar la acción planificada de forma manual pero tampoco funciona. en nuestro log de odoo (odoo-server.log), cuando pulsamos enviar al sii solo se muestra lo siguiente:
odoo.addons.base.models.ir_cron: starting job: 'send invoices to sii'
odoo.addons.base.models.ir_cron: job done: 'send invoices to sii' (0.794s) no aparece ningún error. ¿se os ocurre por qué puede ser para que lo revise? . @albertocanto si os devuelve csv, sí que se está enviando. a ver si tenéis puesto el portal de pruebas en lugar del real... el modo pruebas no estaba activado, además, lo curioso, es que el csv que devuelve no coincide con el real, ya que el que aparece en el campo de odoo sii csv es un valor alfanumérico y el que aparece en la factura dentro del portal de la agenciatributaria es numérico solamente. serán números diferentes, porque el csv siempre ha tenido formato alfanumérico. cierro como ya se fusionó el pr que corregía el asistente de envío.

# Entrada procesada 2026-02-09T14:14:24.218861 UTC
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 0 | english_items: 2
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
recomposed_text:
__Recursividad__
Detalles: total_items: 0 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text:

# Entrada procesada 2026-02-09T14:14:24.225884 UTC
text | es | me pasa exactamente lo mismo, si alguien puede dar una solucion me salva, gracias.
code | code | .
text | es | el módulo debe actualizarse a la última versión (en código y en base de datos), y utilizar la última configuración de exportación disponible.
text | es | cierro al estar ya cubierto en el módulo.
Detalles: total_items: 4 | code_items: 1 | spanish_items: 3 | english_items: 0
Dato borrado: code | code | .
recomposed_text: me pasa exactamente lo mismo, si alguien puede dar una solucion me salva, gracias. el módulo debe actualizarse a la última versión (en código y en base de datos), y utilizar la última configuración de exportación disponible. cierro al estar ya cubierto en el módulo.
__Recursividad__
text | es | me pasa exactamente lo mismo, si alguien puede dar una solucion me salva, gracias.
text | es | el módulo debe actualizarse a la última versión (en código y en base de datos), y utilizar la última configuración de exportación disponible.
text | es | cierro al estar ya cubierto en el módulo.
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: me pasa exactamente lo mismo, si alguien puede dar una solucion me salva, gracias. el módulo debe actualizarse a la última versión (en código y en base de datos), y utilizar la última configuración de exportación disponible. cierro al estar ya cubierto en el módulo.

# Entrada procesada 2026-02-09T14:14:24.249750 UTC
text | es | hola, eva, ese tipo de preguntas puedes hacerla en https://www.aeodoo.org/forum, que es un lugar más adecuado para ello.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: hola, eva, ese tipo de preguntas puedes hacerla en https://www.aeodoo.org/forum, que es un lugar más adecuado para ello.
__Recursividad__
text | es | hola, eva, ese tipo de preguntas puedes hacerla en https://www.aeodoo.org/forum, que es un lugar más adecuado para ello.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: hola, eva, ese tipo de preguntas puedes hacerla en https://www.aeodoo.org/forum, que es un lugar más adecuado para ello.

# Entrada procesada 2026-02-09T14:14:24.372572 UTC
text | es | @haraldpanten @pedrobaeza @etobella @jordibforgeflow .
text | es | bueno, yo lo veo más sencillo en esos casos: tienes instalados los dos módulos, pero activas sii o verifactu y ya está.
text | es | es que otro tipo de compatibilidad no es posible, porque hay campos muy específicos de cada tipo.
text | es | por ejemplo, el qr o el encadenamiento de verifactu, no tienen sentido en la capa superior de abstracción, al igual que el csv del sii.
code | code | .
text | es | > bueno, yo lo veo más sencillo en esos casos: tienes instalados los dos módulos, pero activas sii o verifactu y ya está.
text | es | es que otro tipo de compatibilidad no es posible, porque hay campos muy específicos de cada tipo.
text | es | por ejemplo, el qr o el encadenamiento de verifactu, no tienen sentido en la capa superior de abstracción, al igual que el csv del sii.
text | es | sería la idea, pero hay campos que son compartidos y eso es posible que cree "inconsistencias".
text | es | por otro lado, podría pasar que una compañía utilice un sistema y otra compañia (sistema multicompañía) utilice el otro....
text | es | no se si sería ideal realizar una mayor separación.
text | es | abro este punto, ya que como se acercan las jornadas podría ser un punto a realizar (en caso de tener que realizarse algo).
code | code | .
text | es | hasta donde sé, la activación es por compañía, por lo que no es problema.
text | es | si ves incompatibilidad de campos, sería listarlos y empezar a resolverlos (que básicamente sería poner nombres distintos), pero no creo que haya tantos.
code | code | .
text | es | > hasta donde sé, la activación es por compañía, por lo que no es problema.
text | es | si ves incompatibilidad de campos, sería listarlos y empezar a resolverlos (que básicamente sería poner nombres distintos), pero no creo que haya tantos.
text | es | por nuestra parte sin problemas, entonces nos lo apuntaremos para el codesprint cara sonriendo con ojos sonrientes .
code | code | .
text | es | hola @valentinvinagre a priori son compatibles, y se configuran por compañía, si pasa de un sistema a otro habría que marcar/desmarcar los checks de la compañía pero no necesariamente desinstalar los módulos con lo que no habría inconsistencias de datos, eso ya se planteo en el anterior codesprint.
text | es | digo a priori por que puede que haya algun método que se llame igual y habría que revisarlo.
code | code | .
text | es | > hola [@valentinvinagre](https://github.com/valentinvinagre) a priori son compatibles, y se configuran por compañía, si pasa de un sistema a otro habría que marcar/desmarcar los checks de la compañía pero no necesariamente desinstalar los módulos con lo que no habría inconsistencias de datos, eso ya se planteo en el anterior codesprint.
text | es | digo a priori por que puede que haya algun método que se llame igual y habría que revisarlo.
text | es | no estoy del todo de acuerdo, según la migración de 16-17 del sii ya vimos cosas compartidas, etc.
code | code | .
text | es | igual no me he expresado correctamente, quería decir que la idea era hacerlo así, puede que haya algo compartido cara sonriendo con ojos sonrientes .
text | es | valentín, ¿tienes un listado de esos campos conflictivos que comentas? .
text | es | > valentín, ¿tienes un listado de esos campos conflictivos que comentas?
text | es | actualmente no tengo una lista, la idea es poner el tema encima de la mesa y plantear la situación.
text | es | no busco realizar una acción correctiva actualmente, nuestra idea si nos ponemos es en los spanish oca days.
code | code | .
text | es | vale, pues en los spanish oca days alguien puede dedicarse a detectar esos posibles conflictos y atajarlos antes de que fusionemos para que no haya luego que renombrar campos y demás.
code | code | .
text | es | perdón por mi ignorancia, pero se sabe cuándo y por donde estará listo el módulo de verifactu ? .
code | code | > perdón por mi ignorancia, pero se sabe cuándo y por donde estará listo el módulo de verifactu ? se está realizando desde el siguiente pr, mejor pregúntalo por ahí:
https://github.com/oca/l10n-spain/pull/3579 .
text | es | respuesta de aeat: `buenos días: primero, debe recordarse que un sif adaptado al rd 1007/2023 (tanto actuando en la modalidad veri*factu como en la no veri*factu) solo puede usarse cumpliendo con todos los requisitos de dicho rd 1007/2023 que le aplican a él (para lo que, entre otras cosas, es necesario tener instalado un certificado electrónico cualificado válido).
text | es | cuando un productor o fabricante –mientras se den las circunstancias que permitan esto– ofrece al cliente un sistema de facturación para que pueda ser usado de forma adaptada al rrsif o sin adaptar a dicha normativa, o bien para que cumpla con diferentes normativas, tales como ticketbai, rd 1007/2023 y la normativa que regula el suministro inmediato de información “sii”, realmente está ofreciendo “un paquete o familia” de varios productos sif diferentes (aunque puede que compartan gran parte de su programación), a fin de que el cliente pueda elegir específicamente uno para instalar y usar, bajo la responsabilidad del usuario.
text | es | en cualquier caso, este ofrecimiento debe implementarse de tal forma que el usuario no pueda cambiar dinámicamente de un “producto” a otro con cada factura ni con cada sesión o arranque del producto, sino que el usuario deberá elegir previamente qué tipo de sif quiere utilizar y lo instalará –o actualizará– para que cumpla con esas características, que ya permanecerán así en adelante (a menos que se desinstale).
text | es | en todo caso, será el usuario último del sif, quien será responsable de seleccionar la modalidad de su software que corresponda con la normativa que se le aplica.
text | es | si el caso es que el usuario ha decidido, por ejemplo, darse de alta voluntaria en el sii, a partir de ese momento, a todos los efectos relativos a su facturación propia, no quedan afectados por el r.
code | code | d.
text | es | 1007/2023 y el programa que utilicen deberán cumplir genéricamente con las obligaciones que se señalan en el artículo 29.2.j) de la ley 58/2003, de 17 de diciembre, general tributaria (lgt).
text | es | respecto a la conservación de los registros de facturación (rfs) si se trata de un sif que actúe en la modalidad veri*factu, no es obligatoria la conservación de los registros de facturación (rfs), dado que estos habrán sido remitidos en el momento de la expedición de las facturas, a la sede electrónica.
text | es | en los demás casos, rigen las normas de conservación documental habituales en materia fiscal, es decir, con carácter general, la prescripción fiscal (cuatro años posteriores a la fecha de devengo), pero, en determinados supuestos, plazos más largos.
text | es | si fuese a la inversa, igualmente, deben cumplir con la normativa que corresponda.
text | es | lo que queremos dejar claro con esto, es que se trata de normativas diferentes con obligaciones diferenciadas.
text | es | el sii consiste en la llevanza de los libros registro de iva (facturas emitidas, facturas recibidas, bienes de inversión…) a través de la sede electrónica de la agencia tributaria, lo que implica obligaciones de comunicación electrónica a la agencia tributaria de una amplia información relacionada con el iva de las facturas emitidas y recibidas en un determinado plazo de tiempo.
text | es | por su parte, el reglamento que establece los requisitos de los sistemas informáticos de facturación obliga a que los sif registren, con determinadas medidas de seguridad y control, cierta información solo de las facturas expedidas, pudiendo remitirse opcionalmente a la agencia tributaria.
text | es | el ámbito subjetivo de ambos proyectos es excluyente, es decir, quienes cumplan con el sii no han de cumplir con el reglamento que establece los requisitos de los sistemas informáticos de facturación y viceversa.
text | es | respecto a la consulta del encadenamiento, el sif utilizado sería una nueva instalación por lo que debería comenzar un nuevo encadenamiento.
text | es | atentamente,
atención al usuario
departamento de informática tributaria
email: verifactu@correo.aeat.es
` con saber que ha sido enviado para no volver a enviarlo valdría y ya está en el módulo l10n_es_aeat saludos,
ignacio .
text | es | > con saber que ha sido enviado para no volver a enviarlo valdría y ya está en el módulo l10n_es_aeat genial, gracias @acysos .
Detalles: total_items: 54 | code_items: 10 | spanish_items: 44 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | > perdón por mi ignorancia, pero se sabe cuándo y por donde estará listo el módulo de verifactu ? se está realizando desde el siguiente pr, mejor pregúntalo por ahí:
https://github.com/oca/l10n-spain/pull/3579 .
Dato borrado: code | code | d.
recomposed_text: @haraldpanten @pedrobaeza @etobella @jordibforgeflow . bueno, yo lo veo más sencillo en esos casos: tienes instalados los dos módulos, pero activas sii o verifactu y ya está. es que otro tipo de compatibilidad no es posible, porque hay campos muy específicos de cada tipo. por ejemplo, el qr o el encadenamiento de verifactu, no tienen sentido en la capa superior de abstracción, al igual que el csv del sii. > bueno, yo lo veo más sencillo en esos casos: tienes instalados los dos módulos, pero activas sii o verifactu y ya está. es que otro tipo de compatibilidad no es posible, porque hay campos muy específicos de cada tipo. por ejemplo, el qr o el encadenamiento de verifactu, no tienen sentido en la capa superior de abstracción, al igual que el csv del sii. sería la idea, pero hay campos que son compartidos y eso es posible que cree "inconsistencias". por otro lado, podría pasar que una compañía utilice un sistema y otra compañia (sistema multicompañía) utilice el otro.... no se si sería ideal realizar una mayor separación. abro este punto, ya que como se acercan las jornadas podría ser un punto a realizar (en caso de tener que realizarse algo). hasta donde sé, la activación es por compañía, por lo que no es problema. si ves incompatibilidad de campos, sería listarlos y empezar a resolverlos (que básicamente sería poner nombres distintos), pero no creo que haya tantos. > hasta donde sé, la activación es por compañía, por lo que no es problema. si ves incompatibilidad de campos, sería listarlos y empezar a resolverlos (que básicamente sería poner nombres distintos), pero no creo que haya tantos. por nuestra parte sin problemas, entonces nos lo apuntaremos para el codesprint cara sonriendo con ojos sonrientes . hola @valentinvinagre a priori son compatibles, y se configuran por compañía, si pasa de un sistema a otro habría que marcar/desmarcar los checks de la compañía pero no necesariamente desinstalar los módulos con lo que no habría inconsistencias de datos, eso ya se planteo en el anterior codesprint. digo a priori por que puede que haya algun método que se llame igual y habría que revisarlo. > hola [@valentinvinagre](https://github.com/valentinvinagre) a priori son compatibles, y se configuran por compañía, si pasa de un sistema a otro habría que marcar/desmarcar los checks de la compañía pero no necesariamente desinstalar los módulos con lo que no habría inconsistencias de datos, eso ya se planteo en el anterior codesprint. digo a priori por que puede que haya algun método que se llame igual y habría que revisarlo. no estoy del todo de acuerdo, según la migración de 16-17 del sii ya vimos cosas compartidas, etc. igual no me he expresado correctamente, quería decir que la idea era hacerlo así, puede que haya algo compartido cara sonriendo con ojos sonrientes . valentín, ¿tienes un listado de esos campos conflictivos que comentas? . > valentín, ¿tienes un listado de esos campos conflictivos que comentas? actualmente no tengo una lista, la idea es poner el tema encima de la mesa y plantear la situación. no busco realizar una acción correctiva actualmente, nuestra idea si nos ponemos es en los spanish oca days. vale, pues en los spanish oca days alguien puede dedicarse a detectar esos posibles conflictos y atajarlos antes de que fusionemos para que no haya luego que renombrar campos y demás. perdón por mi ignorancia, pero se sabe cuándo y por donde estará listo el módulo de verifactu ? . respuesta de aeat: `buenos días: primero, debe recordarse que un sif adaptado al rd 1007/2023 (tanto actuando en la modalidad veri*factu como en la no veri*factu) solo puede usarse cumpliendo con todos los requisitos de dicho rd 1007/2023 que le aplican a él (para lo que, entre otras cosas, es necesario tener instalado un certificado electrónico cualificado válido). cuando un productor o fabricante –mientras se den las circunstancias que permitan esto– ofrece al cliente un sistema de facturación para que pueda ser usado de forma adaptada al rrsif o sin adaptar a dicha normativa, o bien para que cumpla con diferentes normativas, tales como ticketbai, rd 1007/2023 y la normativa que regula el suministro inmediato de información “sii”, realmente está ofreciendo “un paquete o familia” de varios productos sif diferentes (aunque puede que compartan gran parte de su programación), a fin de que el cliente pueda elegir específicamente uno para instalar y usar, bajo la responsabilidad del usuario. en cualquier caso, este ofrecimiento debe implementarse de tal forma que el usuario no pueda cambiar dinámicamente de un “producto” a otro con cada factura ni con cada sesión o arranque del producto, sino que el usuario deberá elegir previamente qué tipo de sif quiere utilizar y lo instalará –o actualizará– para que cumpla con esas características, que ya permanecerán así en adelante (a menos que se desinstale). en todo caso, será el usuario último del sif, quien será responsable de seleccionar la modalidad de su software que corresponda con la normativa que se le aplica. si el caso es que el usuario ha decidido, por ejemplo, darse de alta voluntaria en el sii, a partir de ese momento, a todos los efectos relativos a su facturación propia, no quedan afectados por el r. 1007/2023 y el programa que utilicen deberán cumplir genéricamente con las obligaciones que se señalan en el artículo 29.2.j) de la ley 58/2003, de 17 de diciembre, general tributaria (lgt). respecto a la conservación de los registros de facturación (rfs) si se trata de un sif que actúe en la modalidad veri*factu, no es obligatoria la conservación de los registros de facturación (rfs), dado que estos habrán sido remitidos en el momento de la expedición de las facturas, a la sede electrónica. en los demás casos, rigen las normas de conservación documental habituales en materia fiscal, es decir, con carácter general, la prescripción fiscal (cuatro años posteriores a la fecha de devengo), pero, en determinados supuestos, plazos más largos. si fuese a la inversa, igualmente, deben cumplir con la normativa que corresponda. lo que queremos dejar claro con esto, es que se trata de normativas diferentes con obligaciones diferenciadas. el sii consiste en la llevanza de los libros registro de iva (facturas emitidas, facturas recibidas, bienes de inversión…) a través de la sede electrónica de la agencia tributaria, lo que implica obligaciones de comunicación electrónica a la agencia tributaria de una amplia información relacionada con el iva de las facturas emitidas y recibidas en un determinado plazo de tiempo. por su parte, el reglamento que establece los requisitos de los sistemas informáticos de facturación obliga a que los sif registren, con determinadas medidas de seguridad y control, cierta información solo de las facturas expedidas, pudiendo remitirse opcionalmente a la agencia tributaria. el ámbito subjetivo de ambos proyectos es excluyente, es decir, quienes cumplan con el sii no han de cumplir con el reglamento que establece los requisitos de los sistemas informáticos de facturación y viceversa. respecto a la consulta del encadenamiento, el sif utilizado sería una nueva instalación por lo que debería comenzar un nuevo encadenamiento. atentamente,
atención al usuario
departamento de informática tributaria
email: verifactu@correo.aeat.es
` con saber que ha sido enviado para no volver a enviarlo valdría y ya está en el módulo l10n_es_aeat saludos,
ignacio . > con saber que ha sido enviado para no volver a enviarlo valdría y ya está en el módulo l10n_es_aeat genial, gracias @acysos .
__Recursividad__
text | es | @haraldpanten @pedrobaeza @etobella @jordibforgeflow .
text | es | bueno, yo lo veo más sencillo en esos casos: tienes instalados los dos módulos, pero activas sii o verifactu y ya está.
text | es | es que otro tipo de compatibilidad no es posible, porque hay campos muy específicos de cada tipo.
text | es | por ejemplo, el qr o el encadenamiento de verifactu, no tienen sentido en la capa superior de abstracción, al igual que el csv del sii.
text | es | > bueno, yo lo veo más sencillo en esos casos: tienes instalados los dos módulos, pero activas sii o verifactu y ya está.
text | es | es que otro tipo de compatibilidad no es posible, porque hay campos muy específicos de cada tipo.
text | es | por ejemplo, el qr o el encadenamiento de verifactu, no tienen sentido en la capa superior de abstracción, al igual que el csv del sii.
text | es | sería la idea, pero hay campos que son compartidos y eso es posible que cree "inconsistencias".
text | es | por otro lado, podría pasar que una compañía utilice un sistema y otra compañia (sistema multicompañía) utilice el otro....
text | es | no se si sería ideal realizar una mayor separación.
text | es | abro este punto, ya que como se acercan las jornadas podría ser un punto a realizar (en caso de tener que realizarse algo).
text | es | hasta donde sé, la activación es por compañía, por lo que no es problema.
text | es | si ves incompatibilidad de campos, sería listarlos y empezar a resolverlos (que básicamente sería poner nombres distintos), pero no creo que haya tantos.
text | es | > hasta donde sé, la activación es por compañía, por lo que no es problema.
text | es | si ves incompatibilidad de campos, sería listarlos y empezar a resolverlos (que básicamente sería poner nombres distintos), pero no creo que haya tantos.
text | es | por nuestra parte sin problemas, entonces nos lo apuntaremos para el codesprint cara sonriendo con ojos sonrientes .
text | es | hola @valentinvinagre a priori son compatibles, y se configuran por compañía, si pasa de un sistema a otro habría que marcar/desmarcar los checks de la compañía pero no necesariamente desinstalar los módulos con lo que no habría inconsistencias de datos, eso ya se planteo en el anterior codesprint.
text | es | digo a priori por que puede que haya algun método que se llame igual y habría que revisarlo.
text | es | > hola [@valentinvinagre](https://github.com/valentinvinagre) a priori son compatibles, y se configuran por compañía, si pasa de un sistema a otro habría que marcar/desmarcar los checks de la compañía pero no necesariamente desinstalar los módulos con lo que no habría inconsistencias de datos, eso ya se planteo en el anterior codesprint.
text | es | digo a priori por que puede que haya algun método que se llame igual y habría que revisarlo.
text | es | no estoy del todo de acuerdo, según la migración de 16-17 del sii ya vimos cosas compartidas, etc.
text | es | igual no me he expresado correctamente, quería decir que la idea era hacerlo así, puede que haya algo compartido cara sonriendo con ojos sonrientes .
text | es | valentín, ¿tienes un listado de esos campos conflictivos que comentas? .
text | es | > valentín, ¿tienes un listado de esos campos conflictivos que comentas?
text | es | actualmente no tengo una lista, la idea es poner el tema encima de la mesa y plantear la situación.
text | es | no busco realizar una acción correctiva actualmente, nuestra idea si nos ponemos es en los spanish oca days.
text | es | vale, pues en los spanish oca days alguien puede dedicarse a detectar esos posibles conflictos y atajarlos antes de que fusionemos para que no haya luego que renombrar campos y demás.
text | es | perdón por mi ignorancia, pero se sabe cuándo y por donde estará listo el módulo de verifactu ? .
text | es | respuesta de aeat: `buenos días: primero, debe recordarse que un sif adaptado al rd 1007/2023 (tanto actuando en la modalidad veri*factu como en la no veri*factu) solo puede usarse cumpliendo con todos los requisitos de dicho rd 1007/2023 que le aplican a él (para lo que, entre otras cosas, es necesario tener instalado un certificado electrónico cualificado válido).
text | es | cuando un productor o fabricante –mientras se den las circunstancias que permitan esto– ofrece al cliente un sistema de facturación para que pueda ser usado de forma adaptada al rrsif o sin adaptar a dicha normativa, o bien para que cumpla con diferentes normativas, tales como ticketbai, rd 1007/2023 y la normativa que regula el suministro inmediato de información “sii”, realmente está ofreciendo “un paquete o familia” de varios productos sif diferentes (aunque puede que compartan gran parte de su programación), a fin de que el cliente pueda elegir específicamente uno para instalar y usar, bajo la responsabilidad del usuario.
text | es | en cualquier caso, este ofrecimiento debe implementarse de tal forma que el usuario no pueda cambiar dinámicamente de un “producto” a otro con cada factura ni con cada sesión o arranque del producto, sino que el usuario deberá elegir previamente qué tipo de sif quiere utilizar y lo instalará –o actualizará– para que cumpla con esas características, que ya permanecerán así en adelante (a menos que se desinstale).
text | es | en todo caso, será el usuario último del sif, quien será responsable de seleccionar la modalidad de su software que corresponda con la normativa que se le aplica.
text | es | si el caso es que el usuario ha decidido, por ejemplo, darse de alta voluntaria en el sii, a partir de ese momento, a todos los efectos relativos a su facturación propia, no quedan afectados por el r.
text | es | 1007/2023 y el programa que utilicen deberán cumplir genéricamente con las obligaciones que se señalan en el artículo 29.2.j) de la ley 58/2003, de 17 de diciembre, general tributaria (lgt).
text | es | respecto a la conservación de los registros de facturación (rfs) si se trata de un sif que actúe en la modalidad veri*factu, no es obligatoria la conservación de los registros de facturación (rfs), dado que estos habrán sido remitidos en el momento de la expedición de las facturas, a la sede electrónica.
text | es | en los demás casos, rigen las normas de conservación documental habituales en materia fiscal, es decir, con carácter general, la prescripción fiscal (cuatro años posteriores a la fecha de devengo), pero, en determinados supuestos, plazos más largos.
text | es | si fuese a la inversa, igualmente, deben cumplir con la normativa que corresponda.
text | es | lo que queremos dejar claro con esto, es que se trata de normativas diferentes con obligaciones diferenciadas.
text | es | el sii consiste en la llevanza de los libros registro de iva (facturas emitidas, facturas recibidas, bienes de inversión…) a través de la sede electrónica de la agencia tributaria, lo que implica obligaciones de comunicación electrónica a la agencia tributaria de una amplia información relacionada con el iva de las facturas emitidas y recibidas en un determinado plazo de tiempo.
text | es | por su parte, el reglamento que establece los requisitos de los sistemas informáticos de facturación obliga a que los sif registren, con determinadas medidas de seguridad y control, cierta información solo de las facturas expedidas, pudiendo remitirse opcionalmente a la agencia tributaria.
text | es | el ámbito subjetivo de ambos proyectos es excluyente, es decir, quienes cumplan con el sii no han de cumplir con el reglamento que establece los requisitos de los sistemas informáticos de facturación y viceversa.
text | es | respecto a la consulta del encadenamiento, el sif utilizado sería una nueva instalación por lo que debería comenzar un nuevo encadenamiento.
text | es | atentamente,
atención al usuario
departamento de informática tributaria
email: verifactu@correo.aeat.es
` con saber que ha sido enviado para no volver a enviarlo valdría y ya está en el módulo l10n_es_aeat saludos,
ignacio .
text | es | > con saber que ha sido enviado para no volver a enviarlo valdría y ya está en el módulo l10n_es_aeat genial, gracias @acysos .
Detalles: total_items: 44 | code_items: 0 | spanish_items: 44 | english_items: 0
recomposed_text: @haraldpanten @pedrobaeza @etobella @jordibforgeflow . bueno, yo lo veo más sencillo en esos casos: tienes instalados los dos módulos, pero activas sii o verifactu y ya está. es que otro tipo de compatibilidad no es posible, porque hay campos muy específicos de cada tipo. por ejemplo, el qr o el encadenamiento de verifactu, no tienen sentido en la capa superior de abstracción, al igual que el csv del sii. > bueno, yo lo veo más sencillo en esos casos: tienes instalados los dos módulos, pero activas sii o verifactu y ya está. es que otro tipo de compatibilidad no es posible, porque hay campos muy específicos de cada tipo. por ejemplo, el qr o el encadenamiento de verifactu, no tienen sentido en la capa superior de abstracción, al igual que el csv del sii. sería la idea, pero hay campos que son compartidos y eso es posible que cree "inconsistencias". por otro lado, podría pasar que una compañía utilice un sistema y otra compañia (sistema multicompañía) utilice el otro.... no se si sería ideal realizar una mayor separación. abro este punto, ya que como se acercan las jornadas podría ser un punto a realizar (en caso de tener que realizarse algo). hasta donde sé, la activación es por compañía, por lo que no es problema. si ves incompatibilidad de campos, sería listarlos y empezar a resolverlos (que básicamente sería poner nombres distintos), pero no creo que haya tantos. > hasta donde sé, la activación es por compañía, por lo que no es problema. si ves incompatibilidad de campos, sería listarlos y empezar a resolverlos (que básicamente sería poner nombres distintos), pero no creo que haya tantos. por nuestra parte sin problemas, entonces nos lo apuntaremos para el codesprint cara sonriendo con ojos sonrientes . hola @valentinvinagre a priori son compatibles, y se configuran por compañía, si pasa de un sistema a otro habría que marcar/desmarcar los checks de la compañía pero no necesariamente desinstalar los módulos con lo que no habría inconsistencias de datos, eso ya se planteo en el anterior codesprint. digo a priori por que puede que haya algun método que se llame igual y habría que revisarlo. > hola [@valentinvinagre](https://github.com/valentinvinagre) a priori son compatibles, y se configuran por compañía, si pasa de un sistema a otro habría que marcar/desmarcar los checks de la compañía pero no necesariamente desinstalar los módulos con lo que no habría inconsistencias de datos, eso ya se planteo en el anterior codesprint. digo a priori por que puede que haya algun método que se llame igual y habría que revisarlo. no estoy del todo de acuerdo, según la migración de 16-17 del sii ya vimos cosas compartidas, etc. igual no me he expresado correctamente, quería decir que la idea era hacerlo así, puede que haya algo compartido cara sonriendo con ojos sonrientes . valentín, ¿tienes un listado de esos campos conflictivos que comentas? . > valentín, ¿tienes un listado de esos campos conflictivos que comentas? actualmente no tengo una lista, la idea es poner el tema encima de la mesa y plantear la situación. no busco realizar una acción correctiva actualmente, nuestra idea si nos ponemos es en los spanish oca days. vale, pues en los spanish oca days alguien puede dedicarse a detectar esos posibles conflictos y atajarlos antes de que fusionemos para que no haya luego que renombrar campos y demás. perdón por mi ignorancia, pero se sabe cuándo y por donde estará listo el módulo de verifactu ? . respuesta de aeat: `buenos días: primero, debe recordarse que un sif adaptado al rd 1007/2023 (tanto actuando en la modalidad veri*factu como en la no veri*factu) solo puede usarse cumpliendo con todos los requisitos de dicho rd 1007/2023 que le aplican a él (para lo que, entre otras cosas, es necesario tener instalado un certificado electrónico cualificado válido). cuando un productor o fabricante –mientras se den las circunstancias que permitan esto– ofrece al cliente un sistema de facturación para que pueda ser usado de forma adaptada al rrsif o sin adaptar a dicha normativa, o bien para que cumpla con diferentes normativas, tales como ticketbai, rd 1007/2023 y la normativa que regula el suministro inmediato de información “sii”, realmente está ofreciendo “un paquete o familia” de varios productos sif diferentes (aunque puede que compartan gran parte de su programación), a fin de que el cliente pueda elegir específicamente uno para instalar y usar, bajo la responsabilidad del usuario. en cualquier caso, este ofrecimiento debe implementarse de tal forma que el usuario no pueda cambiar dinámicamente de un “producto” a otro con cada factura ni con cada sesión o arranque del producto, sino que el usuario deberá elegir previamente qué tipo de sif quiere utilizar y lo instalará –o actualizará– para que cumpla con esas características, que ya permanecerán así en adelante (a menos que se desinstale). en todo caso, será el usuario último del sif, quien será responsable de seleccionar la modalidad de su software que corresponda con la normativa que se le aplica. si el caso es que el usuario ha decidido, por ejemplo, darse de alta voluntaria en el sii, a partir de ese momento, a todos los efectos relativos a su facturación propia, no quedan afectados por el r. 1007/2023 y el programa que utilicen deberán cumplir genéricamente con las obligaciones que se señalan en el artículo 29.2.j) de la ley 58/2003, de 17 de diciembre, general tributaria (lgt). respecto a la conservación de los registros de facturación (rfs) si se trata de un sif que actúe en la modalidad veri*factu, no es obligatoria la conservación de los registros de facturación (rfs), dado que estos habrán sido remitidos en el momento de la expedición de las facturas, a la sede electrónica. en los demás casos, rigen las normas de conservación documental habituales en materia fiscal, es decir, con carácter general, la prescripción fiscal (cuatro años posteriores a la fecha de devengo), pero, en determinados supuestos, plazos más largos. si fuese a la inversa, igualmente, deben cumplir con la normativa que corresponda. lo que queremos dejar claro con esto, es que se trata de normativas diferentes con obligaciones diferenciadas. el sii consiste en la llevanza de los libros registro de iva (facturas emitidas, facturas recibidas, bienes de inversión…) a través de la sede electrónica de la agencia tributaria, lo que implica obligaciones de comunicación electrónica a la agencia tributaria de una amplia información relacionada con el iva de las facturas emitidas y recibidas en un determinado plazo de tiempo. por su parte, el reglamento que establece los requisitos de los sistemas informáticos de facturación obliga a que los sif registren, con determinadas medidas de seguridad y control, cierta información solo de las facturas expedidas, pudiendo remitirse opcionalmente a la agencia tributaria. el ámbito subjetivo de ambos proyectos es excluyente, es decir, quienes cumplan con el sii no han de cumplir con el reglamento que establece los requisitos de los sistemas informáticos de facturación y viceversa. respecto a la consulta del encadenamiento, el sif utilizado sería una nueva instalación por lo que debería comenzar un nuevo encadenamiento. atentamente,
atención al usuario
departamento de informática tributaria
email: verifactu@correo.aeat.es
` con saber que ha sido enviado para no volver a enviarlo valdría y ya está en el módulo l10n_es_aeat saludos,
ignacio . > con saber que ha sido enviado para no volver a enviarlo valdría y ya está en el módulo l10n_es_aeat genial, gracias @acysos .

# Entrada procesada 2026-02-09T14:14:24.660165 UTC
code | code | https://github.com/oca/l10n-spain/issues/4024
perdon no vi que ya estaba reportado este bug.
code | code | .
text | es | revisa que utilizas el formato de exportación último y que tienes todo el código actualizado y tu bd actualizados los módulos.
code | code | .
text | es | ok gracias sin problemas , hare antes una copia de esta maquina en el proxmox.
Detalles: total_items: 5 | code_items: 3 | spanish_items: 2 | english_items: 0
Dato borrado: code | code | https://github.com/oca/l10n-spain/issues/4024
perdon no vi que ya estaba reportado este bug.
Dato borrado: code | code | .
Dato borrado: code | code | .
recomposed_text: revisa que utilizas el formato de exportación último y que tienes todo el código actualizado y tu bd actualizados los módulos. ok gracias sin problemas , hare antes una copia de esta maquina en el proxmox.
__Recursividad__
text | es | revisa que utilizas el formato de exportación último y que tienes todo el código actualizado y tu bd actualizados los módulos.
text | es | ok gracias sin problemas , hare antes una copia de esta maquina en el proxmox.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: revisa que utilizas el formato de exportación último y que tienes todo el código actualizado y tu bd actualizados los módulos. ok gracias sin problemas , hare antes una copia de esta maquina en el proxmox.

# Entrada procesada 2026-02-09T14:14:24.677580 UTC
text | es | esto se ha discutido anteriormente por issues o en los prs de `l10n_es_pos`.
text | es | haz una búsqueda para echar un vistazo.
text | es | básicamente, es utilizar `pos_default_partner` o desarrollar una extensión `l10n_es_vat_book_pos`.
code | code | .
text | es | gracias pedro.
text | es | no tenía constancia.
text | es | de acuerdo, optaremos entonces por la extensión del vatbook para que no requiera el partner en los asientos de caja.
code | code | .
code | code | aqui esta:
- [l10n_es_vat_book_pos] https://github.com/oca/l10n-spain/pull/4104
Detalles: total_items: 9 | code_items: 3 | spanish_items: 6 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | aqui esta:
- [l10n_es_vat_book_pos] https://github.com/oca/l10n-spain/pull/4104
recomposed_text: esto se ha discutido anteriormente por issues o en los prs de `l10n_es_pos`. haz una búsqueda para echar un vistazo. básicamente, es utilizar `pos_default_partner` o desarrollar una extensión `l10n_es_vat_book_pos`. gracias pedro. no tenía constancia. de acuerdo, optaremos entonces por la extensión del vatbook para que no requiera el partner en los asientos de caja.
__Recursividad__
text | es | esto se ha discutido anteriormente por issues o en los prs de `l10n_es_pos`.
text | es | haz una búsqueda para echar un vistazo.
text | es | básicamente, es utilizar `pos_default_partner` o desarrollar una extensión `l10n_es_vat_book_pos`.
text | es | gracias pedro.
text | es | no tenía constancia.
text | es | de acuerdo, optaremos entonces por la extensión del vatbook para que no requiera el partner en los asientos de caja.
Detalles: total_items: 6 | code_items: 0 | spanish_items: 6 | english_items: 0
recomposed_text: esto se ha discutido anteriormente por issues o en los prs de `l10n_es_pos`. haz una búsqueda para echar un vistazo. básicamente, es utilizar `pos_default_partner` o desarrollar una extensión `l10n_es_vat_book_pos`. gracias pedro. no tenía constancia. de acuerdo, optaremos entonces por la extensión del vatbook para que no requiera el partner en los asientos de caja.

# Entrada procesada 2026-02-09T14:14:24.741915 UTC
text | es | ping @aaronhforgeflow @jordibforgeflow @etobella @valentinvinagre @acysos @rubencr7 @fuentes73 .
text | es | a ver, esto es complicado.
text | es | la verdad es que lo primero seria pensar si necesitamos seguir usando los certificados como ficheros y que ventaja nos da eso.
text | es | si alguien accede al servidor, al final lo tiene todo, con lo que tenerlo en como fichero no nos da más seguridad a no ser que tengamos la bbdd desacoplada del servidor de odoo.
text | es | por lo tanto, yo creo que podemos usar el sistema de odoo directamente ya que no hay una ventaja directa.
text | es | de todas formas, estaría bien ver otras opiniones, por que tal vez se me escapa algo de por que se hizo así en su día.
code | code | .
text | es | haciendo una revisión en diagonal, veo luces y sombras:
luces: - nos ha pasado que ciertos clientes tienen "intranquilidad" en traspasar certificados electrónicos y contraseñas...
text | es | así que sería una opción para que el propio usuario lo pueda gestionar y no necesite al implantador(hasta cierto punto).
text | es | - si odoo proporciona un sistema parecido o compatible, lo ideal es utilizarlo, menos que mantener.
text | es | sombras: - ¿que dirección tomará odoo con esto?
text | es | - ¿la exportación propia de odoo puede dar información del certificado? ¿
text | es | está protegido?
text | es | - elimina la opción de poder tener el certificado externamente ¿sería posible realizar la ampliación?
text | es | si se hace...
text | es | ¿vale la pena?
text | es | en conclusión no me parece mal ir por el camino de odoo, pero haría una ampliación para poder optar también a la utilización del certificado como hasta ahora.
text | es | ¿como lo veis? .
text | es | odoo usa los certificados para el mismo propósito que se usa en la localización, por ejemplo en su módulo de facturae lo usa, así que sí creo que es un "feature" que está solapado con el módulo del l10n_es_aeat.
code | code | sin embargo el módulo certificate es bastante nuevo y creo que le van a hacer cambios puesto que a mi modo de ver presenta algunas vulnerabilidades: * la contraseña para desencriptar el fichero .pfx o p12 se guarda directamente en la tabla certificate_certificate: ![image](https://github.com/user-attachments/assets/39589d2b-330c-440c-882e-367830b4aef6) * el contenido del fichero .pem extraído se guarda directamente en la tabla del ir_attachment: ![image](https://github.com/user-attachments/assets/e7a1e311-94f7-42d6-a0db-0e6cdfde14f6) creo que aunque son funcionalidades que se solapan esperaría a que odoo las hiciera más estable.
text | es | podríamos hacer el esfuerzo de mejorar la seguridad ahora para que luego odoo lo arregle en la siguiente versión.
text | es | yo en el pr de migración ya he quitado el commit que hacía la migración al nuevo modelo.
code | code | .
text | es | > odoo usa los certificados para el mismo propósito que se usa en la localización, por ejemplo en su módulo de facturae lo usa, así que sí creo que es un "feature" que está solapado con el módulo del l10n_es_aeat.
code | code | sin embargo el módulo certificate es bastante nuevo y creo que le van a hacer cambios puesto que a mi modo de ver presenta algunas vulnerabilidades:
> > * la contraseña para desencriptar el fichero .pfx o p12 se guarda directamente en la tabla certificate_certificate:
> > ![image](https://github.com/user-attachments/assets/39589d2b-330c-440c-882e-367830b4aef6)
> > * el contenido del fichero .pem extraído se guarda directamente en la tabla del ir_attachment:
> > ![image](https://github.com/user-attachments/assets/e7a1e311-94f7-42d6-a0db-0e6cdfde14f6)
> > creo que aunque son funcionalidades que se solapan esperaría a que odoo las hiciera más estable.
text | es | podríamos hacer el esfuerzo de mejorar la seguridad ahora para que luego odoo lo arregle en la siguiente versión.
text | es | > > yo en el pr de migración ya he quitado el commit que hacía la migración al nuevo modelo.
text | es | ¿y si se valora para v19 a ver que cambios realizan?
text | es | yo por el momento mantendría el de oca como está.
code | code | .
text | es | para mí lo ideal seria:
1) guardar el contenido fichero .p12 en una variable de entorno en el servidor
2) guardar el password asociado en un lugar seguro, que puede ser uno de los siguientes: a) variable de entorno, también en el servidor b) en un servicio externo como google kms, aws secrets manager, hashicorp vault...
text | es | que limitan quién puede acceder a estas claves (por ejemplo, aplicando restricción por ip) por lo que entiendo ahora la arquitectura del modulo l10n_es_aeat guarda la clave privada en la base de datos, de modo que esa clave acaba estando en todos los backups de la base de datos y acaban replicandose en entornos de staging con facilidad.
code | code | .
text | es | creo que estas dos ventajas que señalaba @valentinvinagre son importantes: > * nos ha pasado que ciertos clientes tienen "intranquilidad" en traspasar certificados electrónicos y contraseñas...
text | es | así que sería una opción para que el propio usuario lo pueda gestionar y no necesite al implantador(hasta cierto punto).
text | es | > * si odoo proporciona un sistema parecido o compatible, lo ideal es utilizarlo, menos que mantener.
text | es | sobre el primer punto, pensad que para que un usuario mande la contraseña del certificado a su implantador, tiene que usar un canal adicional, que perfectamente puede ser un vector de ataque adicional.
text | es | pero sin contar con ese, básicamente existen 3 vectores de ataque.
text | es | comparemos: | sistema antiguo de oca | sistema nuevo de odoo
-- | -- | --
**acceso elevado a odoo** | vulnerable.
text | und | | vulnerable.
text | es | **acceso elevado a postgres** | seguro, ya que no hay datos.
text | es | | seguro, salvo que también consigas acceso al filestore.
text | es | **acceso elevado al filestore** | vulnerable.
text | es | | seguro, salvo que también consigas acceso a posgres.
text | es | así pues, antes estábamos poniendo toda la seguridad en el filestore.
text | es | ahora, una parte se almacena en postgres y otra en el filestore.
text | es | **a mi modo de ver, estamos incrementando la seguridad** puesto que un atacante necesitará vulnerar 2 accesos diferentes para desbloquear el certificado.
text | es | por supuesto, un acceso elevado a odoo es vulnerable en todos los sentidos y siempre lo será, por diseño, porque:
- odoo necesita desbloquear la clave.
text | es | por tanto, de un modo u otro, necesita tener la contraseña.
text | es | - un usuario con privilegios puede escribir una acción de servidor y hacer lo que quiera.
text | es | más contexto a considerar:
- el almacenamiento en texto plano de contraseñas en odoo ya se hace en otros sitios, como los servidores de correo entrante/saliente.
text | es | - oca puede crear módulos que mejoren la seguridad de `certificate` mediante almacenar la contraseña en otro backend, ya sea el filestore, vault, bitwarden, etc.
text | es | esa mejora sería transparente a lo que haga `l10n_es` o similares, ya que actuaría a otro nivel.
text | es | por lo tanto, para mí **lo mejor que podemos hacer es adoptar `certificate`**.
code | code | @moduon mt-9954 .
text | es | los que trabajaron en la migración de la localización los spanish oca days no estaban convencidos del cambio, así que por el momento se ha dejado como estaba.
text | es | se puede evaluar en la siguiente versión, o en medio de ésta con scripts de migración, aunque implicaría un cambio de dependencias.
Detalles: total_items: 57 | code_items: 7 | spanish_items: 49 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | sin embargo el módulo certificate es bastante nuevo y creo que le van a hacer cambios puesto que a mi modo de ver presenta algunas vulnerabilidades: * la contraseña para desencriptar el fichero .pfx o p12 se guarda directamente en la tabla certificate_certificate: ![image](https://github.com/user-attachments/assets/39589d2b-330c-440c-882e-367830b4aef6) * el contenido del fichero .pem extraído se guarda directamente en la tabla del ir_attachment: ![image](https://github.com/user-attachments/assets/e7a1e311-94f7-42d6-a0db-0e6cdfde14f6) creo que aunque son funcionalidades que se solapan esperaría a que odoo las hiciera más estable.
Dato borrado: code | code | .
Dato borrado: code | code | sin embargo el módulo certificate es bastante nuevo y creo que le van a hacer cambios puesto que a mi modo de ver presenta algunas vulnerabilidades:
> > * la contraseña para desencriptar el fichero .pfx o p12 se guarda directamente en la tabla certificate_certificate:
> > ![image](https://github.com/user-attachments/assets/39589d2b-330c-440c-882e-367830b4aef6)
> > * el contenido del fichero .pem extraído se guarda directamente en la tabla del ir_attachment:
> > ![image](https://github.com/user-attachments/assets/e7a1e311-94f7-42d6-a0db-0e6cdfde14f6)
> > creo que aunque son funcionalidades que se solapan esperaría a que odoo las hiciera más estable.
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | @moduon mt-9954 .
recomposed_text: ping @aaronhforgeflow @jordibforgeflow @etobella @valentinvinagre @acysos @rubencr7 @fuentes73 . a ver, esto es complicado. la verdad es que lo primero seria pensar si necesitamos seguir usando los certificados como ficheros y que ventaja nos da eso. si alguien accede al servidor, al final lo tiene todo, con lo que tenerlo en como fichero no nos da más seguridad a no ser que tengamos la bbdd desacoplada del servidor de odoo. por lo tanto, yo creo que podemos usar el sistema de odoo directamente ya que no hay una ventaja directa. de todas formas, estaría bien ver otras opiniones, por que tal vez se me escapa algo de por que se hizo así en su día. haciendo una revisión en diagonal, veo luces y sombras:
luces: - nos ha pasado que ciertos clientes tienen "intranquilidad" en traspasar certificados electrónicos y contraseñas... así que sería una opción para que el propio usuario lo pueda gestionar y no necesite al implantador(hasta cierto punto). - si odoo proporciona un sistema parecido o compatible, lo ideal es utilizarlo, menos que mantener. sombras: - ¿que dirección tomará odoo con esto? - ¿la exportación propia de odoo puede dar información del certificado? ¿ está protegido? - elimina la opción de poder tener el certificado externamente ¿sería posible realizar la ampliación? si se hace... ¿vale la pena? en conclusión no me parece mal ir por el camino de odoo, pero haría una ampliación para poder optar también a la utilización del certificado como hasta ahora. ¿como lo veis? . odoo usa los certificados para el mismo propósito que se usa en la localización, por ejemplo en su módulo de facturae lo usa, así que sí creo que es un "feature" que está solapado con el módulo del l10n_es_aeat. podríamos hacer el esfuerzo de mejorar la seguridad ahora para que luego odoo lo arregle en la siguiente versión. yo en el pr de migración ya he quitado el commit que hacía la migración al nuevo modelo. > odoo usa los certificados para el mismo propósito que se usa en la localización, por ejemplo en su módulo de facturae lo usa, así que sí creo que es un "feature" que está solapado con el módulo del l10n_es_aeat. podríamos hacer el esfuerzo de mejorar la seguridad ahora para que luego odoo lo arregle en la siguiente versión. > > yo en el pr de migración ya he quitado el commit que hacía la migración al nuevo modelo. ¿y si se valora para v19 a ver que cambios realizan? yo por el momento mantendría el de oca como está. para mí lo ideal seria:
1) guardar el contenido fichero .p12 en una variable de entorno en el servidor
2) guardar el password asociado en un lugar seguro, que puede ser uno de los siguientes: a) variable de entorno, también en el servidor b) en un servicio externo como google kms, aws secrets manager, hashicorp vault... que limitan quién puede acceder a estas claves (por ejemplo, aplicando restricción por ip) por lo que entiendo ahora la arquitectura del modulo l10n_es_aeat guarda la clave privada en la base de datos, de modo que esa clave acaba estando en todos los backups de la base de datos y acaban replicandose en entornos de staging con facilidad. creo que estas dos ventajas que señalaba @valentinvinagre son importantes: > * nos ha pasado que ciertos clientes tienen "intranquilidad" en traspasar certificados electrónicos y contraseñas... así que sería una opción para que el propio usuario lo pueda gestionar y no necesite al implantador(hasta cierto punto). > * si odoo proporciona un sistema parecido o compatible, lo ideal es utilizarlo, menos que mantener. sobre el primer punto, pensad que para que un usuario mande la contraseña del certificado a su implantador, tiene que usar un canal adicional, que perfectamente puede ser un vector de ataque adicional. pero sin contar con ese, básicamente existen 3 vectores de ataque. comparemos: | sistema antiguo de oca | sistema nuevo de odoo
-- | -- | --
**acceso elevado a odoo** | vulnerable. | vulnerable. **acceso elevado a postgres** | seguro, ya que no hay datos. | seguro, salvo que también consigas acceso al filestore. **acceso elevado al filestore** | vulnerable. | seguro, salvo que también consigas acceso a posgres. así pues, antes estábamos poniendo toda la seguridad en el filestore. ahora, una parte se almacena en postgres y otra en el filestore. **a mi modo de ver, estamos incrementando la seguridad** puesto que un atacante necesitará vulnerar 2 accesos diferentes para desbloquear el certificado. por supuesto, un acceso elevado a odoo es vulnerable en todos los sentidos y siempre lo será, por diseño, porque:
- odoo necesita desbloquear la clave. por tanto, de un modo u otro, necesita tener la contraseña. - un usuario con privilegios puede escribir una acción de servidor y hacer lo que quiera. más contexto a considerar:
- el almacenamiento en texto plano de contraseñas en odoo ya se hace en otros sitios, como los servidores de correo entrante/saliente. - oca puede crear módulos que mejoren la seguridad de `certificate` mediante almacenar la contraseña en otro backend, ya sea el filestore, vault, bitwarden, etc. esa mejora sería transparente a lo que haga `l10n_es` o similares, ya que actuaría a otro nivel. por lo tanto, para mí **lo mejor que podemos hacer es adoptar `certificate`**. los que trabajaron en la migración de la localización los spanish oca days no estaban convencidos del cambio, así que por el momento se ha dejado como estaba. se puede evaluar en la siguiente versión, o en medio de ésta con scripts de migración, aunque implicaría un cambio de dependencias.
__Recursividad__
text | es | ping @aaronhforgeflow @jordibforgeflow @etobella @valentinvinagre @acysos @rubencr7 @fuentes73 .
text | es | a ver, esto es complicado.
text | es | la verdad es que lo primero seria pensar si necesitamos seguir usando los certificados como ficheros y que ventaja nos da eso.
text | es | si alguien accede al servidor, al final lo tiene todo, con lo que tenerlo en como fichero no nos da más seguridad a no ser que tengamos la bbdd desacoplada del servidor de odoo.
text | es | por lo tanto, yo creo que podemos usar el sistema de odoo directamente ya que no hay una ventaja directa.
text | es | de todas formas, estaría bien ver otras opiniones, por que tal vez se me escapa algo de por que se hizo así en su día.
text | es | haciendo una revisión en diagonal, veo luces y sombras:
luces: - nos ha pasado que ciertos clientes tienen "intranquilidad" en traspasar certificados electrónicos y contraseñas...
text | es | así que sería una opción para que el propio usuario lo pueda gestionar y no necesite al implantador(hasta cierto punto).
text | es | - si odoo proporciona un sistema parecido o compatible, lo ideal es utilizarlo, menos que mantener.
text | es | sombras: - ¿que dirección tomará odoo con esto? - ¿
text | es | la exportación propia de odoo puede dar información del certificado? ¿
text | es | está protegido? -
text | es | elimina la opción de poder tener el certificado externamente ¿sería posible realizar la ampliación?
text | es | si se hace...
text | es | ¿vale la pena?
text | es | en conclusión no me parece mal ir por el camino de odoo, pero haría una ampliación para poder optar también a la utilización del certificado como hasta ahora.
text | es | ¿como lo veis? .
text | es | odoo usa los certificados para el mismo propósito que se usa en la localización, por ejemplo en su módulo de facturae lo usa, así que sí creo que es un "feature" que está solapado con el módulo del l10n_es_aeat.
text | es | podríamos hacer el esfuerzo de mejorar la seguridad ahora para que luego odoo lo arregle en la siguiente versión.
text | es | yo en el pr de migración ya he quitado el commit que hacía la migración al nuevo modelo.
text | es | > odoo usa los certificados para el mismo propósito que se usa en la localización, por ejemplo en su módulo de facturae lo usa, así que sí creo que es un "feature" que está solapado con el módulo del l10n_es_aeat.
text | es | podríamos hacer el esfuerzo de mejorar la seguridad ahora para que luego odoo lo arregle en la siguiente versión.
text | es | > > yo en el pr de migración ya he quitado el commit que hacía la migración al nuevo modelo.
text | es | ¿y si se valora para v19 a ver que cambios realizan?
text | es | yo por el momento mantendría el de oca como está.
text | es | para mí lo ideal seria:
1) guardar el contenido fichero .p12 en una variable de entorno en el servidor
2) guardar el password asociado en un lugar seguro, que puede ser uno de los siguientes: a) variable de entorno, también en el servidor b) en un servicio externo como google kms, aws secrets manager, hashicorp vault...
text | es | que limitan quién puede acceder a estas claves (por ejemplo, aplicando restricción por ip) por lo que entiendo ahora la arquitectura del modulo l10n_es_aeat guarda la clave privada en la base de datos, de modo que esa clave acaba estando en todos los backups de la base de datos y acaban replicandose en entornos de staging con facilidad.
text | es | creo que estas dos ventajas que señalaba @valentinvinagre son importantes: > * nos ha pasado que ciertos clientes tienen "intranquilidad" en traspasar certificados electrónicos y contraseñas...
text | es | así que sería una opción para que el propio usuario lo pueda gestionar y no necesite al implantador(hasta cierto punto).
text | es | > * si odoo proporciona un sistema parecido o compatible, lo ideal es utilizarlo, menos que mantener.
text | es | sobre el primer punto, pensad que para que un usuario mande la contraseña del certificado a su implantador, tiene que usar un canal adicional, que perfectamente puede ser un vector de ataque adicional.
text | es | pero sin contar con ese, básicamente existen 3 vectores de ataque.
text | es | comparemos: | sistema antiguo de oca | sistema nuevo de odoo
-- | -- | --
**acceso elevado a odoo** | vulnerable.
text | und | | vulnerable.
text | es | **acceso elevado a postgres** | seguro, ya que no hay datos.
text | es | | seguro, salvo que también consigas acceso al filestore.
text | es | **acceso elevado al filestore** | vulnerable.
text | es | | seguro, salvo que también consigas acceso a posgres.
text | es | así pues, antes estábamos poniendo toda la seguridad en el filestore.
text | es | ahora, una parte se almacena en postgres y otra en el filestore.
text | es | **a mi modo de ver, estamos incrementando la seguridad** puesto que un atacante necesitará vulnerar 2 accesos diferentes para desbloquear el certificado.
text | es | por supuesto, un acceso elevado a odoo es vulnerable en todos los sentidos y siempre lo será, por diseño, porque:
- odoo necesita desbloquear la clave.
text | es | por tanto, de un modo u otro, necesita tener la contraseña.
text | es | - un usuario con privilegios puede escribir una acción de servidor y hacer lo que quiera.
text | es | más contexto a considerar:
- el almacenamiento en texto plano de contraseñas en odoo ya se hace en otros sitios, como los servidores de correo entrante/saliente.
text | es | - oca puede crear módulos que mejoren la seguridad de `certificate` mediante almacenar la contraseña en otro backend, ya sea el filestore, vault, bitwarden, etc.
text | es | esa mejora sería transparente a lo que haga `l10n_es` o similares, ya que actuaría a otro nivel.
text | es | por lo tanto, para mí **lo mejor que podemos hacer es adoptar `certificate`**.
text | es | los que trabajaron en la migración de la localización los spanish oca days no estaban convencidos del cambio, así que por el momento se ha dejado como estaba.
text | es | se puede evaluar en la siguiente versión, o en medio de ésta con scripts de migración, aunque implicaría un cambio de dependencias.
Detalles: total_items: 50 | code_items: 0 | spanish_items: 49 | english_items: 0
Dato borrado: text | und | | vulnerable.
recomposed_text: ping @aaronhforgeflow @jordibforgeflow @etobella @valentinvinagre @acysos @rubencr7 @fuentes73 . a ver, esto es complicado. la verdad es que lo primero seria pensar si necesitamos seguir usando los certificados como ficheros y que ventaja nos da eso. si alguien accede al servidor, al final lo tiene todo, con lo que tenerlo en como fichero no nos da más seguridad a no ser que tengamos la bbdd desacoplada del servidor de odoo. por lo tanto, yo creo que podemos usar el sistema de odoo directamente ya que no hay una ventaja directa. de todas formas, estaría bien ver otras opiniones, por que tal vez se me escapa algo de por que se hizo así en su día. haciendo una revisión en diagonal, veo luces y sombras:
luces: - nos ha pasado que ciertos clientes tienen "intranquilidad" en traspasar certificados electrónicos y contraseñas... así que sería una opción para que el propio usuario lo pueda gestionar y no necesite al implantador(hasta cierto punto). - si odoo proporciona un sistema parecido o compatible, lo ideal es utilizarlo, menos que mantener. sombras: - ¿que dirección tomará odoo con esto? - ¿ la exportación propia de odoo puede dar información del certificado? ¿ está protegido? - elimina la opción de poder tener el certificado externamente ¿sería posible realizar la ampliación? si se hace... ¿vale la pena? en conclusión no me parece mal ir por el camino de odoo, pero haría una ampliación para poder optar también a la utilización del certificado como hasta ahora. ¿como lo veis? . odoo usa los certificados para el mismo propósito que se usa en la localización, por ejemplo en su módulo de facturae lo usa, así que sí creo que es un "feature" que está solapado con el módulo del l10n_es_aeat. podríamos hacer el esfuerzo de mejorar la seguridad ahora para que luego odoo lo arregle en la siguiente versión. yo en el pr de migración ya he quitado el commit que hacía la migración al nuevo modelo. > odoo usa los certificados para el mismo propósito que se usa en la localización, por ejemplo en su módulo de facturae lo usa, así que sí creo que es un "feature" que está solapado con el módulo del l10n_es_aeat. podríamos hacer el esfuerzo de mejorar la seguridad ahora para que luego odoo lo arregle en la siguiente versión. > > yo en el pr de migración ya he quitado el commit que hacía la migración al nuevo modelo. ¿y si se valora para v19 a ver que cambios realizan? yo por el momento mantendría el de oca como está. para mí lo ideal seria:
1) guardar el contenido fichero .p12 en una variable de entorno en el servidor
2) guardar el password asociado en un lugar seguro, que puede ser uno de los siguientes: a) variable de entorno, también en el servidor b) en un servicio externo como google kms, aws secrets manager, hashicorp vault... que limitan quién puede acceder a estas claves (por ejemplo, aplicando restricción por ip) por lo que entiendo ahora la arquitectura del modulo l10n_es_aeat guarda la clave privada en la base de datos, de modo que esa clave acaba estando en todos los backups de la base de datos y acaban replicandose en entornos de staging con facilidad. creo que estas dos ventajas que señalaba @valentinvinagre son importantes: > * nos ha pasado que ciertos clientes tienen "intranquilidad" en traspasar certificados electrónicos y contraseñas... así que sería una opción para que el propio usuario lo pueda gestionar y no necesite al implantador(hasta cierto punto). > * si odoo proporciona un sistema parecido o compatible, lo ideal es utilizarlo, menos que mantener. sobre el primer punto, pensad que para que un usuario mande la contraseña del certificado a su implantador, tiene que usar un canal adicional, que perfectamente puede ser un vector de ataque adicional. pero sin contar con ese, básicamente existen 3 vectores de ataque. comparemos: | sistema antiguo de oca | sistema nuevo de odoo
-- | -- | --
**acceso elevado a odoo** | vulnerable. **acceso elevado a postgres** | seguro, ya que no hay datos. | seguro, salvo que también consigas acceso al filestore. **acceso elevado al filestore** | vulnerable. | seguro, salvo que también consigas acceso a posgres. así pues, antes estábamos poniendo toda la seguridad en el filestore. ahora, una parte se almacena en postgres y otra en el filestore. **a mi modo de ver, estamos incrementando la seguridad** puesto que un atacante necesitará vulnerar 2 accesos diferentes para desbloquear el certificado. por supuesto, un acceso elevado a odoo es vulnerable en todos los sentidos y siempre lo será, por diseño, porque:
- odoo necesita desbloquear la clave. por tanto, de un modo u otro, necesita tener la contraseña. - un usuario con privilegios puede escribir una acción de servidor y hacer lo que quiera. más contexto a considerar:
- el almacenamiento en texto plano de contraseñas en odoo ya se hace en otros sitios, como los servidores de correo entrante/saliente. - oca puede crear módulos que mejoren la seguridad de `certificate` mediante almacenar la contraseña en otro backend, ya sea el filestore, vault, bitwarden, etc. esa mejora sería transparente a lo que haga `l10n_es` o similares, ya que actuaría a otro nivel. por lo tanto, para mí **lo mejor que podemos hacer es adoptar `certificate`**. los que trabajaron en la migración de la localización los spanish oca days no estaban convencidos del cambio, así que por el momento se ha dejado como estaba. se puede evaluar en la siguiente versión, o en medio de ésta con scripts de migración, aunque implicaría un cambio de dependencias.

# Entrada procesada 2026-02-09T14:14:24.903492 UTC
text | es | no es necesario abrir issue si se va a abrir pr, ya que es duplicar la información.
text | es | se continúa en #4095
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: no es necesario abrir issue si se va a abrir pr, ya que es duplicar la información. se continúa en #4095
__Recursividad__
text | es | no es necesario abrir issue si se va a abrir pr, ya que es duplicar la información.
text | es | se continúa en #4095
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: no es necesario abrir issue si se va a abrir pr, ya que es duplicar la información. se continúa en #4095

# Entrada procesada 2026-02-09T14:14:24.930180 UTC
text | en | can you provide more information about the error?
text | en | like the line/file/module or even the full traceback? .
text | es | esto tiene pinta de un odoo.sh con algo incorrecto con la librería openupgradelib.
text | es | en cualquier caso, no es un problema de este repo.
code | code | .
text | es | tengo este mismo issue en la v17 odoo.sh, solo veo en el log openupgrade: 'migrate' decorator: failed to inspect the frame above: 'pkg', no tengo más detalles del origen.
text | es | openupgradelib lo tengo actualizado.
text | es | alguna idea de como solventar este issue? .
text | es | creo que odoo ha hecho algo en su odoo.sh que provoca ese problema, pero claro, ya queda fuera de nuestro alcance.
text | es | pon un ticket de soporte a ellos a ver qué dicen.
text | es | sois varios con el mismo problema en cuanto usáis la librería en ese hosting.
text | es | a ver si saben deciros algo.
text | es | he revisado los últimos commits de la librería, y no hay ninguna razón para que provoquen este error.
code | code | .
text | es | > creo que odoo ha hecho algo en su odoo.sh que provoca ese problema, pero claro, ya queda fuera de nuestro alcance.
text | es | pon un ticket de soporte a ellos a ver qué dicen.
text | es | sois varios con el mismo problema en cuanto usáis la librería en ese hosting.
text | es | a ver si saben deciros algo.
text | es | he revisado los últimos commits de la librería, y no hay ninguna razón para que provoquen este error.
code | code | hola @pedrobaeza, i've opened the pr https://github.com/oca/openupgradelib/pull/410 after investigating the probelm; that seem originated by - 16.0 https://github.com/odoo/odoo/pull/202014 - 17.0 https://github.com/odoo/odoo/pull/202583 both prs move the migration logic away from its original position in a dedicated method, that has not the pkg in `locals` scope, because the caller pass to that method directly the name of module .
text | es | disculpad que parece que finalmente sí es de la librería.
text | es | gracias a @patrickt-oforce viendo la fecha del parche, no me cuadraba porque yo hice una migración sin problemas hace unos días, pero ya sé la razón: ocb no se está sincronizando desde hace una semana.
code | code | .
text | en | @pedrobaeza so, do you recommend reopening the issue?
text | en | @patrickt-oforce you are crack!! .
text | en | no, because it's already fixed.
Detalles: total_items: 26 | code_items: 4 | spanish_items: 17 | english_items: 5
Dato borrado: text | en | can you provide more information about the error?
Dato borrado: text | en | like the line/file/module or even the full traceback? .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | hola @pedrobaeza, i've opened the pr https://github.com/oca/openupgradelib/pull/410 after investigating the probelm; that seem originated by - 16.0 https://github.com/odoo/odoo/pull/202014 - 17.0 https://github.com/odoo/odoo/pull/202583 both prs move the migration logic away from its original position in a dedicated method, that has not the pkg in `locals` scope, because the caller pass to that method directly the name of module .
Dato borrado: code | code | .
Dato borrado: text | en | @pedrobaeza so, do you recommend reopening the issue?
Dato borrado: text | en | @patrickt-oforce you are crack!! .
Dato borrado: text | en | no, because it's already fixed.
recomposed_text: esto tiene pinta de un odoo.sh con algo incorrecto con la librería openupgradelib. en cualquier caso, no es un problema de este repo. tengo este mismo issue en la v17 odoo.sh, solo veo en el log openupgrade: 'migrate' decorator: failed to inspect the frame above: 'pkg', no tengo más detalles del origen. openupgradelib lo tengo actualizado. alguna idea de como solventar este issue? . creo que odoo ha hecho algo en su odoo.sh que provoca ese problema, pero claro, ya queda fuera de nuestro alcance. pon un ticket de soporte a ellos a ver qué dicen. sois varios con el mismo problema en cuanto usáis la librería en ese hosting. a ver si saben deciros algo. he revisado los últimos commits de la librería, y no hay ninguna razón para que provoquen este error. > creo que odoo ha hecho algo en su odoo.sh que provoca ese problema, pero claro, ya queda fuera de nuestro alcance. pon un ticket de soporte a ellos a ver qué dicen. sois varios con el mismo problema en cuanto usáis la librería en ese hosting. a ver si saben deciros algo. he revisado los últimos commits de la librería, y no hay ninguna razón para que provoquen este error. disculpad que parece que finalmente sí es de la librería. gracias a @patrickt-oforce viendo la fecha del parche, no me cuadraba porque yo hice una migración sin problemas hace unos días, pero ya sé la razón: ocb no se está sincronizando desde hace una semana.
__Recursividad__
text | es | esto tiene pinta de un odoo.sh con algo incorrecto con la librería openupgradelib.
text | es | en cualquier caso, no es un problema de este repo.
text | es | tengo este mismo issue en la v17 odoo.sh, solo veo en el log openupgrade: 'migrate' decorator: failed to inspect the frame above: 'pkg', no tengo más detalles del origen.
text | es | openupgradelib lo tengo actualizado.
text | es | alguna idea de como solventar este issue? .
text | es | creo que odoo ha hecho algo en su odoo.sh que provoca ese problema, pero claro, ya queda fuera de nuestro alcance.
text | es | pon un ticket de soporte a ellos a ver qué dicen.
text | es | sois varios con el mismo problema en cuanto usáis la librería en ese hosting.
text | es | a ver si saben deciros algo.
text | es | he revisado los últimos commits de la librería, y no hay ninguna razón para que provoquen este error.
text | es | > creo que odoo ha hecho algo en su odoo.sh que provoca ese problema, pero claro, ya queda fuera de nuestro alcance.
text | es | pon un ticket de soporte a ellos a ver qué dicen.
text | es | sois varios con el mismo problema en cuanto usáis la librería en ese hosting.
text | es | a ver si saben deciros algo.
text | es | he revisado los últimos commits de la librería, y no hay ninguna razón para que provoquen este error.
text | es | disculpad que parece que finalmente sí es de la librería.
text | es | gracias a @patrickt-oforce viendo la fecha del parche, no me cuadraba porque yo hice una migración sin problemas hace unos días, pero ya sé la razón: ocb no se está sincronizando desde hace una semana.
Detalles: total_items: 17 | code_items: 0 | spanish_items: 17 | english_items: 0
recomposed_text: esto tiene pinta de un odoo.sh con algo incorrecto con la librería openupgradelib. en cualquier caso, no es un problema de este repo. tengo este mismo issue en la v17 odoo.sh, solo veo en el log openupgrade: 'migrate' decorator: failed to inspect the frame above: 'pkg', no tengo más detalles del origen. openupgradelib lo tengo actualizado. alguna idea de como solventar este issue? . creo que odoo ha hecho algo en su odoo.sh que provoca ese problema, pero claro, ya queda fuera de nuestro alcance. pon un ticket de soporte a ellos a ver qué dicen. sois varios con el mismo problema en cuanto usáis la librería en ese hosting. a ver si saben deciros algo. he revisado los últimos commits de la librería, y no hay ninguna razón para que provoquen este error. > creo que odoo ha hecho algo en su odoo.sh que provoca ese problema, pero claro, ya queda fuera de nuestro alcance. pon un ticket de soporte a ellos a ver qué dicen. sois varios con el mismo problema en cuanto usáis la librería en ese hosting. a ver si saben deciros algo. he revisado los últimos commits de la librería, y no hay ninguna razón para que provoquen este error. disculpad que parece que finalmente sí es de la librería. gracias a @patrickt-oforce viendo la fecha del parche, no me cuadraba porque yo hice una migración sin problemas hace unos días, pero ya sé la razón: ocb no se está sincronizando desde hace una semana.

__Corrector Ortográfico__2026-02-09T14:14:24.930180
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:24.978648 UTC
text | es | no, esto es así a propósito, porque casi muchos no necesitan esa separación (solo los b2c), así que obligar a ello no es de recibo, y más con un módulo tan intrusivo como `partner_firstname`.
code | code | hay que leer los readme: https://github.com/oca/l10n-spain/tree/17.0/l10n_es_facturae#installation
Detalles: total_items: 2 | code_items: 1 | spanish_items: 1 | english_items: 0
Dato borrado: code | code | hay que leer los readme: https://github.com/oca/l10n-spain/tree/17.0/l10n_es_facturae#installation
recomposed_text: no, esto es así a propósito, porque casi muchos no necesitan esa separación (solo los b2c), así que obligar a ello no es de recibo, y más con un módulo tan intrusivo como `partner_firstname`.
__Recursividad__
text | es | no, esto es así a propósito, porque casi muchos no necesitan esa separación (solo los b2c), así que obligar a ello no es de recibo, y más con un módulo tan intrusivo como `partner_firstname`.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: no, esto es así a propósito, porque casi muchos no necesitan esa separación (solo los b2c), así que obligar a ello no es de recibo, y más con un módulo tan intrusivo como `partner_firstname`.

# Entrada procesada 2026-02-09T14:14:24.991571 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:25.017313 UTC
text | es | bueno, realmente es correcto que se muestre así, porque hacienda hasta donde sé es lo que pide en sus inspecciones, ya que es lo que se puede deducir.
text | es | mostrar otro dato que haga que las verificaciones cruzadas con el 303 no cuadren es lo que provocaría confusión y preguntas.
text | es | el enlace proporcionado no veo que esté relacionado, porque no es de prorrata y además habla del sii.
code | code | .
text | es | entiendo que está mencionado lo del sii, porque sii y libro de iva deberían coincidir.
text | es | de todas formas, a nosotros no nos ha aparecido la casuística.
text | es | justamente tenemos los clientes que utilizan prorrata, también están dados de alta en el sii, en nuestro caso; por lo que el libro de iva, a nivel práctico, no lo utilizan.
code | code | .
text | es | según el diseño de registro del libro de iva que se puede encontrar [aquí](https://sede.agenciatributaria.gob.es/sede/iva/libros-registro.html) y descargar desde este enlace [diseños de registro normalizados para los libros registro del iva de personas jurídicas no incluidas en sii en los formatos xls y csv (actualizado 18-12-2024)](https://sede.agenciatributaria.gob.es/static_files/aeat/lsij.xlsx): > - en "cuota deducible" se consignará el importe de la cuota del iva soportado que sea deducible para cada tipo de iva.
text | es | cuando toda la cuota soportada sea deducible, en la columna "cuota deducible" se consignará el mismo contenido que figure en la columna "cuota iva soportado".
text | es | es decir, que según el ejemplo de @rafaelbn con una prorrata del 80% configurada en la compañía entonces el valor mostrado en "cuota iva siportado" debería ser diferente al valor mostrado en "cuota deducible", concretamente un 80% en este caso.
text | es | sólo deberían coincidir cuando toda la cuota soportada sea deducible.
text | es | actualmente con los dos módulos instalados `l10n_es_vat_book` y `l10n_es_vat_prorate` el valor mostrado es idéntico en "cuota iva soportado" y "cuota deducible" dando a entender que toda la cuota soportada es deducible independientemente del valor que te hayas deducido.
text | es | también se está viendo afectado "total de factura" pues el valor reflejado es la base imponible + cuota deducible, pareciendo que el iva está mál aplicado.
text | es | ejemplo práctico de una factura de una compañia con la prorrata del iva al 80% para este período y con dos líneas de factura, una línea con un importe de 100 € y un impuesto del 21% y otra línea de 200€ con el mismo impuesto.
code | code | ![image](https://github.com/user-attachments/assets/097d527b-11ad-48d2-b0a6-792d316bccbc) - el total de la factura son 363€.
text | es | - la cuota de iva soportado es 63€, el 21% de 100€ más el 21% de 200€.
text | es | - la cuota deducible es 50,40€, el 80% de la cuota de iva soportado.
code | code | sin enmbargo el libro de iva está haciendo un cálculo incorrecto, con este ejemplo sale: ![image](https://github.com/user-attachments/assets/bc39ab8f-904d-4010-a7e2-197267f3dc69) a todas luces se ve que el cálculo es incorrecto.
text | es | ¿cuál creeís que es la solución correcta @pedrobaeza @haraldpanten @etobella? ¿
text | es | crear un módulo glue, por ejemplo, `l10n_es_vat_book_prorate` o solventarlo directamente en `l10n_es_vat_book`? .
text | es | gracias por los detalles extra, emilio.
text | es | ahora queda claro que tenemos dos columnas para la cuota y que la prorrata haría diferente cada una.
code | code | @etobella utilizó un "truco" para no necesitar un módulo extra para el sii que completé yo en https://github.com/oca/l10n-spain/pull/2598 tal vez se podría aplicar algo similar.
text | es | si no, un glue module.
code | code | .
code | code | con este pr https://github.com/oca/l10n-spain/pull/4093 debería solventarse.
code | code | .
code | code | solucionado en https://github.com/oca/l10n-spain/pull/4093
Detalles: total_items: 29 | code_items: 9 | spanish_items: 20 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | ![image](https://github.com/user-attachments/assets/097d527b-11ad-48d2-b0a6-792d316bccbc) - el total de la factura son 363€.
Dato borrado: code | code | sin enmbargo el libro de iva está haciendo un cálculo incorrecto, con este ejemplo sale: ![image](https://github.com/user-attachments/assets/bc39ab8f-904d-4010-a7e2-197267f3dc69) a todas luces se ve que el cálculo es incorrecto.
Dato borrado: code | code | @etobella utilizó un "truco" para no necesitar un módulo extra para el sii que completé yo en https://github.com/oca/l10n-spain/pull/2598 tal vez se podría aplicar algo similar.
Dato borrado: code | code | .
Dato borrado: code | code | con este pr https://github.com/oca/l10n-spain/pull/4093 debería solventarse.
Dato borrado: code | code | .
Dato borrado: code | code | solucionado en https://github.com/oca/l10n-spain/pull/4093
recomposed_text: bueno, realmente es correcto que se muestre así, porque hacienda hasta donde sé es lo que pide en sus inspecciones, ya que es lo que se puede deducir. mostrar otro dato que haga que las verificaciones cruzadas con el 303 no cuadren es lo que provocaría confusión y preguntas. el enlace proporcionado no veo que esté relacionado, porque no es de prorrata y además habla del sii. entiendo que está mencionado lo del sii, porque sii y libro de iva deberían coincidir. de todas formas, a nosotros no nos ha aparecido la casuística. justamente tenemos los clientes que utilizan prorrata, también están dados de alta en el sii, en nuestro caso; por lo que el libro de iva, a nivel práctico, no lo utilizan. según el diseño de registro del libro de iva que se puede encontrar [aquí](https://sede.agenciatributaria.gob.es/sede/iva/libros-registro.html) y descargar desde este enlace [diseños de registro normalizados para los libros registro del iva de personas jurídicas no incluidas en sii en los formatos xls y csv (actualizado 18-12-2024)](https://sede.agenciatributaria.gob.es/static_files/aeat/lsij.xlsx): > - en "cuota deducible" se consignará el importe de la cuota del iva soportado que sea deducible para cada tipo de iva. cuando toda la cuota soportada sea deducible, en la columna "cuota deducible" se consignará el mismo contenido que figure en la columna "cuota iva soportado". es decir, que según el ejemplo de @rafaelbn con una prorrata del 80% configurada en la compañía entonces el valor mostrado en "cuota iva siportado" debería ser diferente al valor mostrado en "cuota deducible", concretamente un 80% en este caso. sólo deberían coincidir cuando toda la cuota soportada sea deducible. actualmente con los dos módulos instalados `l10n_es_vat_book` y `l10n_es_vat_prorate` el valor mostrado es idéntico en "cuota iva soportado" y "cuota deducible" dando a entender que toda la cuota soportada es deducible independientemente del valor que te hayas deducido. también se está viendo afectado "total de factura" pues el valor reflejado es la base imponible + cuota deducible, pareciendo que el iva está mál aplicado. ejemplo práctico de una factura de una compañia con la prorrata del iva al 80% para este período y con dos líneas de factura, una línea con un importe de 100 € y un impuesto del 21% y otra línea de 200€ con el mismo impuesto. - la cuota de iva soportado es 63€, el 21% de 100€ más el 21% de 200€. - la cuota deducible es 50,40€, el 80% de la cuota de iva soportado. ¿cuál creeís que es la solución correcta @pedrobaeza @haraldpanten @etobella? ¿ crear un módulo glue, por ejemplo, `l10n_es_vat_book_prorate` o solventarlo directamente en `l10n_es_vat_book`? . gracias por los detalles extra, emilio. ahora queda claro que tenemos dos columnas para la cuota y que la prorrata haría diferente cada una. si no, un glue module.
__Recursividad__
text | es | bueno, realmente es correcto que se muestre así, porque hacienda hasta donde sé es lo que pide en sus inspecciones, ya que es lo que se puede deducir.
text | es | mostrar otro dato que haga que las verificaciones cruzadas con el 303 no cuadren es lo que provocaría confusión y preguntas.
text | es | el enlace proporcionado no veo que esté relacionado, porque no es de prorrata y además habla del sii.
text | es | entiendo que está mencionado lo del sii, porque sii y libro de iva deberían coincidir.
text | es | de todas formas, a nosotros no nos ha aparecido la casuística.
text | es | justamente tenemos los clientes que utilizan prorrata, también están dados de alta en el sii, en nuestro caso; por lo que el libro de iva, a nivel práctico, no lo utilizan.
text | es | según el diseño de registro del libro de iva que se puede encontrar [aquí](https://sede.agenciatributaria.gob.es/sede/iva/libros-registro.html) y descargar desde este enlace [diseños de registro normalizados para los libros registro del iva de personas jurídicas no incluidas en sii en los formatos xls y csv (actualizado 18-12-2024)](https://sede.agenciatributaria.gob.es/static_files/aeat/lsij.xlsx): > - en "cuota deducible" se consignará el importe de la cuota del iva soportado que sea deducible para cada tipo de iva.
text | es | cuando toda la cuota soportada sea deducible, en la columna "cuota deducible" se consignará el mismo contenido que figure en la columna "cuota iva soportado".
text | es | es decir, que según el ejemplo de @rafaelbn con una prorrata del 80% configurada en la compañía entonces el valor mostrado en "cuota iva siportado" debería ser diferente al valor mostrado en "cuota deducible", concretamente un 80% en este caso.
text | es | sólo deberían coincidir cuando toda la cuota soportada sea deducible.
text | es | actualmente con los dos módulos instalados `l10n_es_vat_book` y `l10n_es_vat_prorate` el valor mostrado es idéntico en "cuota iva soportado" y "cuota deducible" dando a entender que toda la cuota soportada es deducible independientemente del valor que te hayas deducido.
text | es | también se está viendo afectado "total de factura" pues el valor reflejado es la base imponible + cuota deducible, pareciendo que el iva está mál aplicado.
text | es | ejemplo práctico de una factura de una compañia con la prorrata del iva al 80% para este período y con dos líneas de factura, una línea con un importe de 100 € y un impuesto del 21% y otra línea de 200€ con el mismo impuesto.
text | es | - la cuota de iva soportado es 63€, el 21% de 100€ más el 21% de 200€.
text | es | - la cuota deducible es 50,40€, el 80% de la cuota de iva soportado.
text | es | ¿cuál creeís que es la solución correcta @pedrobaeza @haraldpanten @etobella? ¿
text | es | crear un módulo glue, por ejemplo, `l10n_es_vat_book_prorate` o solventarlo directamente en `l10n_es_vat_book`? .
text | es | gracias por los detalles extra, emilio.
text | es | ahora queda claro que tenemos dos columnas para la cuota y que la prorrata haría diferente cada una.
text | es | si no, un glue module.
Detalles: total_items: 20 | code_items: 0 | spanish_items: 20 | english_items: 0
recomposed_text: bueno, realmente es correcto que se muestre así, porque hacienda hasta donde sé es lo que pide en sus inspecciones, ya que es lo que se puede deducir. mostrar otro dato que haga que las verificaciones cruzadas con el 303 no cuadren es lo que provocaría confusión y preguntas. el enlace proporcionado no veo que esté relacionado, porque no es de prorrata y además habla del sii. entiendo que está mencionado lo del sii, porque sii y libro de iva deberían coincidir. de todas formas, a nosotros no nos ha aparecido la casuística. justamente tenemos los clientes que utilizan prorrata, también están dados de alta en el sii, en nuestro caso; por lo que el libro de iva, a nivel práctico, no lo utilizan. según el diseño de registro del libro de iva que se puede encontrar [aquí](https://sede.agenciatributaria.gob.es/sede/iva/libros-registro.html) y descargar desde este enlace [diseños de registro normalizados para los libros registro del iva de personas jurídicas no incluidas en sii en los formatos xls y csv (actualizado 18-12-2024)](https://sede.agenciatributaria.gob.es/static_files/aeat/lsij.xlsx): > - en "cuota deducible" se consignará el importe de la cuota del iva soportado que sea deducible para cada tipo de iva. cuando toda la cuota soportada sea deducible, en la columna "cuota deducible" se consignará el mismo contenido que figure en la columna "cuota iva soportado". es decir, que según el ejemplo de @rafaelbn con una prorrata del 80% configurada en la compañía entonces el valor mostrado en "cuota iva siportado" debería ser diferente al valor mostrado en "cuota deducible", concretamente un 80% en este caso. sólo deberían coincidir cuando toda la cuota soportada sea deducible. actualmente con los dos módulos instalados `l10n_es_vat_book` y `l10n_es_vat_prorate` el valor mostrado es idéntico en "cuota iva soportado" y "cuota deducible" dando a entender que toda la cuota soportada es deducible independientemente del valor que te hayas deducido. también se está viendo afectado "total de factura" pues el valor reflejado es la base imponible + cuota deducible, pareciendo que el iva está mál aplicado. ejemplo práctico de una factura de una compañia con la prorrata del iva al 80% para este período y con dos líneas de factura, una línea con un importe de 100 € y un impuesto del 21% y otra línea de 200€ con el mismo impuesto. - la cuota de iva soportado es 63€, el 21% de 100€ más el 21% de 200€. - la cuota deducible es 50,40€, el 80% de la cuota de iva soportado. ¿cuál creeís que es la solución correcta @pedrobaeza @haraldpanten @etobella? ¿ crear un módulo glue, por ejemplo, `l10n_es_vat_book_prorate` o solventarlo directamente en `l10n_es_vat_book`? . gracias por los detalles extra, emilio. ahora queda claro que tenemos dos columnas para la cuota y que la prorrata haría diferente cada una. si no, un glue module.

# Entrada procesada 2026-02-09T14:14:25.096496 UTC
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 0 | english_items: 2
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
recomposed_text:
__Recursividad__
Detalles: total_items: 0 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text:

# Entrada procesada 2026-02-09T14:14:25.101747 UTC
text | es | buenas @jmtato, esos impuestos corresponden a los de impuesto minorista, pese a que se llamen impuesto 3% en realidad no se aplica el 3%.
text | es | te adjunto un documento con más información: https://www.google.com/url?sa=t&source=web&rct=j&opi=89978449&url=https://revistas.cef.udima.es/index.php/rcyt/article/download/18473/18201/27775&ved=2ahukewijmkzc1mkjaxxevqqehxihblkqfnoecdyqaq&usg=aovvaw1b3tmfgz9pysg7dfdeo_3u .
text | es | muchísimas gracias!!
text | es | entendido y disculpa.
Detalles: total_items: 4 | code_items: 0 | spanish_items: 4 | english_items: 0
recomposed_text: buenas @jmtato, esos impuestos corresponden a los de impuesto minorista, pese a que se llamen impuesto 3% en realidad no se aplica el 3%. te adjunto un documento con más información: https://www.google.com/url?sa=t&source=web&rct=j&opi=89978449&url=https://revistas.cef.udima.es/index.php/rcyt/article/download/18473/18201/27775&ved=2ahukewijmkzc1mkjaxxevqqehxihblkqfnoecdyqaq&usg=aovvaw1b3tmfgz9pysg7dfdeo_3u . muchísimas gracias!! entendido y disculpa.
__Recursividad__
text | es | buenas @jmtato, esos impuestos corresponden a los de impuesto minorista, pese a que se llamen impuesto 3% en realidad no se aplica el 3%.
text | es | te adjunto un documento con más información: https://www.google.com/url?sa=t&source=web&rct=j&opi=89978449&url=https://revistas.cef.udima.es/index.php/rcyt/article/download/18473/18201/27775&ved=2ahukewijmkzc1mkjaxxevqqehxihblkqfnoecdyqaq&usg=aovvaw1b3tmfgz9pysg7dfdeo_3u .
text | es | muchísimas gracias!!
text | es | entendido y disculpa.
Detalles: total_items: 4 | code_items: 0 | spanish_items: 4 | english_items: 0
recomposed_text: buenas @jmtato, esos impuestos corresponden a los de impuesto minorista, pese a que se llamen impuesto 3% en realidad no se aplica el 3%. te adjunto un documento con más información: https://www.google.com/url?sa=t&source=web&rct=j&opi=89978449&url=https://revistas.cef.udima.es/index.php/rcyt/article/download/18473/18201/27775&ved=2ahukewijmkzc1mkjaxxevqqehxihblkqfnoecdyqaq&usg=aovvaw1b3tmfgz9pysg7dfdeo_3u . muchísimas gracias!! entendido y disculpa.

# Entrada procesada 2026-02-09T14:14:25.118513 UTC
text | es | rolando, no es necesario abrir un issue cuando vais a abrir el pr.
text | es | simplemente abre el pr directamente con el texto del issue.
text | es | cierro y se sigue por #4040
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: rolando, no es necesario abrir un issue cuando vais a abrir el pr. simplemente abre el pr directamente con el texto del issue. cierro y se sigue por #4040
__Recursividad__
text | es | rolando, no es necesario abrir un issue cuando vais a abrir el pr.
text | es | simplemente abre el pr directamente con el texto del issue.
text | es | cierro y se sigue por #4040
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: rolando, no es necesario abrir un issue cuando vais a abrir el pr. simplemente abre el pr directamente con el texto del issue. cierro y se sigue por #4040

# Entrada procesada 2026-02-09T14:14:25.131834 UTC
text | es | revisa los pull request en 15.0 y 16.0, que ya está corregido, y en camino la 17.0.
text | es | para versiones anteriores, podéis hacer cherry-pick.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: revisa los pull request en 15.0 y 16.0, que ya está corregido, y en camino la 17.0. para versiones anteriores, podéis hacer cherry-pick.
__Recursividad__
text | es | revisa los pull request en 15.0 y 16.0, que ya está corregido, y en camino la 17.0.
text | es | para versiones anteriores, podéis hacer cherry-pick.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: revisa los pull request en 15.0 y 16.0, que ya está corregido, y en camino la 17.0. para versiones anteriores, podéis hacer cherry-pick.

# Entrada procesada 2026-02-09T14:14:25.165358 UTC
code | code | bueno, con las de atc creamos un nuevo menú de segundo nivel "declaraciones atc": https://github.com/oca/l10n-spain/blob/16.0/l10n_es_atc/views/atc_menuitem.xml#l4, pero podemos reformularlo a tener un único menú superior y poner tres niveles: - declaraciones - aeat - modelo 303 - atc - modelo 415 .
text | es | @pedrobaeza me parece también bien, la idea es no llenar de menús el principal que puede ser al final muy poco visual.
text | es | pero también hay que tener en cuenta que el por ejemplo el 347 se llama igual en varios sitios, pero hay alguna diferencia por ejemplo en guipuzcoa se exporta diferente.
text | es | no sería aeat, aunque realmente el cálculo es el mismo, especificamente, pero si tiene una diferencia.
text | es | tal vez un así, aunque aquí no lo tengo tan claro, porque veo que muchos van a ser generales: - declaraciones - generales - modelo 347 - aeat - modelo 303 - atc - modelo 415 saludos,
ignacio .
text | es | uf, eso no me termina de convencer, porque en canarias creo que no existe 347, por lo que tenerlo en el apartado "generales" se puede entender que también les afecta, siguiendo esa misma lógica.
code | code | .
text | es | ok, pues lo dejamos como aeat los comunes, aunque tengan formato diferente de exportación, como es el caso de guipuzcoa.
text | es | - declaraciones - aeat - modelo 303 - modelo 347 - atc - modelo 415 - bizkaia/vizcaya - modelo 140 ....
code | code | .
text | es | > ok, pues lo dejamos como aeat los comunes, aunque tengan formato diferente de exportación, como es el caso de guipuzcoa.
code | code | > > * declaraciones
> > * aeat
> > * modelo 303
> * modelo 347
> * atc
> > * modelo 415
> * bizkaia/vizcaya
> > * modelo 140
> > ....
text | es | me parece una buena idea pulgar hacia arriba tono de piel claro .
text | es | ok, pues podemos hacer el cambio de 17 en adelante, ¿o queréis ir más atrás? .
text | es | yo haría 16.0, 17.0 y 18.0 (cuando se migre).
text | es | saludos,
ignacio .
text | es | ok, pues adelante quien se anime a hacerlo.
code | code | .
text | es | lo veo bien también, así sobrecargamos menos el menú.
text | es | lo único que no estoy seguro si deberíamos sacar el menu item fuera de l10n_es_aeat, en el caso de la atc no nos afecta porque heredamos directamente de l10n_es_aeat pero el motivo principal es heredar de las plantillas de mapeo y los test helpers.
text | es | toda esa funcionalidad podría ir en un módulo común a parte.
code | code | .
text | es | yo creo que debe quedarse en `l10n_es_aeat` por el momento, ya que es una base adecuada para las declaraciones (sean de la administración que sean) y no creo que surja el que algún modelo no dependa de este módulo y "vaya por libre" sin heredar el modelo base de declaración.
code | code | .
text | es | asigno yo a un programador y que mande el pr .
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
code | code | .
text | es | ya realizado.
Detalles: total_items: 29 | code_items: 8 | spanish_items: 19 | english_items: 2
Dato borrado: code | code | bueno, con las de atc creamos un nuevo menú de segundo nivel "declaraciones atc": https://github.com/oca/l10n-spain/blob/16.0/l10n_es_atc/views/atc_menuitem.xml#l4, pero podemos reformularlo a tener un único menú superior y poner tres niveles: - declaraciones - aeat - modelo 303 - atc - modelo 415 .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | > > * declaraciones
> > * aeat
> > * modelo 303
> * modelo 347
> * atc
> > * modelo 415
> * bizkaia/vizcaya
> > * modelo 140
> > ....
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Dato borrado: code | code | .
recomposed_text: @pedrobaeza me parece también bien, la idea es no llenar de menús el principal que puede ser al final muy poco visual. pero también hay que tener en cuenta que el por ejemplo el 347 se llama igual en varios sitios, pero hay alguna diferencia por ejemplo en guipuzcoa se exporta diferente. no sería aeat, aunque realmente el cálculo es el mismo, especificamente, pero si tiene una diferencia. tal vez un así, aunque aquí no lo tengo tan claro, porque veo que muchos van a ser generales: - declaraciones - generales - modelo 347 - aeat - modelo 303 - atc - modelo 415 saludos,
ignacio . uf, eso no me termina de convencer, porque en canarias creo que no existe 347, por lo que tenerlo en el apartado "generales" se puede entender que también les afecta, siguiendo esa misma lógica. ok, pues lo dejamos como aeat los comunes, aunque tengan formato diferente de exportación, como es el caso de guipuzcoa. - declaraciones - aeat - modelo 303 - modelo 347 - atc - modelo 415 - bizkaia/vizcaya - modelo 140 .... > ok, pues lo dejamos como aeat los comunes, aunque tengan formato diferente de exportación, como es el caso de guipuzcoa. me parece una buena idea pulgar hacia arriba tono de piel claro . ok, pues podemos hacer el cambio de 17 en adelante, ¿o queréis ir más atrás? . yo haría 16.0, 17.0 y 18.0 (cuando se migre). saludos,
ignacio . ok, pues adelante quien se anime a hacerlo. lo veo bien también, así sobrecargamos menos el menú. lo único que no estoy seguro si deberíamos sacar el menu item fuera de l10n_es_aeat, en el caso de la atc no nos afecta porque heredamos directamente de l10n_es_aeat pero el motivo principal es heredar de las plantillas de mapeo y los test helpers. toda esa funcionalidad podría ir en un módulo común a parte. yo creo que debe quedarse en `l10n_es_aeat` por el momento, ya que es una base adecuada para las declaraciones (sean de la administración que sean) y no creo que surja el que algún modelo no dependa de este módulo y "vaya por libre" sin heredar el modelo base de declaración. asigno yo a un programador y que mande el pr . ya realizado.
__Recursividad__
text | es | @pedrobaeza me parece también bien, la idea es no llenar de menús el principal que puede ser al final muy poco visual.
text | es | pero también hay que tener en cuenta que el por ejemplo el 347 se llama igual en varios sitios, pero hay alguna diferencia por ejemplo en guipuzcoa se exporta diferente.
text | es | no sería aeat, aunque realmente el cálculo es el mismo, especificamente, pero si tiene una diferencia.
text | es | tal vez un así, aunque aquí no lo tengo tan claro, porque veo que muchos van a ser generales: - declaraciones - generales - modelo 347 - aeat - modelo 303 - atc - modelo 415 saludos,
ignacio .
text | es | uf, eso no me termina de convencer, porque en canarias creo que no existe 347, por lo que tenerlo en el apartado "generales" se puede entender que también les afecta, siguiendo esa misma lógica.
text | es | ok, pues lo dejamos como aeat los comunes, aunque tengan formato diferente de exportación, como es el caso de guipuzcoa.
text | es | - declaraciones - aeat - modelo 303 - modelo 347 - atc - modelo 415 - bizkaia/vizcaya - modelo 140 ....
text | es | > ok, pues lo dejamos como aeat los comunes, aunque tengan formato diferente de exportación, como es el caso de guipuzcoa.
text | es | me parece una buena idea pulgar hacia arriba tono de piel claro .
text | es | ok, pues podemos hacer el cambio de 17 en adelante, ¿o queréis ir más atrás? .
text | es | yo haría 16.0, 17.0 y 18.0 (cuando se migre).
text | es | saludos,
ignacio .
text | es | ok, pues adelante quien se anime a hacerlo.
text | es | lo veo bien también, así sobrecargamos menos el menú.
text | es | lo único que no estoy seguro si deberíamos sacar el menu item fuera de l10n_es_aeat, en el caso de la atc no nos afecta porque heredamos directamente de l10n_es_aeat pero el motivo principal es heredar de las plantillas de mapeo y los test helpers.
text | es | toda esa funcionalidad podría ir en un módulo común a parte.
text | es | yo creo que debe quedarse en `l10n_es_aeat` por el momento, ya que es una base adecuada para las declaraciones (sean de la administración que sean) y no creo que surja el que algún modelo no dependa de este módulo y "vaya por libre" sin heredar el modelo base de declaración.
text | es | asigno yo a un programador y que mande el pr .
text | es | ya realizado.
Detalles: total_items: 19 | code_items: 0 | spanish_items: 19 | english_items: 0
recomposed_text: @pedrobaeza me parece también bien, la idea es no llenar de menús el principal que puede ser al final muy poco visual. pero también hay que tener en cuenta que el por ejemplo el 347 se llama igual en varios sitios, pero hay alguna diferencia por ejemplo en guipuzcoa se exporta diferente. no sería aeat, aunque realmente el cálculo es el mismo, especificamente, pero si tiene una diferencia. tal vez un así, aunque aquí no lo tengo tan claro, porque veo que muchos van a ser generales: - declaraciones - generales - modelo 347 - aeat - modelo 303 - atc - modelo 415 saludos,
ignacio . uf, eso no me termina de convencer, porque en canarias creo que no existe 347, por lo que tenerlo en el apartado "generales" se puede entender que también les afecta, siguiendo esa misma lógica. ok, pues lo dejamos como aeat los comunes, aunque tengan formato diferente de exportación, como es el caso de guipuzcoa. - declaraciones - aeat - modelo 303 - modelo 347 - atc - modelo 415 - bizkaia/vizcaya - modelo 140 .... > ok, pues lo dejamos como aeat los comunes, aunque tengan formato diferente de exportación, como es el caso de guipuzcoa. me parece una buena idea pulgar hacia arriba tono de piel claro . ok, pues podemos hacer el cambio de 17 en adelante, ¿o queréis ir más atrás? . yo haría 16.0, 17.0 y 18.0 (cuando se migre). saludos,
ignacio . ok, pues adelante quien se anime a hacerlo. lo veo bien también, así sobrecargamos menos el menú. lo único que no estoy seguro si deberíamos sacar el menu item fuera de l10n_es_aeat, en el caso de la atc no nos afecta porque heredamos directamente de l10n_es_aeat pero el motivo principal es heredar de las plantillas de mapeo y los test helpers. toda esa funcionalidad podría ir en un módulo común a parte. yo creo que debe quedarse en `l10n_es_aeat` por el momento, ya que es una base adecuada para las declaraciones (sean de la administración que sean) y no creo que surja el que algún modelo no dependa de este módulo y "vaya por libre" sin heredar el modelo base de declaración. asigno yo a un programador y que mande el pr . ya realizado.

# Entrada procesada 2026-02-09T14:14:25.265880 UTC
text | es | utiliza el impuesto no sujeto para ello.
code | code | .
text | es | gracias @pedrobaeza .
text | es | había probado esa posibilidad.
text | es | pero si uso ese impuesto que está en el mapeo del libro de iva y la casuística para una organización sin ánimo de lucro, como me indican, es que pueda aparecer en el mod347, pero que no aparezca en el libro de iva.
code | code | .
text | es | de momento no está contemplado eso, pero siempre puedes eliminar a mano el impuesto no sujeto del mapeo del libro de iva.
code | code | .
text | es | pero entonces los movimientos que literalmente sean no sujetos y que tuvieran que aparecer en el libro de iva, no aparecerán.
text | es | al quitarlo del mapeo.
code | code | .
text | es | si como asociación dices que tienes líneas sin impuestos, no creo que tengas iva no sujeto.
code | code | .
text | es | me dicen que la organización se comporta como un híbrido.
text | es | hay movimientos que si tienen su impuesto, pudiendo incluir no sujeto y a su vez movimientos que declaran por el mod347 que eran los que no entraban en el cálculo por ir el campo impuesto vacío.
code | code | .
text | es | tendréis que hacer entonces vosotros los modificación para tener todos los casos cubiertos.
code | code | .
text | es | eso me temo.
text | es | había que intentarlo.
text | es | gracias.
Detalles: total_items: 21 | code_items: 7 | spanish_items: 14 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
recomposed_text: utiliza el impuesto no sujeto para ello. gracias @pedrobaeza . había probado esa posibilidad. pero si uso ese impuesto que está en el mapeo del libro de iva y la casuística para una organización sin ánimo de lucro, como me indican, es que pueda aparecer en el mod347, pero que no aparezca en el libro de iva. de momento no está contemplado eso, pero siempre puedes eliminar a mano el impuesto no sujeto del mapeo del libro de iva. pero entonces los movimientos que literalmente sean no sujetos y que tuvieran que aparecer en el libro de iva, no aparecerán. al quitarlo del mapeo. si como asociación dices que tienes líneas sin impuestos, no creo que tengas iva no sujeto. me dicen que la organización se comporta como un híbrido. hay movimientos que si tienen su impuesto, pudiendo incluir no sujeto y a su vez movimientos que declaran por el mod347 que eran los que no entraban en el cálculo por ir el campo impuesto vacío. tendréis que hacer entonces vosotros los modificación para tener todos los casos cubiertos. eso me temo. había que intentarlo. gracias.
__Recursividad__
text | es | utiliza el impuesto no sujeto para ello.
text | es | gracias @pedrobaeza .
text | es | había probado esa posibilidad.
text | es | pero si uso ese impuesto que está en el mapeo del libro de iva y la casuística para una organización sin ánimo de lucro, como me indican, es que pueda aparecer en el mod347, pero que no aparezca en el libro de iva.
text | es | de momento no está contemplado eso, pero siempre puedes eliminar a mano el impuesto no sujeto del mapeo del libro de iva.
text | es | pero entonces los movimientos que literalmente sean no sujetos y que tuvieran que aparecer en el libro de iva, no aparecerán.
text | es | al quitarlo del mapeo.
text | es | si como asociación dices que tienes líneas sin impuestos, no creo que tengas iva no sujeto.
text | es | me dicen que la organización se comporta como un híbrido.
text | es | hay movimientos que si tienen su impuesto, pudiendo incluir no sujeto y a su vez movimientos que declaran por el mod347 que eran los que no entraban en el cálculo por ir el campo impuesto vacío.
text | es | tendréis que hacer entonces vosotros los modificación para tener todos los casos cubiertos.
text | es | eso me temo.
text | es | había que intentarlo.
text | es | gracias.
Detalles: total_items: 14 | code_items: 0 | spanish_items: 14 | english_items: 0
recomposed_text: utiliza el impuesto no sujeto para ello. gracias @pedrobaeza . había probado esa posibilidad. pero si uso ese impuesto que está en el mapeo del libro de iva y la casuística para una organización sin ánimo de lucro, como me indican, es que pueda aparecer en el mod347, pero que no aparezca en el libro de iva. de momento no está contemplado eso, pero siempre puedes eliminar a mano el impuesto no sujeto del mapeo del libro de iva. pero entonces los movimientos que literalmente sean no sujetos y que tuvieran que aparecer en el libro de iva, no aparecerán. al quitarlo del mapeo. si como asociación dices que tienes líneas sin impuestos, no creo que tengas iva no sujeto. me dicen que la organización se comporta como un híbrido. hay movimientos que si tienen su impuesto, pudiendo incluir no sujeto y a su vez movimientos que declaran por el mod347 que eran los que no entraban en el cálculo por ir el campo impuesto vacío. tendréis que hacer entonces vosotros los modificación para tener todos los casos cubiertos. eso me temo. había que intentarlo. gracias.

# Entrada procesada 2026-02-09T14:14:25.305474 UTC
text | en | this is not something of this repository, but odoo itself.
text | en | please look in odoo/odoo about that, which we already discussed with them, and it was rejected with a reasoning, not remembering if in a dedicated issue or the pull request introducing the change.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 0 | english_items: 2
Dato borrado: text | en | this is not something of this repository, but odoo itself.
Dato borrado: text | en | please look in odoo/odoo about that, which we already discussed with them, and it was rejected with a reasoning, not remembering if in a dedicated issue or the pull request introducing the change.
recomposed_text:
__Recursividad__
Detalles: total_items: 0 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text:

# Entrada procesada 2026-02-09T14:14:25.306801 UTC
text | es | se está analizando en #3996
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: se está analizando en #3996
__Recursividad__
text | es | se está analizando en #3996
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: se está analizando en #3996

# Entrada procesada 2026-02-09T14:14:25.317978 UTC
text | es | hola, esto es algo que debe arreglarse a nivel de odoo, no aquí.
text | es | sé que han hecho algunos fixes y creo que no volverá a ocurrir, pero no tengo la certeza, y cuando pasa, hay que arreglarlo manualmente.
text | es | cierro al no ser algo de este repositorio.
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: hola, esto es algo que debe arreglarse a nivel de odoo, no aquí. sé que han hecho algunos fixes y creo que no volverá a ocurrir, pero no tengo la certeza, y cuando pasa, hay que arreglarlo manualmente. cierro al no ser algo de este repositorio.
__Recursividad__
text | es | hola, esto es algo que debe arreglarse a nivel de odoo, no aquí.
text | es | sé que han hecho algunos fixes y creo que no volverá a ocurrir, pero no tengo la certeza, y cuando pasa, hay que arreglarlo manualmente.
text | es | cierro al no ser algo de este repositorio.
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: hola, esto es algo que debe arreglarse a nivel de odoo, no aquí. sé que han hecho algunos fixes y creo que no volverá a ocurrir, pero no tengo la certeza, y cuando pasa, hay que arreglarlo manualmente. cierro al no ser algo de este repositorio.

# Entrada procesada 2026-02-09T14:14:25.335091 UTC
text | es | la versión de factuae utilizada especificará eso en su formato.
text | es | cambia a otra versión que sea la de 3 decimales (si es que existe).
text | es | esto va normalizado.
code | code | .
text | es | cierro por lo comentado.
Detalles: total_items: 5 | code_items: 1 | spanish_items: 4 | english_items: 0
Dato borrado: code | code | .
recomposed_text: la versión de factuae utilizada especificará eso en su formato. cambia a otra versión que sea la de 3 decimales (si es que existe). esto va normalizado. cierro por lo comentado.
__Recursividad__
text | es | la versión de factuae utilizada especificará eso en su formato.
text | es | cambia a otra versión que sea la de 3 decimales (si es que existe).
text | es | esto va normalizado.
text | es | cierro por lo comentado.
Detalles: total_items: 4 | code_items: 0 | spanish_items: 4 | english_items: 0
recomposed_text: la versión de factuae utilizada especificará eso en su formato. cambia a otra versión que sea la de 3 decimales (si es que existe). esto va normalizado. cierro por lo comentado.

# Entrada procesada 2026-02-09T14:14:25.355235 UTC
text | es | acabo de ver que este bug ya estaba registrado aquí #3448 pero parece que no se ha aportado ninguna solución por el momento.
text | es | alguna novedad @xabispacebiker @omar7r .
text | es | buenas encuentro nuevos errores en el pos con la numeración de facturas simplificadas.
text | es | estos errores se producen cuando hay desconexión del pos.
text | es | pongo una imagen de ejemplo donde se observa que el mecanismo para asignar el numero de factura simplificada produce otros errores.
text | es | en la imagen el numero de pedido ha producido un desajuste en la correlación de la numeración.
text | es | pero en la asignación del numero de factura simplificada ha producido duplicaciones.
code | code | ![image](https://github.com/user-attachments/assets/6de1eaaf-dae0-4c4f-861d-4f385c3175cd) esto junto con el módulo ticketbai provoca facturas rechazadas que no se registran en hacienda.
text | es | otro asunto relacionado #3480 .
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Detalles: total_items: 11 | code_items: 1 | spanish_items: 8 | english_items: 2
Dato borrado: code | code | ![image](https://github.com/user-attachments/assets/6de1eaaf-dae0-4c4f-861d-4f385c3175cd) esto junto con el módulo ticketbai provoca facturas rechazadas que no se registran en hacienda.
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
recomposed_text: acabo de ver que este bug ya estaba registrado aquí #3448 pero parece que no se ha aportado ninguna solución por el momento. alguna novedad @xabispacebiker @omar7r . buenas encuentro nuevos errores en el pos con la numeración de facturas simplificadas. estos errores se producen cuando hay desconexión del pos. pongo una imagen de ejemplo donde se observa que el mecanismo para asignar el numero de factura simplificada produce otros errores. en la imagen el numero de pedido ha producido un desajuste en la correlación de la numeración. pero en la asignación del numero de factura simplificada ha producido duplicaciones. otro asunto relacionado #3480 .
__Recursividad__
text | es | acabo de ver que este bug ya estaba registrado aquí #3448 pero parece que no se ha aportado ninguna solución por el momento.
text | es | alguna novedad @xabispacebiker @omar7r .
text | es | buenas encuentro nuevos errores en el pos con la numeración de facturas simplificadas.
text | es | estos errores se producen cuando hay desconexión del pos.
text | es | pongo una imagen de ejemplo donde se observa que el mecanismo para asignar el numero de factura simplificada produce otros errores.
text | es | en la imagen el numero de pedido ha producido un desajuste en la correlación de la numeración.
text | es | pero en la asignación del numero de factura simplificada ha producido duplicaciones.
text | es | otro asunto relacionado #3480 .
Detalles: total_items: 8 | code_items: 0 | spanish_items: 8 | english_items: 0
recomposed_text: acabo de ver que este bug ya estaba registrado aquí #3448 pero parece que no se ha aportado ninguna solución por el momento. alguna novedad @xabispacebiker @omar7r . buenas encuentro nuevos errores en el pos con la numeración de facturas simplificadas. estos errores se producen cuando hay desconexión del pos. pongo una imagen de ejemplo donde se observa que el mecanismo para asignar el numero de factura simplificada produce otros errores. en la imagen el numero de pedido ha producido un desajuste en la correlación de la numeración. pero en la asignación del numero de factura simplificada ha producido duplicaciones. otro asunto relacionado #3480 .

# Entrada procesada 2026-02-09T14:14:25.391996 UTC
code | code | a tener en cuenta: https://github.com/oca/l10n-spain/pull/2371#issuecomment-1169837041 .
code | code | issues o prs relacionados: - https://github.com/oca/l10n-spain/pull/2371
- https://github.com/oca/l10n-spain/pull/3571 .
text | es | haciende bizkaia “dfb” tiene una aplicación llamada [bila](https://www.bizkaia.eus/es/bila) como herramienta para cumplir con los modelos fiscales.
text | es | esta aplicación permite importa ciertos modelos desde ficheros tal como se ha comentado en otros issues y prs aquí comentados.
text | es | yo por mi parte no tengo ningún desarrollo ni conozco ninguno a este respecto.
text | es | puestos a debatir este tema, en mi opinión se podría empezar con los modelos más habituales de iva (303 y 390) y su casuística.
text | es | en bizkaia, hacienda pide declarar el iva deducible separando compras de gastos y bienes de inversión.
code | code | ![image](https://github.com/user-attachments/assets/f7967544-c65a-4aeb-b9f0-618ae2e22c96) esto actualmente se realiza separando en diarios los diferentes grupos.
text | es | aunque luego es un poco costoso obtener de odoo la información separada en estos grupos y por tipos impositivos.
text | es | el informe de oca **"tabla de impuestos"** no permite filtrar por diario.
text | es | te tienes que ir ha los apuntes contables y allí realizar filtros, agrupaciones y calculadora en mano para sacar lo datos.
text | es | buscar una forma más optima de agilizar este proceso e incluso añadir los modelos 303 y 390 para la bfa podría ser un comienzo.
text | es | muchas gracias cara sonriendo ligeramente .
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Detalles: total_items: 15 | code_items: 3 | spanish_items: 10 | english_items: 2
Dato borrado: code | code | a tener en cuenta: https://github.com/oca/l10n-spain/pull/2371#issuecomment-1169837041 .
Dato borrado: code | code | issues o prs relacionados: - https://github.com/oca/l10n-spain/pull/2371
- https://github.com/oca/l10n-spain/pull/3571 .
Dato borrado: code | code | ![image](https://github.com/user-attachments/assets/f7967544-c65a-4aeb-b9f0-618ae2e22c96) esto actualmente se realiza separando en diarios los diferentes grupos.
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
recomposed_text: haciende bizkaia “dfb” tiene una aplicación llamada [bila](https://www.bizkaia.eus/es/bila) como herramienta para cumplir con los modelos fiscales. esta aplicación permite importa ciertos modelos desde ficheros tal como se ha comentado en otros issues y prs aquí comentados. yo por mi parte no tengo ningún desarrollo ni conozco ninguno a este respecto. puestos a debatir este tema, en mi opinión se podría empezar con los modelos más habituales de iva (303 y 390) y su casuística. en bizkaia, hacienda pide declarar el iva deducible separando compras de gastos y bienes de inversión. aunque luego es un poco costoso obtener de odoo la información separada en estos grupos y por tipos impositivos. el informe de oca **"tabla de impuestos"** no permite filtrar por diario. te tienes que ir ha los apuntes contables y allí realizar filtros, agrupaciones y calculadora en mano para sacar lo datos. buscar una forma más optima de agilizar este proceso e incluso añadir los modelos 303 y 390 para la bfa podría ser un comienzo. muchas gracias cara sonriendo ligeramente .
__Recursividad__
text | es | haciende bizkaia “dfb” tiene una aplicación llamada [bila](https://www.bizkaia.eus/es/bila) como herramienta para cumplir con los modelos fiscales.
text | es | esta aplicación permite importa ciertos modelos desde ficheros tal como se ha comentado en otros issues y prs aquí comentados.
text | es | yo por mi parte no tengo ningún desarrollo ni conozco ninguno a este respecto.
text | es | puestos a debatir este tema, en mi opinión se podría empezar con los modelos más habituales de iva (303 y 390) y su casuística.
text | es | en bizkaia, hacienda pide declarar el iva deducible separando compras de gastos y bienes de inversión.
text | es | aunque luego es un poco costoso obtener de odoo la información separada en estos grupos y por tipos impositivos.
text | es | el informe de oca **"tabla de impuestos"** no permite filtrar por diario.
text | es | te tienes que ir ha los apuntes contables y allí realizar filtros, agrupaciones y calculadora en mano para sacar lo datos.
text | es | buscar una forma más optima de agilizar este proceso e incluso añadir los modelos 303 y 390 para la bfa podría ser un comienzo.
text | es | muchas gracias cara sonriendo ligeramente .
Detalles: total_items: 10 | code_items: 0 | spanish_items: 10 | english_items: 0
recomposed_text: haciende bizkaia “dfb” tiene una aplicación llamada [bila](https://www.bizkaia.eus/es/bila) como herramienta para cumplir con los modelos fiscales. esta aplicación permite importa ciertos modelos desde ficheros tal como se ha comentado en otros issues y prs aquí comentados. yo por mi parte no tengo ningún desarrollo ni conozco ninguno a este respecto. puestos a debatir este tema, en mi opinión se podría empezar con los modelos más habituales de iva (303 y 390) y su casuística. en bizkaia, hacienda pide declarar el iva deducible separando compras de gastos y bienes de inversión. aunque luego es un poco costoso obtener de odoo la información separada en estos grupos y por tipos impositivos. el informe de oca **"tabla de impuestos"** no permite filtrar por diario. te tienes que ir ha los apuntes contables y allí realizar filtros, agrupaciones y calculadora en mano para sacar lo datos. buscar una forma más optima de agilizar este proceso e incluso añadir los modelos 303 y 390 para la bfa podría ser un comienzo. muchas gracias cara sonriendo ligeramente .

# Entrada procesada 2026-02-09T14:14:25.454716 UTC
text | es | @giarve , es correcto el bug.
text | es | te lo ratifico.
text | es | el caso es que cada uno esta usando el mismo impuesto para cosas diferentes...
code | code | si quieres lee por curiosidad https://github.com/oca/l10n-spain/issues/2945 nadie lo resuelve y mis intentos han sido baldíos cara llorando .
text | es | hola @giarve , te comento para que le expliques a los asesores, pues lamentablemente hay un impuesto para gobernar todas las exenciones y claro...
text | und | no vale.
text | es | entonces tiene que cambiar los xml-id del "impuesto comodín" para corregirlo.
text | es | existen varias exenciones del iva y lamentablemente no tenemos (en odoo 16 y anteriores) varios impuestos diferentes, sólo hay uno y otros más incorrecto y confuso que otra cosa.
text | es | lo primero que tienes que determinar es ¿cuál es el artículo de la ley del iva que necesitan?
text | es | y la respuesta que te van a decir es el artículo 20 de la ley del iva.
text | es | ## operaciones exentas de iva (sujetas pero exentas) | tipo de exención | artículo liva | casilla modelo 303 |
|------------------------------------------------------------|--------------------|------------------------------------------|
| exenciones interiores (sanidad, educación, etc.) | art.
text | es | 20 | casilla 83 (*solo en 4t o mes 12*) |
| exportaciones de bienes | art.
code | code | 21 | casilla 60 / 94 |
| operaciones asimiladas a exportaciones | art.
code | code | 22 | casilla 60 / 94 |
| servicios relacionados con exportaciones | art.
code | code | 23 | casilla 60 / 94 |
text | es | | zonas francas, depósitos aduaneros, etc.
code | code | | art.
code | code | 24 | casilla 60 / 94 |
| entregas intracomunitarias de bienes | art.
code | code | 25 | casilla 59 / 93 |
| agencias de viajes – operaciones exentas | art.
text | es | 143 | casilla 60 / 94 | --- ## operaciones no sujetas al iva (por localización u otros motivos) | tipo de no sujeción | fundamento legal | casilla modelo 303 |
|-------------------------------------------------------------|---------------------|---------------------|
| operaciones no sujetas por reglas de localización | arts.
code | code | 69-70 liva | casilla 120 |
text | es | | otras operaciones no sujetas por reglas de localización | arts.
code | code | 68-72 liva | casilla 121 | .
text | es | lo ideal aquí no sería tener un impuesto distinto por cada artículo del iva entonces?
text | es | cuál sería el problema?
text | es | compatibilidad con versiones anteriores?
text | es | el impuesto comodín este va a cubrir muchos casos, pero no siempre y no queda claro cuando **sin mirar las casillas de mapeo de impuestos**.
text | es | otra alternativa sería tener más impuestos comodines, por ejemplo, agrupar todos los que van a la casilla 60 / 94.
text | es | o se le pone un nombre largo.
text | es | lo más fácil para el usuario: que el impuesto sea autodescriptivo, es decir, 1 impuesto por cada artículo del iva.
text | es | lo más fácil para mantener, entiendo: impuesto comodín para las mismas casillas (problema: quizás en un futuro hay que desglosar si cambia la casilla y daría pie a errores?
text | es | no se las veces que ha podido pasar esto o si ha pasado) de todas formas no le veo mucha diferencia pero no soy yo el que ha estado manteniendo los impuestos así que voy a dejar que gente con más experiencia digan algo por este hilo.
code | code | .
text | es | en 17 ya hay un desglose de cada iva exento según artículo, e hice un remapeo.
code | code | revisad https://github.com/oca/l10n-spain/pull/4084/files#diff-8da58f33dfe1f2b3032205072ca8757fc48b8ca81d21fde4951d35fd5bc176eer42 parece que en la casilla 60 siguen faltando otros tipos de exento según la tabla de rafa, eso sí.
code | code | .
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Detalles: total_items: 38 | code_items: 12 | spanish_items: 23 | english_items: 2
Dato borrado: code | code | si quieres lee por curiosidad https://github.com/oca/l10n-spain/issues/2945 nadie lo resuelve y mis intentos han sido baldíos cara llorando .
Dato borrado: code | code | 21 | casilla 60 / 94 |
| operaciones asimiladas a exportaciones | art.
Dato borrado: code | code | 22 | casilla 60 / 94 |
| servicios relacionados con exportaciones | art.
Dato borrado: code | code | 23 | casilla 60 / 94 |
Dato borrado: code | code | | art.
Dato borrado: code | code | 24 | casilla 60 / 94 |
| entregas intracomunitarias de bienes | art.
Dato borrado: code | code | 25 | casilla 59 / 93 |
| agencias de viajes – operaciones exentas | art.
Dato borrado: code | code | 69-70 liva | casilla 120 |
Dato borrado: code | code | 68-72 liva | casilla 121 | .
Dato borrado: code | code | .
Dato borrado: code | code | revisad https://github.com/oca/l10n-spain/pull/4084/files#diff-8da58f33dfe1f2b3032205072ca8757fc48b8ca81d21fde4951d35fd5bc176eer42 parece que en la casilla 60 siguen faltando otros tipos de exento según la tabla de rafa, eso sí.
Dato borrado: code | code | .
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
recomposed_text: @giarve , es correcto el bug. te lo ratifico. el caso es que cada uno esta usando el mismo impuesto para cosas diferentes... hola @giarve , te comento para que le expliques a los asesores, pues lamentablemente hay un impuesto para gobernar todas las exenciones y claro... no vale. entonces tiene que cambiar los xml-id del "impuesto comodín" para corregirlo. existen varias exenciones del iva y lamentablemente no tenemos (en odoo 16 y anteriores) varios impuestos diferentes, sólo hay uno y otros más incorrecto y confuso que otra cosa. lo primero que tienes que determinar es ¿cuál es el artículo de la ley del iva que necesitan? y la respuesta que te van a decir es el artículo 20 de la ley del iva. ## operaciones exentas de iva (sujetas pero exentas) | tipo de exención | artículo liva | casilla modelo 303 |
|------------------------------------------------------------|--------------------|------------------------------------------|
| exenciones interiores (sanidad, educación, etc.) | art. 20 | casilla 83 (*solo en 4t o mes 12*) |
| exportaciones de bienes | art. | zonas francas, depósitos aduaneros, etc. 143 | casilla 60 / 94 | --- ## operaciones no sujetas al iva (por localización u otros motivos) | tipo de no sujeción | fundamento legal | casilla modelo 303 |
|-------------------------------------------------------------|---------------------|---------------------|
| operaciones no sujetas por reglas de localización | arts. | otras operaciones no sujetas por reglas de localización | arts. lo ideal aquí no sería tener un impuesto distinto por cada artículo del iva entonces? cuál sería el problema? compatibilidad con versiones anteriores? el impuesto comodín este va a cubrir muchos casos, pero no siempre y no queda claro cuando **sin mirar las casillas de mapeo de impuestos**. otra alternativa sería tener más impuestos comodines, por ejemplo, agrupar todos los que van a la casilla 60 / 94. o se le pone un nombre largo. lo más fácil para el usuario: que el impuesto sea autodescriptivo, es decir, 1 impuesto por cada artículo del iva. lo más fácil para mantener, entiendo: impuesto comodín para las mismas casillas (problema: quizás en un futuro hay que desglosar si cambia la casilla y daría pie a errores? no se las veces que ha podido pasar esto o si ha pasado) de todas formas no le veo mucha diferencia pero no soy yo el que ha estado manteniendo los impuestos así que voy a dejar que gente con más experiencia digan algo por este hilo. en 17 ya hay un desglose de cada iva exento según artículo, e hice un remapeo.
__Recursividad__
text | es | @giarve , es correcto el bug.
text | es | te lo ratifico.
text | es | el caso es que cada uno esta usando el mismo impuesto para cosas diferentes...
text | es | hola @giarve , te comento para que le expliques a los asesores, pues lamentablemente hay un impuesto para gobernar todas las exenciones y claro...
text | und | no vale.
text | es | entonces tiene que cambiar los xml-id del "impuesto comodín" para corregirlo.
text | es | existen varias exenciones del iva y lamentablemente no tenemos (en odoo 16 y anteriores) varios impuestos diferentes, sólo hay uno y otros más incorrecto y confuso que otra cosa.
text | es | lo primero que tienes que determinar es ¿cuál es el artículo de la ley del iva que necesitan?
text | es | y la respuesta que te van a decir es el artículo 20 de la ley del iva.
text | es | ## operaciones exentas de iva (sujetas pero exentas) | tipo de exención | artículo liva | casilla modelo 303 |
|------------------------------------------------------------|--------------------|------------------------------------------|
| exenciones interiores (sanidad, educación, etc.) | art.
text | es | 20 | casilla 83 (*solo en 4t o mes 12*) |
| exportaciones de bienes | art.
text | es | | zonas francas, depósitos aduaneros, etc.
text | es | 143 | casilla 60 / 94 | --- ## operaciones no sujetas al iva (por localización u otros motivos) | tipo de no sujeción | fundamento legal | casilla modelo 303 |
|-------------------------------------------------------------|---------------------|---------------------|
| operaciones no sujetas por reglas de localización | arts.
text | es | | otras operaciones no sujetas por reglas de localización | arts.
text | es | lo ideal aquí no sería tener un impuesto distinto por cada artículo del iva entonces?
text | es | cuál sería el problema?
text | es | compatibilidad con versiones anteriores?
text | es | el impuesto comodín este va a cubrir muchos casos, pero no siempre y no queda claro cuando **sin mirar las casillas de mapeo de impuestos**.
text | es | otra alternativa sería tener más impuestos comodines, por ejemplo, agrupar todos los que van a la casilla 60 / 94.
text | es | o se le pone un nombre largo.
text | es | lo más fácil para el usuario: que el impuesto sea autodescriptivo, es decir, 1 impuesto por cada artículo del iva.
text | es | lo más fácil para mantener, entiendo: impuesto comodín para las mismas casillas (problema: quizás en un futuro hay que desglosar si cambia la casilla y daría pie a errores?
text | es | no se las veces que ha podido pasar esto o si ha pasado) de todas formas no le veo mucha diferencia pero no soy yo el que ha estado manteniendo los impuestos así que voy a dejar que gente con más experiencia digan algo por este hilo.
text | es | en 17 ya hay un desglose de cada iva exento según artículo, e hice un remapeo.
Detalles: total_items: 24 | code_items: 0 | spanish_items: 23 | english_items: 0
Dato borrado: text | und | no vale.
recomposed_text: @giarve , es correcto el bug. te lo ratifico. el caso es que cada uno esta usando el mismo impuesto para cosas diferentes... hola @giarve , te comento para que le expliques a los asesores, pues lamentablemente hay un impuesto para gobernar todas las exenciones y claro... entonces tiene que cambiar los xml-id del "impuesto comodín" para corregirlo. existen varias exenciones del iva y lamentablemente no tenemos (en odoo 16 y anteriores) varios impuestos diferentes, sólo hay uno y otros más incorrecto y confuso que otra cosa. lo primero que tienes que determinar es ¿cuál es el artículo de la ley del iva que necesitan? y la respuesta que te van a decir es el artículo 20 de la ley del iva. ## operaciones exentas de iva (sujetas pero exentas) | tipo de exención | artículo liva | casilla modelo 303 |
|------------------------------------------------------------|--------------------|------------------------------------------|
| exenciones interiores (sanidad, educación, etc.) | art. 20 | casilla 83 (*solo en 4t o mes 12*) |
| exportaciones de bienes | art. | zonas francas, depósitos aduaneros, etc. 143 | casilla 60 / 94 | --- ## operaciones no sujetas al iva (por localización u otros motivos) | tipo de no sujeción | fundamento legal | casilla modelo 303 |
|-------------------------------------------------------------|---------------------|---------------------|
| operaciones no sujetas por reglas de localización | arts. | otras operaciones no sujetas por reglas de localización | arts. lo ideal aquí no sería tener un impuesto distinto por cada artículo del iva entonces? cuál sería el problema? compatibilidad con versiones anteriores? el impuesto comodín este va a cubrir muchos casos, pero no siempre y no queda claro cuando **sin mirar las casillas de mapeo de impuestos**. otra alternativa sería tener más impuestos comodines, por ejemplo, agrupar todos los que van a la casilla 60 / 94. o se le pone un nombre largo. lo más fácil para el usuario: que el impuesto sea autodescriptivo, es decir, 1 impuesto por cada artículo del iva. lo más fácil para mantener, entiendo: impuesto comodín para las mismas casillas (problema: quizás en un futuro hay que desglosar si cambia la casilla y daría pie a errores? no se las veces que ha podido pasar esto o si ha pasado) de todas formas no le veo mucha diferencia pero no soy yo el que ha estado manteniendo los impuestos así que voy a dejar que gente con más experiencia digan algo por este hilo. en 17 ya hay un desglose de cada iva exento según artículo, e hice un remapeo.

# Entrada procesada 2026-02-09T14:14:25.533600 UTC
text | es | hola, nosotros llevamos ya unos meses trabajando con el módulo de ticketbai contra la hacienda de bizkaia sin problemas, y el qr se genera en el momento de firmar la factura para enviarla al lroe.
text | es | sin embargo desde la actualización a odoo18 falla y sabemos que está dando muchos problemas.
text | es | odoo por ahora no está dando respuestas.
code | code | .
text | es | a mi con la versión odoo17, tenia problemas para generar el codigo qr, aunque si que subían bien las facturas (esto puedes chequear en la web de hacienda de gipuzkoa [https://egoitza.gipuzkoa.eus/was/corp/wattramiteakweb/inicio.do]) y gracias a la comunidad de oca aeodoo.
text | es | el link de la consulta es el siguiente:
[https://www.aeodoo.org/en/forum/localizacion-espanola-3/tbai-error-al-generar-el-codigo-qr-1960])
lo solucioné instalando:
pip install reportlab
sudo apt-get install libcairo2 .
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Detalles: total_items: 8 | code_items: 1 | spanish_items: 5 | english_items: 2
Dato borrado: code | code | .
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
recomposed_text: hola, nosotros llevamos ya unos meses trabajando con el módulo de ticketbai contra la hacienda de bizkaia sin problemas, y el qr se genera en el momento de firmar la factura para enviarla al lroe. sin embargo desde la actualización a odoo18 falla y sabemos que está dando muchos problemas. odoo por ahora no está dando respuestas. a mi con la versión odoo17, tenia problemas para generar el codigo qr, aunque si que subían bien las facturas (esto puedes chequear en la web de hacienda de gipuzkoa [https://egoitza.gipuzkoa.eus/was/corp/wattramiteakweb/inicio.do]) y gracias a la comunidad de oca aeodoo. el link de la consulta es el siguiente:
[https://www.aeodoo.org/en/forum/localizacion-espanola-3/tbai-error-al-generar-el-codigo-qr-1960])
lo solucioné instalando:
pip install reportlab
sudo apt-get install libcairo2 .
__Recursividad__
text | es | hola, nosotros llevamos ya unos meses trabajando con el módulo de ticketbai contra la hacienda de bizkaia sin problemas, y el qr se genera en el momento de firmar la factura para enviarla al lroe.
text | es | sin embargo desde la actualización a odoo18 falla y sabemos que está dando muchos problemas.
text | es | odoo por ahora no está dando respuestas.
text | es | a mi con la versión odoo17, tenia problemas para generar el codigo qr, aunque si que subían bien las facturas (esto puedes chequear en la web de hacienda de gipuzkoa [https://egoitza.gipuzkoa.eus/was/corp/wattramiteakweb/inicio.do]) y gracias a la comunidad de oca aeodoo.
text | es | el link de la consulta es el siguiente:
[https://www.aeodoo.org/en/forum/localizacion-espanola-3/tbai-error-al-generar-el-codigo-qr-1960])
lo solucioné instalando:
pip install reportlab
sudo apt-get install libcairo2 .
Detalles: total_items: 5 | code_items: 0 | spanish_items: 5 | english_items: 0
recomposed_text: hola, nosotros llevamos ya unos meses trabajando con el módulo de ticketbai contra la hacienda de bizkaia sin problemas, y el qr se genera en el momento de firmar la factura para enviarla al lroe. sin embargo desde la actualización a odoo18 falla y sabemos que está dando muchos problemas. odoo por ahora no está dando respuestas. a mi con la versión odoo17, tenia problemas para generar el codigo qr, aunque si que subían bien las facturas (esto puedes chequear en la web de hacienda de gipuzkoa [https://egoitza.gipuzkoa.eus/was/corp/wattramiteakweb/inicio.do]) y gracias a la comunidad de oca aeodoo. el link de la consulta es el siguiente:
[https://www.aeodoo.org/en/forum/localizacion-espanola-3/tbai-error-al-generar-el-codigo-qr-1960])
lo solucioné instalando:
pip install reportlab
sudo apt-get install libcairo2 .

# Entrada procesada 2026-02-09T14:14:25.561402 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:25.562750 UTC
text | es | hola, efectivamente no está cubierto.
code | code | he anotado la falta para que conste en https://github.com/oca/l10n-spain/commit/5c46443507ba3da27ae3e1158894df1a651312e8, pero a no ser que contribuyáis vosotros con esa mejora, no está previsto incluirlo, así que cierro.
Detalles: total_items: 2 | code_items: 1 | spanish_items: 1 | english_items: 0
Dato borrado: code | code | he anotado la falta para que conste en https://github.com/oca/l10n-spain/commit/5c46443507ba3da27ae3e1158894df1a651312e8, pero a no ser que contribuyáis vosotros con esa mejora, no está previsto incluirlo, así que cierro.
recomposed_text: hola, efectivamente no está cubierto.
__Recursividad__
text | es | hola, efectivamente no está cubierto.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: hola, efectivamente no está cubierto.

# Entrada procesada 2026-02-09T14:14:25.570750 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:25.585790 UTC
code | code | ¿qué opción es ésa de "por lotes"? yo lo subo desde el botón "importar" y no he tenido problemas: ![image](https://github.com/user-attachments/assets/bd9b5510-505a-4e62-9e3b-98357de3c301) .
text | es | sucede lo mismo para versión 16.0.
text | es | la presentación de pagos por lotes es un servicio que permite enviar declaraciones correspondientes al mismo modelo, ejercicio y perodo de forma conjunta y automática: https://sede.agenciatributaria.gob.es/sede/ayuda/manuales-videos-folletos/videos/presentacion-declaraciones-lotes.html lo curioso es que si subes los mismos archivos por separado aeat se lo traga, pero por lotes da el error: >ctroleof - no se deben presentar declaraciones con carácter de fin de línea o de carro no hay ninguna especificación técnica, ni nada en el diseño de registro del modelo 111 que indique que se tiene que generar de manera diferente el archivo de exportación.
code | code | de todas formas por el error que da, tiene pinta que el error está aquí https://github.com/oca/l10n-spain/blob/16.0/l10n_es_aeat_mod111/data/aeat_export_mod111_data.xml#l720 .
text | es | emilio, prueba a quitar eso a ver si funciona.
text | es | se que por ejemplo en navarra es al revés: que algunos modelos, sin lf+cr, no funcionan.
code | code | .
text | es | > sucede lo mismo para versión 16.0.
text | es | > > la presentación de pagos por lotes es un servicio que permite enviar declaraciones correspondientes al mismo modelo, ejercicio y perodo de forma conjunta y automática: https://sede.agenciatributaria.gob.es/sede/ayuda/manuales-videos-folletos/videos/presentacion-declaraciones-lotes.html
> > lo curioso es que si subes los mismos archivos por separado aeat se lo traga, pero por lotes da el error:
> > > ctroleof - no se deben presentar declaraciones con carácter de fin de línea o de carro
> > no hay ninguna especificación técnica, ni nada en el diseño de registro del modelo 111 que indique que se tiene que generar de manera diferente el archivo de exportación.
code | code | > > de todas formas por el error que da, tiene pinta que el error está aquí https://github.com/oca/l10n-spain/blob/16.0/l10n_es_aeat_mod111/data/aeat_export_mod111_data.xml#l720 ------
hola buenos días.
text | es | comentaros que cuando vas a validad el 303 al importar el archivo también da error.
text | es | os lo pongo por si sirve de ayuda.
text | es | vosotros sabéis más ahora mismo de las especificaciones.
code | code | ![image](https://github.com/user-attachments/assets/5cfebef9-c107-4d94-a133-982907dc2a61) y este son los errores del archivo que se ha subido ![image](https://github.com/user-attachments/assets/68ca0238-28a8-4916-bdc3-caafa309eeb2) el archivo es la exportacion que realiza odoo en el modelo 303 vuestro .
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Detalles: total_items: 16 | code_items: 5 | spanish_items: 9 | english_items: 2
Dato borrado: code | code | ¿qué opción es ésa de "por lotes"? yo lo subo desde el botón "importar" y no he tenido problemas: ![image](https://github.com/user-attachments/assets/bd9b5510-505a-4e62-9e3b-98357de3c301) .
Dato borrado: code | code | de todas formas por el error que da, tiene pinta que el error está aquí https://github.com/oca/l10n-spain/blob/16.0/l10n_es_aeat_mod111/data/aeat_export_mod111_data.xml#l720 .
Dato borrado: code | code | .
Dato borrado: code | code | > > de todas formas por el error que da, tiene pinta que el error está aquí https://github.com/oca/l10n-spain/blob/16.0/l10n_es_aeat_mod111/data/aeat_export_mod111_data.xml#l720 ------
hola buenos días.
Dato borrado: code | code | ![image](https://github.com/user-attachments/assets/5cfebef9-c107-4d94-a133-982907dc2a61) y este son los errores del archivo que se ha subido ![image](https://github.com/user-attachments/assets/68ca0238-28a8-4916-bdc3-caafa309eeb2) el archivo es la exportacion que realiza odoo en el modelo 303 vuestro .
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
recomposed_text: sucede lo mismo para versión 16.0. la presentación de pagos por lotes es un servicio que permite enviar declaraciones correspondientes al mismo modelo, ejercicio y perodo de forma conjunta y automática: https://sede.agenciatributaria.gob.es/sede/ayuda/manuales-videos-folletos/videos/presentacion-declaraciones-lotes.html lo curioso es que si subes los mismos archivos por separado aeat se lo traga, pero por lotes da el error: >ctroleof - no se deben presentar declaraciones con carácter de fin de línea o de carro no hay ninguna especificación técnica, ni nada en el diseño de registro del modelo 111 que indique que se tiene que generar de manera diferente el archivo de exportación. emilio, prueba a quitar eso a ver si funciona. se que por ejemplo en navarra es al revés: que algunos modelos, sin lf+cr, no funcionan. > sucede lo mismo para versión 16.0. > > la presentación de pagos por lotes es un servicio que permite enviar declaraciones correspondientes al mismo modelo, ejercicio y perodo de forma conjunta y automática: https://sede.agenciatributaria.gob.es/sede/ayuda/manuales-videos-folletos/videos/presentacion-declaraciones-lotes.html
> > lo curioso es que si subes los mismos archivos por separado aeat se lo traga, pero por lotes da el error:
> > > ctroleof - no se deben presentar declaraciones con carácter de fin de línea o de carro
> > no hay ninguna especificación técnica, ni nada en el diseño de registro del modelo 111 que indique que se tiene que generar de manera diferente el archivo de exportación. comentaros que cuando vas a validad el 303 al importar el archivo también da error. os lo pongo por si sirve de ayuda. vosotros sabéis más ahora mismo de las especificaciones.
__Recursividad__
text | es | sucede lo mismo para versión 16.0.
text | es | la presentación de pagos por lotes es un servicio que permite enviar declaraciones correspondientes al mismo modelo, ejercicio y perodo de forma conjunta y automática: https://sede.agenciatributaria.gob.es/sede/ayuda/manuales-videos-folletos/videos/presentacion-declaraciones-lotes.html lo curioso es que si subes los mismos archivos por separado aeat se lo traga, pero por lotes da el error: >ctroleof - no se deben presentar declaraciones con carácter de fin de línea o de carro no hay ninguna especificación técnica, ni nada en el diseño de registro del modelo 111 que indique que se tiene que generar de manera diferente el archivo de exportación.
text | es | emilio, prueba a quitar eso a ver si funciona.
text | es | se que por ejemplo en navarra es al revés: que algunos modelos, sin lf+cr, no funcionan.
text | es | > sucede lo mismo para versión 16.0.
text | es | > > la presentación de pagos por lotes es un servicio que permite enviar declaraciones correspondientes al mismo modelo, ejercicio y perodo de forma conjunta y automática: https://sede.agenciatributaria.gob.es/sede/ayuda/manuales-videos-folletos/videos/presentacion-declaraciones-lotes.html
> > lo curioso es que si subes los mismos archivos por separado aeat se lo traga, pero por lotes da el error:
> > > ctroleof - no se deben presentar declaraciones con carácter de fin de línea o de carro
> > no hay ninguna especificación técnica, ni nada en el diseño de registro del modelo 111 que indique que se tiene que generar de manera diferente el archivo de exportación.
text | es | comentaros que cuando vas a validad el 303 al importar el archivo también da error.
text | es | os lo pongo por si sirve de ayuda.
text | es | vosotros sabéis más ahora mismo de las especificaciones.
Detalles: total_items: 9 | code_items: 0 | spanish_items: 9 | english_items: 0
recomposed_text: sucede lo mismo para versión 16.0. la presentación de pagos por lotes es un servicio que permite enviar declaraciones correspondientes al mismo modelo, ejercicio y perodo de forma conjunta y automática: https://sede.agenciatributaria.gob.es/sede/ayuda/manuales-videos-folletos/videos/presentacion-declaraciones-lotes.html lo curioso es que si subes los mismos archivos por separado aeat se lo traga, pero por lotes da el error: >ctroleof - no se deben presentar declaraciones con carácter de fin de línea o de carro no hay ninguna especificación técnica, ni nada en el diseño de registro del modelo 111 que indique que se tiene que generar de manera diferente el archivo de exportación. emilio, prueba a quitar eso a ver si funciona. se que por ejemplo en navarra es al revés: que algunos modelos, sin lf+cr, no funcionan. > sucede lo mismo para versión 16.0. > > la presentación de pagos por lotes es un servicio que permite enviar declaraciones correspondientes al mismo modelo, ejercicio y perodo de forma conjunta y automática: https://sede.agenciatributaria.gob.es/sede/ayuda/manuales-videos-folletos/videos/presentacion-declaraciones-lotes.html
> > lo curioso es que si subes los mismos archivos por separado aeat se lo traga, pero por lotes da el error:
> > > ctroleof - no se deben presentar declaraciones con carácter de fin de línea o de carro
> > no hay ninguna especificación técnica, ni nada en el diseño de registro del modelo 111 que indique que se tiene que generar de manera diferente el archivo de exportación. comentaros que cuando vas a validad el 303 al importar el archivo también da error. os lo pongo por si sirve de ayuda. vosotros sabéis más ahora mismo de las especificaciones.

# Entrada procesada 2026-02-09T14:14:25.632811 UTC
text | es | hola, esa captura que enseñas no corresponde al módulo de oca.
text | es | debe ser de los informes enterprise, y por tanto, tendrías que reportarlo a odoo s.
text | es | a., no aquí, o empezar a utilizar el 349 de oca.
code | code | .
text | es | hola.
text | es | simplemente comentar que hemos cambiado de los módulos de enterprise a los de la oca, gracias a tu respuesta.
text | es | este error y otro comentado sobre la inclusión de operadores intracomunitarios en el modelo, que no lo eran, funcionan perfectamente aquí.
text | es | saludos.
Detalles: total_items: 8 | code_items: 1 | spanish_items: 7 | english_items: 0
Dato borrado: code | code | .
recomposed_text: hola, esa captura que enseñas no corresponde al módulo de oca. debe ser de los informes enterprise, y por tanto, tendrías que reportarlo a odoo s. a., no aquí, o empezar a utilizar el 349 de oca. hola. simplemente comentar que hemos cambiado de los módulos de enterprise a los de la oca, gracias a tu respuesta. este error y otro comentado sobre la inclusión de operadores intracomunitarios en el modelo, que no lo eran, funcionan perfectamente aquí. saludos.
__Recursividad__
text | es | hola, esa captura que enseñas no corresponde al módulo de oca.
text | es | debe ser de los informes enterprise, y por tanto, tendrías que reportarlo a odoo s.
text | es | a., no aquí, o empezar a utilizar el 349 de oca.
text | es | hola.
text | es | simplemente comentar que hemos cambiado de los módulos de enterprise a los de la oca, gracias a tu respuesta.
text | es | este error y otro comentado sobre la inclusión de operadores intracomunitarios en el modelo, que no lo eran, funcionan perfectamente aquí.
text | es | saludos.
Detalles: total_items: 7 | code_items: 0 | spanish_items: 7 | english_items: 0
recomposed_text: hola, esa captura que enseñas no corresponde al módulo de oca. debe ser de los informes enterprise, y por tanto, tendrías que reportarlo a odoo s. a., no aquí, o empezar a utilizar el 349 de oca. hola. simplemente comentar que hemos cambiado de los módulos de enterprise a los de la oca, gracias a tu respuesta. este error y otro comentado sobre la inclusión de operadores intracomunitarios en el modelo, que no lo eran, funcionan perfectamente aquí. saludos.

# Entrada procesada 2026-02-09T14:14:25.653762 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:25.655526 UTC
code | code | hola, comente sobre este problema directamente en el pr que hizo el cambio: https://github.com/oca/l10n-spain/pull/3936#issuecomment-2624046335 un saludo.
code | code | .
text | es | liberada versión en #3936
Detalles: total_items: 3 | code_items: 2 | spanish_items: 1 | english_items: 0
Dato borrado: code | code | hola, comente sobre este problema directamente en el pr que hizo el cambio: https://github.com/oca/l10n-spain/pull/3936#issuecomment-2624046335 un saludo.
Dato borrado: code | code | .
recomposed_text: liberada versión en #3936
__Recursividad__
text | es | liberada versión en #3936
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: liberada versión en #3936

# Entrada procesada 2026-02-09T14:14:25.664995 UTC
text | und | @pedrobaeza .
text | es | duplicado de #3636 por favor no es necesario que me hagas ping.
text | es | recibo igual las notificaciones.
Detalles: total_items: 3 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: @pedrobaeza . duplicado de #3636 por favor no es necesario que me hagas ping. recibo igual las notificaciones.
__Recursividad__
text | und | @pedrobaeza .
text | es | duplicado de #3636 por favor no es necesario que me hagas ping.
text | es | recibo igual las notificaciones.
Detalles: total_items: 3 | code_items: 0 | spanish_items: 2 | english_items: 0
Dato borrado: text | und | @pedrobaeza .
recomposed_text: duplicado de #3636 por favor no es necesario que me hagas ping. recibo igual las notificaciones.

# Entrada procesada 2026-02-09T14:14:25.690997 UTC
text | es | hola de nuevo, he vuelto a probar en una instalación limpia de v14 y sucede lo mismo, el botón de validar se pone en verde una vez que añades el pago pero al clicar simplemente no hace nada.
text | es | he probado en odoo18 que soporta nativamente ticketbai y el pos adaptado para ticketbai funciona según lo esperado, al clicar el botóin validar sin especificar cliente alguno se genera la factura simplificada con el tbai y qrcode.
text | es | a ver si alguien nos puede aclarar qué estamos haciendo mal.
text | es | gracias! .
text | es | una vez probado también con v12 se obtiene el mismo comportamiento.
text | es | con las herramientas de desarrollador activadas en el navegador se obtiene un error del tipo typeerror: cannot read properties of undefined (reading 'importkey') --> en v12 o del tipo typeerror: na.subtle --> en v14 buscando información por diferentes posts parece que las librerias utilizadas (crypto, requests_pkcs12,.)
text | es | requieren un entorno de acceso seguro, es decir, hay que acceder por https.
text | es | una vez configurado un reverse proxy con https, los errores una desaparecido y el botón de validar ya funciona correctamente generando una factura simplificada cuando no se selecciona cliente con el tbai y qrcode.
text | es | quizás a alguien más le pase y este post le sea de utilidad.
text | es | gracias!
Detalles: total_items: 10 | code_items: 0 | spanish_items: 10 | english_items: 0
recomposed_text: hola de nuevo, he vuelto a probar en una instalación limpia de v14 y sucede lo mismo, el botón de validar se pone en verde una vez que añades el pago pero al clicar simplemente no hace nada. he probado en odoo18 que soporta nativamente ticketbai y el pos adaptado para ticketbai funciona según lo esperado, al clicar el botóin validar sin especificar cliente alguno se genera la factura simplificada con el tbai y qrcode. a ver si alguien nos puede aclarar qué estamos haciendo mal. gracias! . una vez probado también con v12 se obtiene el mismo comportamiento. con las herramientas de desarrollador activadas en el navegador se obtiene un error del tipo typeerror: cannot read properties of undefined (reading 'importkey') --> en v12 o del tipo typeerror: na.subtle --> en v14 buscando información por diferentes posts parece que las librerias utilizadas (crypto, requests_pkcs12,.) requieren un entorno de acceso seguro, es decir, hay que acceder por https. una vez configurado un reverse proxy con https, los errores una desaparecido y el botón de validar ya funciona correctamente generando una factura simplificada cuando no se selecciona cliente con el tbai y qrcode. quizás a alguien más le pase y este post le sea de utilidad. gracias!
__Recursividad__
text | es | hola de nuevo, he vuelto a probar en una instalación limpia de v14 y sucede lo mismo, el botón de validar se pone en verde una vez que añades el pago pero al clicar simplemente no hace nada.
text | es | he probado en odoo18 que soporta nativamente ticketbai y el pos adaptado para ticketbai funciona según lo esperado, al clicar el botóin validar sin especificar cliente alguno se genera la factura simplificada con el tbai y qrcode.
text | es | a ver si alguien nos puede aclarar qué estamos haciendo mal.
text | es | gracias! .
text | es | una vez probado también con v12 se obtiene el mismo comportamiento.
text | es | con las herramientas de desarrollador activadas en el navegador se obtiene un error del tipo typeerror: cannot read properties of undefined (reading 'importkey') --> en v12 o del tipo typeerror: na.subtle --> en v14 buscando información por diferentes posts parece que las librerias utilizadas (crypto, requests_pkcs12,.)
text | es | requieren un entorno de acceso seguro, es decir, hay que acceder por https.
text | es | una vez configurado un reverse proxy con https, los errores una desaparecido y el botón de validar ya funciona correctamente generando una factura simplificada cuando no se selecciona cliente con el tbai y qrcode.
text | es | quizás a alguien más le pase y este post le sea de utilidad.
text | es | gracias!
Detalles: total_items: 10 | code_items: 0 | spanish_items: 10 | english_items: 0
recomposed_text: hola de nuevo, he vuelto a probar en una instalación limpia de v14 y sucede lo mismo, el botón de validar se pone en verde una vez que añades el pago pero al clicar simplemente no hace nada. he probado en odoo18 que soporta nativamente ticketbai y el pos adaptado para ticketbai funciona según lo esperado, al clicar el botóin validar sin especificar cliente alguno se genera la factura simplificada con el tbai y qrcode. a ver si alguien nos puede aclarar qué estamos haciendo mal. gracias! . una vez probado también con v12 se obtiene el mismo comportamiento. con las herramientas de desarrollador activadas en el navegador se obtiene un error del tipo typeerror: cannot read properties of undefined (reading 'importkey') --> en v12 o del tipo typeerror: na.subtle --> en v14 buscando información por diferentes posts parece que las librerias utilizadas (crypto, requests_pkcs12,.) requieren un entorno de acceso seguro, es decir, hay que acceder por https. una vez configurado un reverse proxy con https, los errores una desaparecido y el botón de validar ya funciona correctamente generando una factura simplificada cuando no se selecciona cliente con el tbai y qrcode. quizás a alguien más le pase y este post le sea de utilidad. gracias!

# Entrada procesada 2026-02-09T14:14:25.734544 UTC
text | es | sí, confirmo que no es correcto como está ahora mismo.
code | code | .
text | es | @christian-rb necesitas ayuda con la parte de los scripts de migración?
text | es | al final habrá dos currazos: 1- simplificar el código 2- aplicar scripts para arreglar los datos de la gente que lo tienen mal por culpa de esto.
code | code | .
text | es | buenas @etobella ahora mismo estoy con el punto 1 casi terminando.
text | es | sería de gran ayuda si alguien crea los scripts para el remapeo de los xml_ids.
text | es | si necesitan alguna referencia estoy reutilizando los mismos que en 16.0.
code | code | .
text | es | cuando esté todo lo reviso y os doy una ayuda con eso .
text | es | cambios necesarios realizados
Detalles: total_items: 11 | code_items: 3 | spanish_items: 8 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
recomposed_text: sí, confirmo que no es correcto como está ahora mismo. @christian-rb necesitas ayuda con la parte de los scripts de migración? al final habrá dos currazos: 1- simplificar el código 2- aplicar scripts para arreglar los datos de la gente que lo tienen mal por culpa de esto. buenas @etobella ahora mismo estoy con el punto 1 casi terminando. sería de gran ayuda si alguien crea los scripts para el remapeo de los xml_ids. si necesitan alguna referencia estoy reutilizando los mismos que en 16.0. cuando esté todo lo reviso y os doy una ayuda con eso . cambios necesarios realizados
__Recursividad__
text | es | sí, confirmo que no es correcto como está ahora mismo.
text | es | @christian-rb necesitas ayuda con la parte de los scripts de migración?
text | es | al final habrá dos currazos: 1- simplificar el código 2- aplicar scripts para arreglar los datos de la gente que lo tienen mal por culpa de esto.
text | es | buenas @etobella ahora mismo estoy con el punto 1 casi terminando.
text | es | sería de gran ayuda si alguien crea los scripts para el remapeo de los xml_ids.
text | es | si necesitan alguna referencia estoy reutilizando los mismos que en 16.0.
text | es | cuando esté todo lo reviso y os doy una ayuda con eso .
text | es | cambios necesarios realizados
Detalles: total_items: 8 | code_items: 0 | spanish_items: 8 | english_items: 0
recomposed_text: sí, confirmo que no es correcto como está ahora mismo. @christian-rb necesitas ayuda con la parte de los scripts de migración? al final habrá dos currazos: 1- simplificar el código 2- aplicar scripts para arreglar los datos de la gente que lo tienen mal por culpa de esto. buenas @etobella ahora mismo estoy con el punto 1 casi terminando. sería de gran ayuda si alguien crea los scripts para el remapeo de los xml_ids. si necesitan alguna referencia estoy reutilizando los mismos que en 16.0. cuando esté todo lo reviso y os doy una ayuda con eso . cambios necesarios realizados

# Entrada procesada 2026-02-09T14:14:25.765549 UTC
code | code | hola, la clave del 349 se calcula en base a los impuestos, no a la posición fiscal: https://github.com/oca/l10n-spain/blob/0e62d8ab8ceb93c4acf441b2b83fdf60a90cebfb/l10n_es_aeat_mod349/models/account_move.py#l47-l59 por lo que el comportamiento que describes no es lo que ocurre.
text | es | revisa que cada factura tiene los impuestos adecuados.
text | es | cierro al no ser correcta la aseveración y no existir ese error.
code | code | .
text | es | hola.
text | es | entonces, al incluir o no según el impuesto, ¿tiene alguna lógica que incluya el "21% g" en el 349?
text | es | en el caso de otros clientes que no son particulares en estados miembros, pero no figuran en el registro de operadores intracomunitarios, se debe incluir el iva en la factura y ellos tienen que deducirlo/reclamarlo porque están exentos.
text | es | sin embargo, no pueden figurar en el 349 porque no están en el registro de operadores.
text | es | no veo ningún iva 21% específico para ventas intracomunitarias que pudiera ser excluido del 349, junto con el cliente.
text | es | ¿qué estoy haciendo mal? .
text | es | es que cualquier impuesto que no sean los intracomunitarios se excluyen por defecto del 349, sin hacer nada.
code | code | aquí están los únicos impuestos que se incluyen (los códigos son los xml-ids): https://github.com/oca/l10n-spain/blob/0e62d8ab8ceb93c4acf441b2b83fdf60a90cebfb/l10n_es_aeat_mod349/data/aeat.349.map.line.csv
Detalles: total_items: 12 | code_items: 3 | spanish_items: 9 | english_items: 0
Dato borrado: code | code | hola, la clave del 349 se calcula en base a los impuestos, no a la posición fiscal: https://github.com/oca/l10n-spain/blob/0e62d8ab8ceb93c4acf441b2b83fdf60a90cebfb/l10n_es_aeat_mod349/models/account_move.py#l47-l59 por lo que el comportamiento que describes no es lo que ocurre.
Dato borrado: code | code | .
Dato borrado: code | code | aquí están los únicos impuestos que se incluyen (los códigos son los xml-ids): https://github.com/oca/l10n-spain/blob/0e62d8ab8ceb93c4acf441b2b83fdf60a90cebfb/l10n_es_aeat_mod349/data/aeat.349.map.line.csv
recomposed_text: revisa que cada factura tiene los impuestos adecuados. cierro al no ser correcta la aseveración y no existir ese error. hola. entonces, al incluir o no según el impuesto, ¿tiene alguna lógica que incluya el "21% g" en el 349? en el caso de otros clientes que no son particulares en estados miembros, pero no figuran en el registro de operadores intracomunitarios, se debe incluir el iva en la factura y ellos tienen que deducirlo/reclamarlo porque están exentos. sin embargo, no pueden figurar en el 349 porque no están en el registro de operadores. no veo ningún iva 21% específico para ventas intracomunitarias que pudiera ser excluido del 349, junto con el cliente. ¿qué estoy haciendo mal? . es que cualquier impuesto que no sean los intracomunitarios se excluyen por defecto del 349, sin hacer nada.
__Recursividad__
text | es | revisa que cada factura tiene los impuestos adecuados.
text | es | cierro al no ser correcta la aseveración y no existir ese error.
text | es | hola.
text | es | entonces, al incluir o no según el impuesto, ¿tiene alguna lógica que incluya el "21% g" en el 349?
text | es | en el caso de otros clientes que no son particulares en estados miembros, pero no figuran en el registro de operadores intracomunitarios, se debe incluir el iva en la factura y ellos tienen que deducirlo/reclamarlo porque están exentos.
text | es | sin embargo, no pueden figurar en el 349 porque no están en el registro de operadores.
text | es | no veo ningún iva 21% específico para ventas intracomunitarias que pudiera ser excluido del 349, junto con el cliente.
text | es | ¿qué estoy haciendo mal? .
text | es | es que cualquier impuesto que no sean los intracomunitarios se excluyen por defecto del 349, sin hacer nada.
Detalles: total_items: 9 | code_items: 0 | spanish_items: 9 | english_items: 0
recomposed_text: revisa que cada factura tiene los impuestos adecuados. cierro al no ser correcta la aseveración y no existir ese error. hola. entonces, al incluir o no según el impuesto, ¿tiene alguna lógica que incluya el "21% g" en el 349? en el caso de otros clientes que no son particulares en estados miembros, pero no figuran en el registro de operadores intracomunitarios, se debe incluir el iva en la factura y ellos tienen que deducirlo/reclamarlo porque están exentos. sin embargo, no pueden figurar en el 349 porque no están en el registro de operadores. no veo ningún iva 21% específico para ventas intracomunitarias que pudiera ser excluido del 349, junto con el cliente. ¿qué estoy haciendo mal? . es que cualquier impuesto que no sean los intracomunitarios se excluyen por defecto del 349, sin hacer nada.

# Entrada procesada 2026-02-09T14:14:25.809804 UTC
text | es | hasta donde sé, el asiento de regularización no tiene que ver con lo que compensas o no.
text | es | es el resultado de tu ejercicio.
text | es | luego, se tendrá que hacer un asiento extra que mueva parte de los saldos entre la 470 y la 4751 según esa operación.
text | es | hacerlo todo en un mismo asiento, no sé si sería lo correcto.
text | es | la información podría estar según las casillas, desde luego.
text | es | @albertcabedo es correcto hacerlo todo de un golpe? .
code | code | hola @pedrobaeza no sé a que te refieres con lo del asiento de regularización exactamente el problema que presenta aquí @emiliopascual es que cuando te sale un trimestre a pagar iva pero tenemos una cantidad a compensar que utilizamos para pagar menos a hacienda, esa cantidad, contablemente, tiene que quitarla de la cuenta 470xxx porque si no es así, esa cuenta quedará descuadrada el modelo 303 lo hace bien trasladando esa cantidad a la casilla 110 pero no genera bien el asiento porque no la descuenta de la cuenta 470xxx si veis en el video, cuando solo compensamos lo resta de esa cuenta pero cuando compensamos una parte y pagamos otra, lleva el total a la cuenta 475xxx, cuando debe llevar cada parte a su cuenta correspondiente resumen contable del vídeo ![captura desde 2024-12-19 12-38-27](https://github.com/user-attachments/assets/044bd1a1-5ce7-46e3-b0b6-3efd37561efb) @rafaelbn @loida-vm @pedrobaeza @albertcabedo .
text | es | el asiento de regularización es el asiento que genera la declaración, y como digo, ese asiento es el movimiento de la 472/477 a la cuenta que toque (4751 o 4700).
text | es | el que además se compense es lo que digo que no tengo claro que tenga que ir en el mismo asiento o deba ser uno separado.
code | code | .
text | en | @pedrobaeza mi duda sobre el asiento de regularización del iva era porque no se van a poder utilizar las cuentas **4750** y **4700** en el mismo asiento, de hecho, eso es lo que contablemente refleja la situación real de lo que estamos declarando en el 303 si nosotros en la declaración del 303 ponemos en la casilla 78 alguna cantidad porque decidimos compensar y esta no queda reflejada en el asiento, entonces el asiento es incorrecto porque me está poniendo lo mismo que si no declarase nada en esa casilla lo que está ocurriendo ahora mismo es que hace el mismo asiento, rellenes o no la casilla 78 y no debería ser así dejo un vídeo en el que se ve que hace lo mismo en los dos casos: https://www.loom.com/share/2ec2f8d5962042269c8d183ed1903b73?sid=2c19b53c-14ec-4217-a85b-0aba9133bb5d @rafaelbn @emiliopascual @loida-vm @albertcabedo .
text | es | a ver si @albertcabedo o @acysos confirman al respecto.
code | code | .
code | code | he realizado el siguiente pr https://github.com/oca/l10n-spain/pull/3874 para resolver esta casuistica .
text | es | cierro estando #3874 ya fusionado.
Detalles: total_items: 15 | code_items: 4 | spanish_items: 10 | english_items: 1
Dato borrado: code | code | hola @pedrobaeza no sé a que te refieres con lo del asiento de regularización exactamente el problema que presenta aquí @emiliopascual es que cuando te sale un trimestre a pagar iva pero tenemos una cantidad a compensar que utilizamos para pagar menos a hacienda, esa cantidad, contablemente, tiene que quitarla de la cuenta 470xxx porque si no es así, esa cuenta quedará descuadrada el modelo 303 lo hace bien trasladando esa cantidad a la casilla 110 pero no genera bien el asiento porque no la descuenta de la cuenta 470xxx si veis en el video, cuando solo compensamos lo resta de esa cuenta pero cuando compensamos una parte y pagamos otra, lleva el total a la cuenta 475xxx, cuando debe llevar cada parte a su cuenta correspondiente resumen contable del vídeo ![captura desde 2024-12-19 12-38-27](https://github.com/user-attachments/assets/044bd1a1-5ce7-46e3-b0b6-3efd37561efb) @rafaelbn @loida-vm @pedrobaeza @albertcabedo .
Dato borrado: code | code | .
Dato borrado: text | en | @pedrobaeza mi duda sobre el asiento de regularización del iva era porque no se van a poder utilizar las cuentas **4750** y **4700** en el mismo asiento, de hecho, eso es lo que contablemente refleja la situación real de lo que estamos declarando en el 303 si nosotros en la declaración del 303 ponemos en la casilla 78 alguna cantidad porque decidimos compensar y esta no queda reflejada en el asiento, entonces el asiento es incorrecto porque me está poniendo lo mismo que si no declarase nada en esa casilla lo que está ocurriendo ahora mismo es que hace el mismo asiento, rellenes o no la casilla 78 y no debería ser así dejo un vídeo en el que se ve que hace lo mismo en los dos casos: https://www.loom.com/share/2ec2f8d5962042269c8d183ed1903b73?sid=2c19b53c-14ec-4217-a85b-0aba9133bb5d @rafaelbn @emiliopascual @loida-vm @albertcabedo .
Dato borrado: code | code | .
Dato borrado: code | code | he realizado el siguiente pr https://github.com/oca/l10n-spain/pull/3874 para resolver esta casuistica .
recomposed_text: hasta donde sé, el asiento de regularización no tiene que ver con lo que compensas o no. es el resultado de tu ejercicio. luego, se tendrá que hacer un asiento extra que mueva parte de los saldos entre la 470 y la 4751 según esa operación. hacerlo todo en un mismo asiento, no sé si sería lo correcto. la información podría estar según las casillas, desde luego. @albertcabedo es correcto hacerlo todo de un golpe? . el asiento de regularización es el asiento que genera la declaración, y como digo, ese asiento es el movimiento de la 472/477 a la cuenta que toque (4751 o 4700). el que además se compense es lo que digo que no tengo claro que tenga que ir en el mismo asiento o deba ser uno separado. a ver si @albertcabedo o @acysos confirman al respecto. cierro estando #3874 ya fusionado.
__Recursividad__
text | es | hasta donde sé, el asiento de regularización no tiene que ver con lo que compensas o no.
text | es | es el resultado de tu ejercicio.
text | es | luego, se tendrá que hacer un asiento extra que mueva parte de los saldos entre la 470 y la 4751 según esa operación.
text | es | hacerlo todo en un mismo asiento, no sé si sería lo correcto.
text | es | la información podría estar según las casillas, desde luego.
text | es | @albertcabedo es correcto hacerlo todo de un golpe? .
text | es | el asiento de regularización es el asiento que genera la declaración, y como digo, ese asiento es el movimiento de la 472/477 a la cuenta que toque (4751 o 4700).
text | es | el que además se compense es lo que digo que no tengo claro que tenga que ir en el mismo asiento o deba ser uno separado.
text | es | a ver si @albertcabedo o @acysos confirman al respecto.
text | es | cierro estando #3874 ya fusionado.
Detalles: total_items: 10 | code_items: 0 | spanish_items: 10 | english_items: 0
recomposed_text: hasta donde sé, el asiento de regularización no tiene que ver con lo que compensas o no. es el resultado de tu ejercicio. luego, se tendrá que hacer un asiento extra que mueva parte de los saldos entre la 470 y la 4751 según esa operación. hacerlo todo en un mismo asiento, no sé si sería lo correcto. la información podría estar según las casillas, desde luego. @albertcabedo es correcto hacerlo todo de un golpe? . el asiento de regularización es el asiento que genera la declaración, y como digo, ese asiento es el movimiento de la 472/477 a la cuenta que toque (4751 o 4700). el que además se compense es lo que digo que no tengo claro que tenga que ir en el mismo asiento o deba ser uno separado. a ver si @albertcabedo o @acysos confirman al respecto. cierro estando #3874 ya fusionado.

# Entrada procesada 2026-02-09T14:14:26.022659 UTC
text | es | hola @enekoaira nos ha pasado lo mismo con esto de los impuestos de alimentos y los errores del sii...
text | es | el problema de habilitar la "fecha de operación", es que la misma determina la deducibilidad de las cuotas de iva.
text | es | y si esa fecha difiere respecto a la "fecha contable" de la factura, habrá una incongruencia respecto a los periodos en los que se liquidan esas facturas dentro de los modelos legales de odoo: - 303 - 349 - liva - otros...
text | es | es decir, también implica hacer un desarrollo extra en todos modelos legales para que priorice incluir en las declaraciones las facturas conforme a "fecha operación" (siempre que esté establecida), por encima de "fecha contable".
text | es | saludos, .
text | es | tratándose de operaciones entre empresas la mayoría de veces, en los que les da igual el iva, ya que son meros intermediarios, la solución más eficaz es cambiar los impuestos a los que toque en la fecha de factura, sin más complicación.
code | code | .
text | es | @soniaviciana gracias por la respuesta.
text | es | no he tenido en cuenta todos esos modelos, supongo que deberíamos consultar la forma de afrontarlo a la propia aeat.
text | es | tengo mi opinión pero no está respaldada.
text | es | no obstante, si así fuere, habría que cambiarlos también.
text | es | que la pereza no nos lleve a no hacer bien las cosas :-) .
text | es | @enekoaira no es pereza, si no practicidad.
text | es | además, ¿tienes pensado tú hacer esas mejoras? .
text | es | > tratándose de operaciones entre empresas la mayoría de veces, en los que les da igual el iva, ya que son meros intermediarios, la solución más eficaz es cambiar los impuestos a los que toque en la fecha de factura, sin más complicación.
text | es | no soy quién para contestar a esto.
text | es | yo no lo haría, otros erps no lo hacen .
text | es | eso de siempre aludir a que "otros erps" tal, bueno, pues vete con el otro erp...
text | es | una cosa está clara: un sistema en el que la fecha contable del asiento de la 472 o 477 no coincide con la fecha efectiva de impuestos es un no muy grande por muchas razones que ahora mismo no voy a desglosar, ya que de todas formas es algo que no se va a hacer en odoo nunca, primero porque el propio odoo no lo permite ni lo va a permitir (ya quitó hace muchos años, a partir de la v9, eso de forzar periodo y fecha del asiento, que permitía hacer más o menos estas cosas), y segundo porque la localización se complicaría de forma inimaginable para un caso tan marginal.
text | es | cierro esta issue como algo que no se realizará.
code | code | .
text | es | @soniaviciana, en realidad creo que la fecha por la que se deben generar los modelos es la fecha de devengo, no la fecha de operación.
text | es | es imposible que sea la fecha de operación la marque el período de devengo, dado que si así fuese sería imposible cumplir lo que indican en las preguntas frecuentes de la aeat sobre como se debe de cubrir el tipo de operación en el caso de rectificativas, por ejemplo.
text | es | (https://sede.agenciatributaria.gob.es/sede/impuestos-tasas/iva/iva-libros-registro-iva-traves-aeat/preguntas-frecuentes/2-registro-cuestiones-comunes.html?faqid=910f6c3d02bc9510vgnvcm100000dc381e0arcrd) en las últimas versiones del sii están validando precisamente que el impuesto reportado esté vigente a "fecha de operación" de la factura informada; con lo cual queda claro que para la aeat la fecha que debe tomarse a la hora de decidir el tributo a aplicar es la fecha de operación (no la fecha de factura, ni la fecha contable, ni la fecha de devengo, ni cualquiera otra fecha que queramos aplicar).
text | es | vuelvo sobre el ejemplo de las rectificativas.
text | es | si en un período p (iva al 4%) tengo que rectificar una factura del período p-1 (con un iva 2%), no puedo simplemente cambiar el iva de la nueva factura rectificativa al 4%, porque entonces mis bases y cuotas no son correctas, ya que he pagado por 2 y rectifico por 4, causando un perjuicio a la hacienda pública; lo cual no les gusta nada y nos pone en el foco de una posible inspección.
text | es | ps: es mi primer aporte a la comunidad de odoo y me he quedado muy ingratamente sorprendido por la reacción tajante , desmesurada y agresiva.
text | es | @soniaviciana si quieres que continuemos esta reflexión conjuntamente puedes escribirme directamente.
code | code | .
text | es | una tirita se arranca mejor de un golpe que poco a poco.
text | es | lo que comentas de las rectificativas es otra cuestión aparte.
text | es | a mí hasta ahora no me han rechazado en el sii una rectificativa hecha con fecha de estos meses (desde octubre) con impuesto del 4%, porque precisamente tienen en cuenta estas cuestiones, y poner fecha de operación de antes de octubre lo considero incorrecto, porque el devengo de la rectificación es ahora, no cuando se hizo la operación rectificada.
code | code | .
text | es | estaré yo confundido, pero insisto en que "fecha de operación" y "período de devengo" no están relacionados.
text | es | sobre la rectificativa, la aeat es clara (por raro que parezca :d): https://sede.agenciatributaria.gob.es/sede/impuestos-tasas/iva/iva-libros-registro-iva-traves-aeat/preguntas-frecuentes/2-registro-cuestiones-comunes.html?faqid=d6ce6c3d02bc9510vgnvcm100000dc381e0arcrd ps: con un poco de agua tibia también salen muy bien las tiritas.
code | code | .
text | es | gracias por el enlace, raúl.
text | es | en el módulo sii, no estamos indicando fecha de operación en ningún caso, sea rectificativa o normal, y hacienda no lo está rechazando, aunque no conocía que la aeat indique que deba ser la fecha de operación de la rectificada.
text | es | de todas formas: - el sii no rechaza rectificativas con el 4% en las fechas actuales.
text | es | - el sii no obliga a poner fecha de operación.
text | es | rellenando "fecha expedición" y "periodo de liquidación" es suficiente.
text | es | - no tengo constancia de notificaciones o inspecciones que indiquen lo contrario.
text | es | por el momento, no veo que haya que hacer nada al respecto para las rectificativas, y empezar a enviar esa fecha generaría muchos flecos, como por ejemplo cuando se hace una rectificativa (como un rappel), sin una factura de origen exacta.
text | es | se podría barajar enviar la fecha de operación de la rectificativa cuando el origen está claro.
text | es | eso a ver qué les parece a otra gente.
text | es | reabro para dar lugar a ese debate, aunque esto sea un tema lateral.
text | es | de cara a la fecha de operación en general, el objetivo aquí es automatizar lo máximo posible el envío y evitar errores, por lo que tener un campo "fecha de operación" manipulable no está entre las características deseables por el momento, salvo que se encuentre alguna causa insalvable, pero si alguien quiere hacerlo, gracias a la capacidad modular de odoo, se puede hacer como un módulo de extensión.
code | code | .
text | es | ah, y otra cosa que veo según la nueva información: la fecha de operación no debe marcar el periodo de liquidación de los impuestos, ya que si no, las rectificativas irían en declaraciones anteriores y no en la que toca.
text | es | parece que ese dato es totalmente caprichoso.
code | code | .
text | es | en nuestro caso, en alguna empresa del grupo, que no es la que usa odoo si hemos tenido problemas de envío al sii por enviar una factura rectificativa con fecha de noviembre, que rectificaba a una de septiembre, y llevaba entre los ivas una parte de iva al 5%.
text | es | dado que ese iva no es válido en octubre, el sii la rechazó, y tuvimos que modificarla indicando que la fecha de operación era septiembre para que la aceptase.
text | es | en resumen, la fecha de operación es la que marca los tributos a aplicar, y la fecha de devengo es la que marca el período en el que se debe incluir en los modelos (al menos de iva, si metemos el irpf por el medio ya nos salen más lios...).
text | es | pd: soy rubén ;d .
text | es | la propuesta de añadir un nuevo campo de "fecha de operación", sin valor por defecto, pero que si está cubierto se informe al sii va precisamente en la línea de que luego, cada empresa según sus necesidades decida como dar valor a este campo: - manualmente por los usuarios - en base a la fecha de los albaranes - en base a la fecha de pedidos - ...
text | es | todo eso sería una cuestión a personalizar en los módulos de cada empresa, según sus necesidades y decisiones.
text | es | así mismo, quien no necesite/quiera hacer nada al respecto simplemente con no alimentar ese campo el comportamiento de su sistema seguirá igual que ahora.
text | es | es por ello que, dado que el concepto de "fecha de operación" es un concepto que define el sii debe de estar contemplado en este módulo el que se envíe.
text | es | y como es, cuando menos, controvertido; de ahí que la propuesta sea crear un campo que cada empresa decida como alimentar (o no) según su caso de uso.
code | code | .
text | es | perdona, rubén, como el login aparece rmosquera, se me ha ido el nombre.
text | es | es raro, acabo de comprobar ahora mismo justo ese caso, y tengo facturas aceptadas por el sii en octubre con iva 4 %.
text | es | si la fecha de operación se considera solo a esos efectos, creo que puede añadirse que se envíe - sin intervención del usuario - en las rectificativas cuando se tiene claro el origen.
text | es | lo de poner ese campo de forma general, no, porque eso repercutiría en la gente tocando sin saber, y teniendo tickets de asistencia por esos temas.
text | es | lo dicho, eso es fácil ponerlo en un módulo extra, e incluso se podría plantear tener ese módulo extra aquí, pero desde luego de base, es muy peligroso.
code | code | .
text | es | al 4% claro que lo van a aceptar, porque es un tipo válido en cualquier mes.
text | es | el caso es con los iva que la aeat si puede validar porque solo han estado activos durante un tiempo, como el 5% o el 2%.
text | es | entiendo, aunque no comparto, el temor de un mal uso de ese campo...
text | es | si está oculto, solo lo activará quien necesite usarlo y debemos confiar en que sepa como usarlo.
text | es | no podemos limitar el caso a las rectificativas, lo uso como ejemplo porque es el más claro y el más explícito; pero cualquier caso en el que facturemos operaciones de un mes en otro, y en ese salto de mes haya un cambio de iva pueden provocar este problema.
code | code | la solución que planteas para estos casos en https://github.com/oca/l10n-spain/issues/3858#issuecomment-2551519653, de decirle al departamento de administración, que haga mal las facturas, a sabiendas; no me parece apropiado.
text | es | y además, no resuelve el caso de las compras, en las que el proveedor simplemente podría negarse a hacer esto.
text | es | y seguramente también nos daría problemas con los casos de autónomos en régimen especial agrario, que no liquidan iva y por tanto, los estaríamos perjudicando si les facturamos con un tipo de iva más alto.
code | code | .
text | es | y otra cosa para @soniaviciana entonces: con eso no habría que tocar nada de los otros módulos.
text | es | simplemente, habría iva 4% en por ejemplo octubre, pero ya está.
text | es | yo de todas formas, estoy dudando bastante que hacienda permita hacer facturas de cliente del 4% por ejemplo a finales de octubre, por mucho que le digas que la fecha de operación es de septiembre porque la mercancía se envió entonces...
code | code | .
text | es | > no podemos limitar el caso a las rectificativas, lo uso como ejemplo porque es el más claro y el más explícito; pero cualquier caso en el que facturemos operaciones de un mes en otro, y en ese salto de mes haya un cambio de iva pueden provocar este problema no lo limito, solo digo que en este caso es automatizable y sin efectos laterales: se envía si se sabe la factura origen.
text | es | se sigue como hasta ahora si no se sabe (como el de una factura de rappel).
code | code | > la solución que planteas para estos casos en https://github.com/oca/l10n-spain/issues/3858#issuecomment-2551519653, de decirle al departamento de administración, que haga mal las facturas, a sabiendas; no me parece apropiado.
text | es | no es hacerlo mal.
text | es | al contrario, es hacerlo bien, porque la tributación siempre se aplica a las facturas.
text | es | los albaranes no llevan fiscalidad.
text | es | lo otro se admite por dar "cuartelillo".
text | es | pero fíjate que tendrías el mismo problema (por lo menos en odoo, pero también en otros erps), si hiciste un presupuesto hace un año, con los impuestos anteriores, y lo confirmas, envías y facturas ahora.
text | es | tendrás que cambiar igualmente los impuestos a los que tocan ahora.
text | es | no vale poner fecha de operación de hace un año porque era cuando emitiste el presupuesto.
text | es | > y además, no resuelve el caso de las compras, en las que el proveedor simplemente podría negarse a hacer esto.
text | es | > y seguramente también nos daría problemas con los casos de autónomos en régimen especial agrario, que no liquidan iva y por tanto, los estaríamos perjudicando si les facturamos con un tipo de iva más alto.
text | es | como digo, hasta ahora no tengo constancia de ningún rechazo de este tipo.
text | es | y el régimen agrario no está contemplado en el desarrollo actual.
text | es | pero bueno, volvemos a lo mismo: que la fecha de operación se puede implementar en un módulo aparte.
text | es | si es lo bueno que tiene la modularidad.
code | code | .
text | es | efectivamente no deberías facturarlo a finales de octubre; pero no porque no lo admita el sii, que creo que si lo aceptará (sería cuestión de testarlo en el entorno de pruebas).
text | es | el problema ahí sería que incumplirías los plazos de la ley: https://sede.agenciatributaria.gob.es/sede/ayuda/manuales-videos-folletos/manuales-practicos/manual-iva-2021/capitulo-10-obligac-formales-suj-registro/obligaciones-materia-facturacion/plazos-expedicion-envio-facturas.html pero hasta el 16 si podrías: `antes del día 16 del mes siguiente a aquél en que se haya producido el devengo del impuesto correspondiente a la citada operación` .
text | es | el caso del presupuesto y del albarán no son comparables.
text | es | hacienda es clara con que la fecha que marca la fiscalidad es la de "la entrega de la mercancía o de la prestación del servicio"; ni presupuesto, ni pedido, ni factura.
text | es | de hecho, es esa fecha "de entrega de la mercancía o prestación del servicio", la que te marca el plazo para poder emitir la factura, como indico en el comentario anterior.
text | es | por nuestra parte veo necesario este desarrollo, y no sé si lo plantearemos como un módulo específico, o como un fork (con su pr) a la rama 12.0 de este repo (que es la versión en la que aún trabajamos).
text | es | seguramente optemos por lo que técnicamente nos resulte más sencillo.
text | es | si creamos un módulo nuevo no creo que podamos asumir el adaptarlo a las normas de oca, que es algo en lo que no tenemos experiencia, y somos una empresa usuaria final de odoo, no una implantadora.
code | code | .
code | code | nos tocó trabajar con esto hace poco para un caso muy puntual relacionado con las cuotas de alimentos: ![image](https://github.com/user-attachments/assets/a1d411f3-173f-4ed9-a431-79ba37992c76) y podemos asegurar que en el pre-303 esa factura se deduce a 10/2024 y no en 11/2024.
text | en | no he encontrado mucha info en la aeat, pero sí en los blocs de otros erp: https://soporte.sage.es/plus/2017/09/gestion-de-fechas-de-facturas-expedidas-para-el-sii-en-contaplus-flex/ https://a3responde.wolterskluwer.es/documentos/erp/fecha-contable-y-fecha-de-operacion-en-facturas-de-venta.html .
text | es | pues entonces volvemos al supuesto inicial que teníamos tanto sonia como yo, que es que sí que marca la fecha de operación lo que es la fecha a efectos fiscales, y eso supone esa triple fecha que es una línea roja.
text | es | pero entonces es inconsistente con ese otro enlace que dice que en las rectificativas la fecha de operación debe ser la de la factura origen.
text | es | ¿tal vez la fecha de operación la utiliza hacienda de forma diferente según el tipo de factura? .
text | es | en mi opinión, y aquí entro en el terreno de lo que intuyo pero no puedo asegurar; lo que marca en que modelo debe ir no es ninguna de las fechas, si no el "período" que se indique.
text | es | y apoyo mis suposiciones en que: - los modelos siempre hacen referencia a un período, que puede ser mensual, trimestral o anual.
text | es | en el caso de las empresas en sii, mensual y anual.
text | es | y esos son los campos que efectivamente tiene el registro de "periodo" en el sii.
text | es | - en otra empresa del grupo que no usa odoo estamos reportando las facturas de compra del mes pasado, que registramos antes del 16 del mes en curso, con período de devengo del mes de la factura, para devengarlas lo antes posible.
text | es | llevamos haciendo esto sin problema durante años.
text | es | las contabilizadas después del 16 van el el modelo correspondiente al periodo en el que se contabilizan.
text | es | - existe también en el sii una opción de indicar que el iva de una factura se devengará en un período posterior a aquel en el que se reporta (que se debe usar en casos de proveedores en "criterio de caja".
code | code | el caso que expone @soniaviciana no concuerda con lo que yo entiendo, ya que si en esa factura indican: ![image](https://github.com/user-attachments/assets/fb32a033-fd84-480b-8ba5-8bdceb4415c0) debería ir en el modelo del 11-2024.
text | es | entiendo que puede parecer un argumento peregrino pero...
text | es | ¿es posible que ese premodelo no sea correcto?
text | es | en nuestro grupo de empresas no usamos esos premodelos generados por la aeat, por lo que no puedo juzgarlo.
text | es | sobre la documentación de otros erps...
text | es | pues es la información de los casos más generales, y tiene la validez que le demos en base a la credibilidad de la empresa (y de su celo por mantener actualizada la documentación pública).
text | es | y dicho esto, la veo correcta; pero para el caso general y más común, y en el que la información se registra en plazo en el erp.
code | code | .
text | es | ya, pero sin esa confirmación de qué supone la fecha de operación en ese caso, la verdad es que es arriesgado aventurarse a poner un dato.
code | code | .
text | es | no sé si desde la oca tenéis algún canal de comunicación con la aeat para poder plantear esa consulta a nivel técnico, de la correlación entre los datos enviados al sii y los modelos.
text | es | en el erp de la empresa que no usa odoo los tributos tienen el concepto de "fecha de devengo" y ese es el campo que se usa para los modelos y con el que calcula el "periodoliquidacion" para el sii.
text | es | lo hacemos así desde hace tiempo sin problemas.
text | es | entiendo que sin una respuesta que se pueda considerar de una autoridad no se incorporen cambios en esa línea al módulo de la oca.
text | es | nosotros trataremos de hacer nuestro aporte con lo que a nosotros nos sirva.
code | code | .
text | es | @acysos puedes lanzar consulta vinculante sobre este tema?
text | es | en cuanto a lo de la fecha de devengo separada de la fecha contable, es la línea roja que siempre os he comentado.
text | es | no puede ser que se saque un sumas y saldos de una 472/477 y dé un resultado, y en cambio en el 303 se declare otro distinto porque las fechas de devengo son algo diferente.
code | code | .
text | es | legalmente si puede ocurrir esa diferencia, y que los datos sean correctos.
text | es | pero en cualquier caso concuerdo que es algo que si se puede evitar es mucho más práctico, y solo lo ponía como ejemplo y argumento de como creo que funciona el sistema por parte de la aeat.
text | es | no propongo que se incorpore un cambio de este tipo, que bastante tenemos con el debate sobre la "fecha de operación" :d .
code | code | ¡gracias @enekoaira ! ¡bonito caso! esta es mi propuesta: https://github.com/oca/account-invoicing/issues/1962 me hice una chuletilla de un ejemplo de factura de proveedor, que hay hasta 4 años para contabilizar y para la misma factura son 5 fechas diferentes.
code | code | ![image](https://github.com/user-attachments/assets/a2c508ce-5437-4fb5-8b12-ea37ffed6c44) corazón rojo corazón rojo @moduon .
text | es | desde mi punto de visto sería muy conveniente que apareciera un nuevo campo de "fecha de operación", sin valor por defecto, pero que si está cubierto se informe al sii puesto que la fecha en la que quiero imputar mi gasto puede ser distinta a la fecha contable, ya que hay hasta el día 16 de cada mes para poder devengarme en el periodo anterior el sii recoge esta casuistica y diferencia entre la fecha de registro contable (fecha en la que se registra la factura) y la fecha de operación (fecha en la que imputo mi gasto), como vemos en la tabla de @rafaelbn tenemos que tener mucho cuidado con la nomenclatura ya que lo que: - en la aeat llaman **fecha de operación**, en odoo es la **fecha contable**
- en la aeat llaman **fecha de registro contable**, es la fecha en la que registro la factura en el programa y la valido y esa fecha la tiene en cuenta la aeat para los plazos del sii esto solo se da en la facturas de proveedor ya que en las de cliente esas dos fechas tienen que ser iguales estoy de acuerdo con todo lo que ha ido exponiendo @rmosquera-aira a ver si @acysos hace la consulta vinculante para ver si se puede desarrollar porque nosotros lo vemos necesario https://github.com/moduon .
text | es | > en la aeat llaman fecha de operación, en odoo es la fecha contable esto no es del todo correcto, porque está el periodo de liquidación también en la información que se pasa a la aeat, y el problema es que tengamos una desincronización entre la contabilidad de la 472/477 y la fiscalidad.
text | es | mientras eso no se aclare (y tengamos claro que la fecha de operación es solo para "ver los impuestos válidos"), no se debe incorporar ese campo a nivel de usuario.
code | code | .
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Detalles: total_items: 150 | code_items: 24 | spanish_items: 123 | english_items: 3
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | la solución que planteas para estos casos en https://github.com/oca/l10n-spain/issues/3858#issuecomment-2551519653, de decirle al departamento de administración, que haga mal las facturas, a sabiendas; no me parece apropiado.
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | > la solución que planteas para estos casos en https://github.com/oca/l10n-spain/issues/3858#issuecomment-2551519653, de decirle al departamento de administración, que haga mal las facturas, a sabiendas; no me parece apropiado.
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | nos tocó trabajar con esto hace poco para un caso muy puntual relacionado con las cuotas de alimentos: ![image](https://github.com/user-attachments/assets/a1d411f3-173f-4ed9-a431-79ba37992c76) y podemos asegurar que en el pre-303 esa factura se deduce a 10/2024 y no en 11/2024.
Dato borrado: text | en | no he encontrado mucha info en la aeat, pero sí en los blocs de otros erp: https://soporte.sage.es/plus/2017/09/gestion-de-fechas-de-facturas-expedidas-para-el-sii-en-contaplus-flex/ https://a3responde.wolterskluwer.es/documentos/erp/fecha-contable-y-fecha-de-operacion-en-facturas-de-venta.html .
Dato borrado: code | code | el caso que expone @soniaviciana no concuerda con lo que yo entiendo, ya que si en esa factura indican: ![image](https://github.com/user-attachments/assets/fb32a033-fd84-480b-8ba5-8bdceb4415c0) debería ir en el modelo del 11-2024.
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | ¡gracias @enekoaira ! ¡bonito caso! esta es mi propuesta: https://github.com/oca/account-invoicing/issues/1962 me hice una chuletilla de un ejemplo de factura de proveedor, que hay hasta 4 años para contabilizar y para la misma factura son 5 fechas diferentes.
Dato borrado: code | code | ![image](https://github.com/user-attachments/assets/a2c508ce-5437-4fb5-8b12-ea37ffed6c44) corazón rojo corazón rojo @moduon .
Dato borrado: code | code | .
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
recomposed_text: hola @enekoaira nos ha pasado lo mismo con esto de los impuestos de alimentos y los errores del sii... el problema de habilitar la "fecha de operación", es que la misma determina la deducibilidad de las cuotas de iva. y si esa fecha difiere respecto a la "fecha contable" de la factura, habrá una incongruencia respecto a los periodos en los que se liquidan esas facturas dentro de los modelos legales de odoo: - 303 - 349 - liva - otros... es decir, también implica hacer un desarrollo extra en todos modelos legales para que priorice incluir en las declaraciones las facturas conforme a "fecha operación" (siempre que esté establecida), por encima de "fecha contable". saludos, . tratándose de operaciones entre empresas la mayoría de veces, en los que les da igual el iva, ya que son meros intermediarios, la solución más eficaz es cambiar los impuestos a los que toque en la fecha de factura, sin más complicación. @soniaviciana gracias por la respuesta. no he tenido en cuenta todos esos modelos, supongo que deberíamos consultar la forma de afrontarlo a la propia aeat. tengo mi opinión pero no está respaldada. no obstante, si así fuere, habría que cambiarlos también. que la pereza no nos lleve a no hacer bien las cosas :-) . @enekoaira no es pereza, si no practicidad. además, ¿tienes pensado tú hacer esas mejoras? . > tratándose de operaciones entre empresas la mayoría de veces, en los que les da igual el iva, ya que son meros intermediarios, la solución más eficaz es cambiar los impuestos a los que toque en la fecha de factura, sin más complicación. no soy quién para contestar a esto. yo no lo haría, otros erps no lo hacen . eso de siempre aludir a que "otros erps" tal, bueno, pues vete con el otro erp... una cosa está clara: un sistema en el que la fecha contable del asiento de la 472 o 477 no coincide con la fecha efectiva de impuestos es un no muy grande por muchas razones que ahora mismo no voy a desglosar, ya que de todas formas es algo que no se va a hacer en odoo nunca, primero porque el propio odoo no lo permite ni lo va a permitir (ya quitó hace muchos años, a partir de la v9, eso de forzar periodo y fecha del asiento, que permitía hacer más o menos estas cosas), y segundo porque la localización se complicaría de forma inimaginable para un caso tan marginal. cierro esta issue como algo que no se realizará. @soniaviciana, en realidad creo que la fecha por la que se deben generar los modelos es la fecha de devengo, no la fecha de operación. es imposible que sea la fecha de operación la marque el período de devengo, dado que si así fuese sería imposible cumplir lo que indican en las preguntas frecuentes de la aeat sobre como se debe de cubrir el tipo de operación en el caso de rectificativas, por ejemplo. (https://sede.agenciatributaria.gob.es/sede/impuestos-tasas/iva/iva-libros-registro-iva-traves-aeat/preguntas-frecuentes/2-registro-cuestiones-comunes.html?faqid=910f6c3d02bc9510vgnvcm100000dc381e0arcrd) en las últimas versiones del sii están validando precisamente que el impuesto reportado esté vigente a "fecha de operación" de la factura informada; con lo cual queda claro que para la aeat la fecha que debe tomarse a la hora de decidir el tributo a aplicar es la fecha de operación (no la fecha de factura, ni la fecha contable, ni la fecha de devengo, ni cualquiera otra fecha que queramos aplicar). vuelvo sobre el ejemplo de las rectificativas. si en un período p (iva al 4%) tengo que rectificar una factura del período p-1 (con un iva 2%), no puedo simplemente cambiar el iva de la nueva factura rectificativa al 4%, porque entonces mis bases y cuotas no son correctas, ya que he pagado por 2 y rectifico por 4, causando un perjuicio a la hacienda pública; lo cual no les gusta nada y nos pone en el foco de una posible inspección. ps: es mi primer aporte a la comunidad de odoo y me he quedado muy ingratamente sorprendido por la reacción tajante , desmesurada y agresiva. @soniaviciana si quieres que continuemos esta reflexión conjuntamente puedes escribirme directamente. una tirita se arranca mejor de un golpe que poco a poco. lo que comentas de las rectificativas es otra cuestión aparte. a mí hasta ahora no me han rechazado en el sii una rectificativa hecha con fecha de estos meses (desde octubre) con impuesto del 4%, porque precisamente tienen en cuenta estas cuestiones, y poner fecha de operación de antes de octubre lo considero incorrecto, porque el devengo de la rectificación es ahora, no cuando se hizo la operación rectificada. estaré yo confundido, pero insisto en que "fecha de operación" y "período de devengo" no están relacionados. sobre la rectificativa, la aeat es clara (por raro que parezca :d): https://sede.agenciatributaria.gob.es/sede/impuestos-tasas/iva/iva-libros-registro-iva-traves-aeat/preguntas-frecuentes/2-registro-cuestiones-comunes.html?faqid=d6ce6c3d02bc9510vgnvcm100000dc381e0arcrd ps: con un poco de agua tibia también salen muy bien las tiritas. gracias por el enlace, raúl. en el módulo sii, no estamos indicando fecha de operación en ningún caso, sea rectificativa o normal, y hacienda no lo está rechazando, aunque no conocía que la aeat indique que deba ser la fecha de operación de la rectificada. de todas formas: - el sii no rechaza rectificativas con el 4% en las fechas actuales. - el sii no obliga a poner fecha de operación. rellenando "fecha expedición" y "periodo de liquidación" es suficiente. - no tengo constancia de notificaciones o inspecciones que indiquen lo contrario. por el momento, no veo que haya que hacer nada al respecto para las rectificativas, y empezar a enviar esa fecha generaría muchos flecos, como por ejemplo cuando se hace una rectificativa (como un rappel), sin una factura de origen exacta. se podría barajar enviar la fecha de operación de la rectificativa cuando el origen está claro. eso a ver qué les parece a otra gente. reabro para dar lugar a ese debate, aunque esto sea un tema lateral. de cara a la fecha de operación en general, el objetivo aquí es automatizar lo máximo posible el envío y evitar errores, por lo que tener un campo "fecha de operación" manipulable no está entre las características deseables por el momento, salvo que se encuentre alguna causa insalvable, pero si alguien quiere hacerlo, gracias a la capacidad modular de odoo, se puede hacer como un módulo de extensión. ah, y otra cosa que veo según la nueva información: la fecha de operación no debe marcar el periodo de liquidación de los impuestos, ya que si no, las rectificativas irían en declaraciones anteriores y no en la que toca. parece que ese dato es totalmente caprichoso. en nuestro caso, en alguna empresa del grupo, que no es la que usa odoo si hemos tenido problemas de envío al sii por enviar una factura rectificativa con fecha de noviembre, que rectificaba a una de septiembre, y llevaba entre los ivas una parte de iva al 5%. dado que ese iva no es válido en octubre, el sii la rechazó, y tuvimos que modificarla indicando que la fecha de operación era septiembre para que la aceptase. en resumen, la fecha de operación es la que marca los tributos a aplicar, y la fecha de devengo es la que marca el período en el que se debe incluir en los modelos (al menos de iva, si metemos el irpf por el medio ya nos salen más lios...). pd: soy rubén ;d . la propuesta de añadir un nuevo campo de "fecha de operación", sin valor por defecto, pero que si está cubierto se informe al sii va precisamente en la línea de que luego, cada empresa según sus necesidades decida como dar valor a este campo: - manualmente por los usuarios - en base a la fecha de los albaranes - en base a la fecha de pedidos - ... todo eso sería una cuestión a personalizar en los módulos de cada empresa, según sus necesidades y decisiones. así mismo, quien no necesite/quiera hacer nada al respecto simplemente con no alimentar ese campo el comportamiento de su sistema seguirá igual que ahora. es por ello que, dado que el concepto de "fecha de operación" es un concepto que define el sii debe de estar contemplado en este módulo el que se envíe. y como es, cuando menos, controvertido; de ahí que la propuesta sea crear un campo que cada empresa decida como alimentar (o no) según su caso de uso. perdona, rubén, como el login aparece rmosquera, se me ha ido el nombre. es raro, acabo de comprobar ahora mismo justo ese caso, y tengo facturas aceptadas por el sii en octubre con iva 4 %. si la fecha de operación se considera solo a esos efectos, creo que puede añadirse que se envíe - sin intervención del usuario - en las rectificativas cuando se tiene claro el origen. lo de poner ese campo de forma general, no, porque eso repercutiría en la gente tocando sin saber, y teniendo tickets de asistencia por esos temas. lo dicho, eso es fácil ponerlo en un módulo extra, e incluso se podría plantear tener ese módulo extra aquí, pero desde luego de base, es muy peligroso. al 4% claro que lo van a aceptar, porque es un tipo válido en cualquier mes. el caso es con los iva que la aeat si puede validar porque solo han estado activos durante un tiempo, como el 5% o el 2%. entiendo, aunque no comparto, el temor de un mal uso de ese campo... si está oculto, solo lo activará quien necesite usarlo y debemos confiar en que sepa como usarlo. no podemos limitar el caso a las rectificativas, lo uso como ejemplo porque es el más claro y el más explícito; pero cualquier caso en el que facturemos operaciones de un mes en otro, y en ese salto de mes haya un cambio de iva pueden provocar este problema. y además, no resuelve el caso de las compras, en las que el proveedor simplemente podría negarse a hacer esto. y seguramente también nos daría problemas con los casos de autónomos en régimen especial agrario, que no liquidan iva y por tanto, los estaríamos perjudicando si les facturamos con un tipo de iva más alto. y otra cosa para @soniaviciana entonces: con eso no habría que tocar nada de los otros módulos. simplemente, habría iva 4% en por ejemplo octubre, pero ya está. yo de todas formas, estoy dudando bastante que hacienda permita hacer facturas de cliente del 4% por ejemplo a finales de octubre, por mucho que le digas que la fecha de operación es de septiembre porque la mercancía se envió entonces... > no podemos limitar el caso a las rectificativas, lo uso como ejemplo porque es el más claro y el más explícito; pero cualquier caso en el que facturemos operaciones de un mes en otro, y en ese salto de mes haya un cambio de iva pueden provocar este problema no lo limito, solo digo que en este caso es automatizable y sin efectos laterales: se envía si se sabe la factura origen. se sigue como hasta ahora si no se sabe (como el de una factura de rappel). no es hacerlo mal. al contrario, es hacerlo bien, porque la tributación siempre se aplica a las facturas. los albaranes no llevan fiscalidad. lo otro se admite por dar "cuartelillo". pero fíjate que tendrías el mismo problema (por lo menos en odoo, pero también en otros erps), si hiciste un presupuesto hace un año, con los impuestos anteriores, y lo confirmas, envías y facturas ahora. tendrás que cambiar igualmente los impuestos a los que tocan ahora. no vale poner fecha de operación de hace un año porque era cuando emitiste el presupuesto. > y además, no resuelve el caso de las compras, en las que el proveedor simplemente podría negarse a hacer esto. > y seguramente también nos daría problemas con los casos de autónomos en régimen especial agrario, que no liquidan iva y por tanto, los estaríamos perjudicando si les facturamos con un tipo de iva más alto. como digo, hasta ahora no tengo constancia de ningún rechazo de este tipo. y el régimen agrario no está contemplado en el desarrollo actual. pero bueno, volvemos a lo mismo: que la fecha de operación se puede implementar en un módulo aparte. si es lo bueno que tiene la modularidad. efectivamente no deberías facturarlo a finales de octubre; pero no porque no lo admita el sii, que creo que si lo aceptará (sería cuestión de testarlo en el entorno de pruebas). el problema ahí sería que incumplirías los plazos de la ley: https://sede.agenciatributaria.gob.es/sede/ayuda/manuales-videos-folletos/manuales-practicos/manual-iva-2021/capitulo-10-obligac-formales-suj-registro/obligaciones-materia-facturacion/plazos-expedicion-envio-facturas.html pero hasta el 16 si podrías: `antes del día 16 del mes siguiente a aquél en que se haya producido el devengo del impuesto correspondiente a la citada operación` . el caso del presupuesto y del albarán no son comparables. hacienda es clara con que la fecha que marca la fiscalidad es la de "la entrega de la mercancía o de la prestación del servicio"; ni presupuesto, ni pedido, ni factura. de hecho, es esa fecha "de entrega de la mercancía o prestación del servicio", la que te marca el plazo para poder emitir la factura, como indico en el comentario anterior. por nuestra parte veo necesario este desarrollo, y no sé si lo plantearemos como un módulo específico, o como un fork (con su pr) a la rama 12.0 de este repo (que es la versión en la que aún trabajamos). seguramente optemos por lo que técnicamente nos resulte más sencillo. si creamos un módulo nuevo no creo que podamos asumir el adaptarlo a las normas de oca, que es algo en lo que no tenemos experiencia, y somos una empresa usuaria final de odoo, no una implantadora. pues entonces volvemos al supuesto inicial que teníamos tanto sonia como yo, que es que sí que marca la fecha de operación lo que es la fecha a efectos fiscales, y eso supone esa triple fecha que es una línea roja. pero entonces es inconsistente con ese otro enlace que dice que en las rectificativas la fecha de operación debe ser la de la factura origen. ¿tal vez la fecha de operación la utiliza hacienda de forma diferente según el tipo de factura? . en mi opinión, y aquí entro en el terreno de lo que intuyo pero no puedo asegurar; lo que marca en que modelo debe ir no es ninguna de las fechas, si no el "período" que se indique. y apoyo mis suposiciones en que: - los modelos siempre hacen referencia a un período, que puede ser mensual, trimestral o anual. en el caso de las empresas en sii, mensual y anual. y esos son los campos que efectivamente tiene el registro de "periodo" en el sii. - en otra empresa del grupo que no usa odoo estamos reportando las facturas de compra del mes pasado, que registramos antes del 16 del mes en curso, con período de devengo del mes de la factura, para devengarlas lo antes posible. llevamos haciendo esto sin problema durante años. las contabilizadas después del 16 van el el modelo correspondiente al periodo en el que se contabilizan. - existe también en el sii una opción de indicar que el iva de una factura se devengará en un período posterior a aquel en el que se reporta (que se debe usar en casos de proveedores en "criterio de caja". entiendo que puede parecer un argumento peregrino pero... ¿es posible que ese premodelo no sea correcto? en nuestro grupo de empresas no usamos esos premodelos generados por la aeat, por lo que no puedo juzgarlo. sobre la documentación de otros erps... pues es la información de los casos más generales, y tiene la validez que le demos en base a la credibilidad de la empresa (y de su celo por mantener actualizada la documentación pública). y dicho esto, la veo correcta; pero para el caso general y más común, y en el que la información se registra en plazo en el erp. ya, pero sin esa confirmación de qué supone la fecha de operación en ese caso, la verdad es que es arriesgado aventurarse a poner un dato. no sé si desde la oca tenéis algún canal de comunicación con la aeat para poder plantear esa consulta a nivel técnico, de la correlación entre los datos enviados al sii y los modelos. en el erp de la empresa que no usa odoo los tributos tienen el concepto de "fecha de devengo" y ese es el campo que se usa para los modelos y con el que calcula el "periodoliquidacion" para el sii. lo hacemos así desde hace tiempo sin problemas. entiendo que sin una respuesta que se pueda considerar de una autoridad no se incorporen cambios en esa línea al módulo de la oca. nosotros trataremos de hacer nuestro aporte con lo que a nosotros nos sirva. @acysos puedes lanzar consulta vinculante sobre este tema? en cuanto a lo de la fecha de devengo separada de la fecha contable, es la línea roja que siempre os he comentado. no puede ser que se saque un sumas y saldos de una 472/477 y dé un resultado, y en cambio en el 303 se declare otro distinto porque las fechas de devengo son algo diferente. legalmente si puede ocurrir esa diferencia, y que los datos sean correctos. pero en cualquier caso concuerdo que es algo que si se puede evitar es mucho más práctico, y solo lo ponía como ejemplo y argumento de como creo que funciona el sistema por parte de la aeat. no propongo que se incorpore un cambio de este tipo, que bastante tenemos con el debate sobre la "fecha de operación" :d . desde mi punto de visto sería muy conveniente que apareciera un nuevo campo de "fecha de operación", sin valor por defecto, pero que si está cubierto se informe al sii puesto que la fecha en la que quiero imputar mi gasto puede ser distinta a la fecha contable, ya que hay hasta el día 16 de cada mes para poder devengarme en el periodo anterior el sii recoge esta casuistica y diferencia entre la fecha de registro contable (fecha en la que se registra la factura) y la fecha de operación (fecha en la que imputo mi gasto), como vemos en la tabla de @rafaelbn tenemos que tener mucho cuidado con la nomenclatura ya que lo que: - en la aeat llaman **fecha de operación**, en odoo es la **fecha contable**
- en la aeat llaman **fecha de registro contable**, es la fecha en la que registro la factura en el programa y la valido y esa fecha la tiene en cuenta la aeat para los plazos del sii esto solo se da en la facturas de proveedor ya que en las de cliente esas dos fechas tienen que ser iguales estoy de acuerdo con todo lo que ha ido exponiendo @rmosquera-aira a ver si @acysos hace la consulta vinculante para ver si se puede desarrollar porque nosotros lo vemos necesario https://github.com/moduon . > en la aeat llaman fecha de operación, en odoo es la fecha contable esto no es del todo correcto, porque está el periodo de liquidación también en la información que se pasa a la aeat, y el problema es que tengamos una desincronización entre la contabilidad de la 472/477 y la fiscalidad. mientras eso no se aclare (y tengamos claro que la fecha de operación es solo para "ver los impuestos válidos"), no se debe incorporar ese campo a nivel de usuario.
__Recursividad__
text | es | hola @enekoaira nos ha pasado lo mismo con esto de los impuestos de alimentos y los errores del sii...
text | es | el problema de habilitar la "fecha de operación", es que la misma determina la deducibilidad de las cuotas de iva.
text | es | y si esa fecha difiere respecto a la "fecha contable" de la factura, habrá una incongruencia respecto a los periodos en los que se liquidan esas facturas dentro de los modelos legales de odoo: - 303 - 349 - liva - otros...
text | es | es decir, también implica hacer un desarrollo extra en todos modelos legales para que priorice incluir en las declaraciones las facturas conforme a "fecha operación" (siempre que esté establecida), por encima de "fecha contable".
text | es | saludos, .
text | es | tratándose de operaciones entre empresas la mayoría de veces, en los que les da igual el iva, ya que son meros intermediarios, la solución más eficaz es cambiar los impuestos a los que toque en la fecha de factura, sin más complicación.
text | es | @soniaviciana gracias por la respuesta.
text | es | no he tenido en cuenta todos esos modelos, supongo que deberíamos consultar la forma de afrontarlo a la propia aeat.
text | es | tengo mi opinión pero no está respaldada.
text | es | no obstante, si así fuere, habría que cambiarlos también.
text | es | que la pereza no nos lleve a no hacer bien las cosas :-) .
text | es | @enekoaira no es pereza, si no practicidad.
text | es | además, ¿tienes pensado tú hacer esas mejoras? .
text | es | > tratándose de operaciones entre empresas la mayoría de veces, en los que les da igual el iva, ya que son meros intermediarios, la solución más eficaz es cambiar los impuestos a los que toque en la fecha de factura, sin más complicación.
text | es | no soy quién para contestar a esto.
text | es | yo no lo haría, otros erps no lo hacen .
text | es | eso de siempre aludir a que "otros erps" tal, bueno, pues vete con el otro erp...
text | es | una cosa está clara: un sistema en el que la fecha contable del asiento de la 472 o 477 no coincide con la fecha efectiva de impuestos es un no muy grande por muchas razones que ahora mismo no voy a desglosar, ya que de todas formas es algo que no se va a hacer en odoo nunca, primero porque el propio odoo no lo permite ni lo va a permitir (ya quitó hace muchos años, a partir de la v9, eso de forzar periodo y fecha del asiento, que permitía hacer más o menos estas cosas), y segundo porque la localización se complicaría de forma inimaginable para un caso tan marginal.
text | es | cierro esta issue como algo que no se realizará.
text | es | @soniaviciana, en realidad creo que la fecha por la que se deben generar los modelos es la fecha de devengo, no la fecha de operación.
text | es | es imposible que sea la fecha de operación la marque el período de devengo, dado que si así fuese sería imposible cumplir lo que indican en las preguntas frecuentes de la aeat sobre como se debe de cubrir el tipo de operación en el caso de rectificativas, por ejemplo.
text | es | (https://sede.agenciatributaria.gob.es/sede/impuestos-tasas/iva/iva-libros-registro-iva-traves-aeat/preguntas-frecuentes/2-registro-cuestiones-comunes.html?faqid=910f6c3d02bc9510vgnvcm100000dc381e0arcrd) en las últimas versiones del sii están validando precisamente que el impuesto reportado esté vigente a "fecha de operación" de la factura informada; con lo cual queda claro que para la aeat la fecha que debe tomarse a la hora de decidir el tributo a aplicar es la fecha de operación (no la fecha de factura, ni la fecha contable, ni la fecha de devengo, ni cualquiera otra fecha que queramos aplicar).
text | es | vuelvo sobre el ejemplo de las rectificativas.
text | es | si en un período p (iva al 4%) tengo que rectificar una factura del período p-1 (con un iva 2%), no puedo simplemente cambiar el iva de la nueva factura rectificativa al 4%, porque entonces mis bases y cuotas no son correctas, ya que he pagado por 2 y rectifico por 4, causando un perjuicio a la hacienda pública; lo cual no les gusta nada y nos pone en el foco de una posible inspección.
text | es | ps: es mi primer aporte a la comunidad de odoo y me he quedado muy ingratamente sorprendido por la reacción tajante , desmesurada y agresiva.
text | es | @soniaviciana si quieres que continuemos esta reflexión conjuntamente puedes escribirme directamente.
text | es | una tirita se arranca mejor de un golpe que poco a poco.
text | es | lo que comentas de las rectificativas es otra cuestión aparte.
text | es | a mí hasta ahora no me han rechazado en el sii una rectificativa hecha con fecha de estos meses (desde octubre) con impuesto del 4%, porque precisamente tienen en cuenta estas cuestiones, y poner fecha de operación de antes de octubre lo considero incorrecto, porque el devengo de la rectificación es ahora, no cuando se hizo la operación rectificada.
text | es | estaré yo confundido, pero insisto en que "fecha de operación" y "período de devengo" no están relacionados.
text | es | sobre la rectificativa, la aeat es clara (por raro que parezca :d): https://sede.agenciatributaria.gob.es/sede/impuestos-tasas/iva/iva-libros-registro-iva-traves-aeat/preguntas-frecuentes/2-registro-cuestiones-comunes.html?faqid=d6ce6c3d02bc9510vgnvcm100000dc381e0arcrd ps: con un poco de agua tibia también salen muy bien las tiritas.
text | es | gracias por el enlace, raúl.
text | es | en el módulo sii, no estamos indicando fecha de operación en ningún caso, sea rectificativa o normal, y hacienda no lo está rechazando, aunque no conocía que la aeat indique que deba ser la fecha de operación de la rectificada.
text | es | de todas formas: - el sii no rechaza rectificativas con el 4% en las fechas actuales.
text | es | - el sii no obliga a poner fecha de operación.
text | es | rellenando "fecha expedición" y "periodo de liquidación" es suficiente.
text | es | - no tengo constancia de notificaciones o inspecciones que indiquen lo contrario.
text | es | por el momento, no veo que haya que hacer nada al respecto para las rectificativas, y empezar a enviar esa fecha generaría muchos flecos, como por ejemplo cuando se hace una rectificativa (como un rappel), sin una factura de origen exacta.
text | es | se podría barajar enviar la fecha de operación de la rectificativa cuando el origen está claro.
text | es | eso a ver qué les parece a otra gente.
text | es | reabro para dar lugar a ese debate, aunque esto sea un tema lateral.
text | es | de cara a la fecha de operación en general, el objetivo aquí es automatizar lo máximo posible el envío y evitar errores, por lo que tener un campo "fecha de operación" manipulable no está entre las características deseables por el momento, salvo que se encuentre alguna causa insalvable, pero si alguien quiere hacerlo, gracias a la capacidad modular de odoo, se puede hacer como un módulo de extensión.
text | es | ah, y otra cosa que veo según la nueva información: la fecha de operación no debe marcar el periodo de liquidación de los impuestos, ya que si no, las rectificativas irían en declaraciones anteriores y no en la que toca.
text | es | parece que ese dato es totalmente caprichoso.
text | es | en nuestro caso, en alguna empresa del grupo, que no es la que usa odoo si hemos tenido problemas de envío al sii por enviar una factura rectificativa con fecha de noviembre, que rectificaba a una de septiembre, y llevaba entre los ivas una parte de iva al 5%.
text | es | dado que ese iva no es válido en octubre, el sii la rechazó, y tuvimos que modificarla indicando que la fecha de operación era septiembre para que la aceptase.
text | es | en resumen, la fecha de operación es la que marca los tributos a aplicar, y la fecha de devengo es la que marca el período en el que se debe incluir en los modelos (al menos de iva, si metemos el irpf por el medio ya nos salen más lios...).
text | es | pd: soy rubén ;d .
text | es | la propuesta de añadir un nuevo campo de "fecha de operación", sin valor por defecto, pero que si está cubierto se informe al sii va precisamente en la línea de que luego, cada empresa según sus necesidades decida como dar valor a este campo: - manualmente por los usuarios - en base a la fecha de los albaranes - en base a la fecha de pedidos - ...
text | es | todo eso sería una cuestión a personalizar en los módulos de cada empresa, según sus necesidades y decisiones.
text | es | así mismo, quien no necesite/quiera hacer nada al respecto simplemente con no alimentar ese campo el comportamiento de su sistema seguirá igual que ahora.
text | es | es por ello que, dado que el concepto de "fecha de operación" es un concepto que define el sii debe de estar contemplado en este módulo el que se envíe.
text | es | y como es, cuando menos, controvertido; de ahí que la propuesta sea crear un campo que cada empresa decida como alimentar (o no) según su caso de uso.
text | es | perdona, rubén, como el login aparece rmosquera, se me ha ido el nombre.
text | es | es raro, acabo de comprobar ahora mismo justo ese caso, y tengo facturas aceptadas por el sii en octubre con iva 4 %.
text | es | si la fecha de operación se considera solo a esos efectos, creo que puede añadirse que se envíe - sin intervención del usuario - en las rectificativas cuando se tiene claro el origen.
text | es | lo de poner ese campo de forma general, no, porque eso repercutiría en la gente tocando sin saber, y teniendo tickets de asistencia por esos temas.
text | es | lo dicho, eso es fácil ponerlo en un módulo extra, e incluso se podría plantear tener ese módulo extra aquí, pero desde luego de base, es muy peligroso.
text | es | al 4% claro que lo van a aceptar, porque es un tipo válido en cualquier mes.
text | es | el caso es con los iva que la aeat si puede validar porque solo han estado activos durante un tiempo, como el 5% o el 2%.
text | es | entiendo, aunque no comparto, el temor de un mal uso de ese campo...
text | es | si está oculto, solo lo activará quien necesite usarlo y debemos confiar en que sepa como usarlo.
text | es | no podemos limitar el caso a las rectificativas, lo uso como ejemplo porque es el más claro y el más explícito; pero cualquier caso en el que facturemos operaciones de un mes en otro, y en ese salto de mes haya un cambio de iva pueden provocar este problema.
text | es | y además, no resuelve el caso de las compras, en las que el proveedor simplemente podría negarse a hacer esto.
text | es | y seguramente también nos daría problemas con los casos de autónomos en régimen especial agrario, que no liquidan iva y por tanto, los estaríamos perjudicando si les facturamos con un tipo de iva más alto.
text | es | y otra cosa para @soniaviciana entonces: con eso no habría que tocar nada de los otros módulos.
text | es | simplemente, habría iva 4% en por ejemplo octubre, pero ya está.
text | es | yo de todas formas, estoy dudando bastante que hacienda permita hacer facturas de cliente del 4% por ejemplo a finales de octubre, por mucho que le digas que la fecha de operación es de septiembre porque la mercancía se envió entonces...
text | es | > no podemos limitar el caso a las rectificativas, lo uso como ejemplo porque es el más claro y el más explícito; pero cualquier caso en el que facturemos operaciones de un mes en otro, y en ese salto de mes haya un cambio de iva pueden provocar este problema no lo limito, solo digo que en este caso es automatizable y sin efectos laterales: se envía si se sabe la factura origen.
text | es | se sigue como hasta ahora si no se sabe (como el de una factura de rappel).
text | es | no es hacerlo mal.
text | es | al contrario, es hacerlo bien, porque la tributación siempre se aplica a las facturas.
text | es | los albaranes no llevan fiscalidad.
text | es | lo otro se admite por dar "cuartelillo".
text | es | pero fíjate que tendrías el mismo problema (por lo menos en odoo, pero también en otros erps), si hiciste un presupuesto hace un año, con los impuestos anteriores, y lo confirmas, envías y facturas ahora.
text | es | tendrás que cambiar igualmente los impuestos a los que tocan ahora.
text | es | no vale poner fecha de operación de hace un año porque era cuando emitiste el presupuesto.
text | es | > y además, no resuelve el caso de las compras, en las que el proveedor simplemente podría negarse a hacer esto.
text | es | > y seguramente también nos daría problemas con los casos de autónomos en régimen especial agrario, que no liquidan iva y por tanto, los estaríamos perjudicando si les facturamos con un tipo de iva más alto.
text | es | como digo, hasta ahora no tengo constancia de ningún rechazo de este tipo.
text | es | y el régimen agrario no está contemplado en el desarrollo actual.
text | es | pero bueno, volvemos a lo mismo: que la fecha de operación se puede implementar en un módulo aparte.
text | es | si es lo bueno que tiene la modularidad.
text | es | efectivamente no deberías facturarlo a finales de octubre; pero no porque no lo admita el sii, que creo que si lo aceptará (sería cuestión de testarlo en el entorno de pruebas).
text | es | el problema ahí sería que incumplirías los plazos de la ley: https://sede.agenciatributaria.gob.es/sede/ayuda/manuales-videos-folletos/manuales-practicos/manual-iva-2021/capitulo-10-obligac-formales-suj-registro/obligaciones-materia-facturacion/plazos-expedicion-envio-facturas.html pero hasta el 16 si podrías: `antes del día 16 del mes siguiente a aquél en que se haya producido el devengo del impuesto correspondiente a la citada operación` .
text | es | el caso del presupuesto y del albarán no son comparables.
text | es | hacienda es clara con que la fecha que marca la fiscalidad es la de "la entrega de la mercancía o de la prestación del servicio"; ni presupuesto, ni pedido, ni factura.
text | es | de hecho, es esa fecha "de entrega de la mercancía o prestación del servicio", la que te marca el plazo para poder emitir la factura, como indico en el comentario anterior.
text | es | por nuestra parte veo necesario este desarrollo, y no sé si lo plantearemos como un módulo específico, o como un fork (con su pr) a la rama 12.0 de este repo (que es la versión en la que aún trabajamos).
text | es | seguramente optemos por lo que técnicamente nos resulte más sencillo.
text | es | si creamos un módulo nuevo no creo que podamos asumir el adaptarlo a las normas de oca, que es algo en lo que no tenemos experiencia, y somos una empresa usuaria final de odoo, no una implantadora.
text | es | pues entonces volvemos al supuesto inicial que teníamos tanto sonia como yo, que es que sí que marca la fecha de operación lo que es la fecha a efectos fiscales, y eso supone esa triple fecha que es una línea roja.
text | es | pero entonces es inconsistente con ese otro enlace que dice que en las rectificativas la fecha de operación debe ser la de la factura origen.
text | es | ¿tal vez la fecha de operación la utiliza hacienda de forma diferente según el tipo de factura? .
text | es | en mi opinión, y aquí entro en el terreno de lo que intuyo pero no puedo asegurar; lo que marca en que modelo debe ir no es ninguna de las fechas, si no el "período" que se indique.
text | es | y apoyo mis suposiciones en que: - los modelos siempre hacen referencia a un período, que puede ser mensual, trimestral o anual.
text | es | en el caso de las empresas en sii, mensual y anual.
text | es | y esos son los campos que efectivamente tiene el registro de "periodo" en el sii.
text | es | - en otra empresa del grupo que no usa odoo estamos reportando las facturas de compra del mes pasado, que registramos antes del 16 del mes en curso, con período de devengo del mes de la factura, para devengarlas lo antes posible.
text | es | llevamos haciendo esto sin problema durante años.
text | es | las contabilizadas después del 16 van el el modelo correspondiente al periodo en el que se contabilizan.
text | es | - existe también en el sii una opción de indicar que el iva de una factura se devengará en un período posterior a aquel en el que se reporta (que se debe usar en casos de proveedores en "criterio de caja".
text | es | entiendo que puede parecer un argumento peregrino pero...
text | es | ¿es posible que ese premodelo no sea correcto?
text | es | en nuestro grupo de empresas no usamos esos premodelos generados por la aeat, por lo que no puedo juzgarlo.
text | es | sobre la documentación de otros erps...
text | es | pues es la información de los casos más generales, y tiene la validez que le demos en base a la credibilidad de la empresa (y de su celo por mantener actualizada la documentación pública).
text | es | y dicho esto, la veo correcta; pero para el caso general y más común, y en el que la información se registra en plazo en el erp.
text | es | ya, pero sin esa confirmación de qué supone la fecha de operación en ese caso, la verdad es que es arriesgado aventurarse a poner un dato.
text | es | no sé si desde la oca tenéis algún canal de comunicación con la aeat para poder plantear esa consulta a nivel técnico, de la correlación entre los datos enviados al sii y los modelos.
text | es | en el erp de la empresa que no usa odoo los tributos tienen el concepto de "fecha de devengo" y ese es el campo que se usa para los modelos y con el que calcula el "periodoliquidacion" para el sii.
text | es | lo hacemos así desde hace tiempo sin problemas.
text | es | entiendo que sin una respuesta que se pueda considerar de una autoridad no se incorporen cambios en esa línea al módulo de la oca.
text | es | nosotros trataremos de hacer nuestro aporte con lo que a nosotros nos sirva.
text | es | @acysos puedes lanzar consulta vinculante sobre este tema?
text | es | en cuanto a lo de la fecha de devengo separada de la fecha contable, es la línea roja que siempre os he comentado.
text | es | no puede ser que se saque un sumas y saldos de una 472/477 y dé un resultado, y en cambio en el 303 se declare otro distinto porque las fechas de devengo son algo diferente.
text | es | legalmente si puede ocurrir esa diferencia, y que los datos sean correctos.
text | es | pero en cualquier caso concuerdo que es algo que si se puede evitar es mucho más práctico, y solo lo ponía como ejemplo y argumento de como creo que funciona el sistema por parte de la aeat.
text | es | no propongo que se incorpore un cambio de este tipo, que bastante tenemos con el debate sobre la "fecha de operación" :d .
text | es | desde mi punto de visto sería muy conveniente que apareciera un nuevo campo de "fecha de operación", sin valor por defecto, pero que si está cubierto se informe al sii puesto que la fecha en la que quiero imputar mi gasto puede ser distinta a la fecha contable, ya que hay hasta el día 16 de cada mes para poder devengarme en el periodo anterior el sii recoge esta casuistica y diferencia entre la fecha de registro contable (fecha en la que se registra la factura) y la fecha de operación (fecha en la que imputo mi gasto), como vemos en la tabla de @rafaelbn tenemos que tener mucho cuidado con la nomenclatura ya que lo que: - en la aeat llaman **fecha de operación**, en odoo es la **fecha contable**
- en la aeat llaman **fecha de registro contable**, es la fecha en la que registro la factura en el programa y la valido y esa fecha la tiene en cuenta la aeat para los plazos del sii esto solo se da en la facturas de proveedor ya que en las de cliente esas dos fechas tienen que ser iguales estoy de acuerdo con todo lo que ha ido exponiendo @rmosquera-aira a ver si @acysos hace la consulta vinculante para ver si se puede desarrollar porque nosotros lo vemos necesario https://github.com/moduon .
text | es | > en la aeat llaman fecha de operación, en odoo es la fecha contable esto no es del todo correcto, porque está el periodo de liquidación también en la información que se pasa a la aeat, y el problema es que tengamos una desincronización entre la contabilidad de la 472/477 y la fiscalidad.
text | es | mientras eso no se aclare (y tengamos claro que la fecha de operación es solo para "ver los impuestos válidos"), no se debe incorporar ese campo a nivel de usuario.
Detalles: total_items: 123 | code_items: 0 | spanish_items: 123 | english_items: 0
recomposed_text: hola @enekoaira nos ha pasado lo mismo con esto de los impuestos de alimentos y los errores del sii... el problema de habilitar la "fecha de operación", es que la misma determina la deducibilidad de las cuotas de iva. y si esa fecha difiere respecto a la "fecha contable" de la factura, habrá una incongruencia respecto a los periodos en los que se liquidan esas facturas dentro de los modelos legales de odoo: - 303 - 349 - liva - otros... es decir, también implica hacer un desarrollo extra en todos modelos legales para que priorice incluir en las declaraciones las facturas conforme a "fecha operación" (siempre que esté establecida), por encima de "fecha contable". saludos, . tratándose de operaciones entre empresas la mayoría de veces, en los que les da igual el iva, ya que son meros intermediarios, la solución más eficaz es cambiar los impuestos a los que toque en la fecha de factura, sin más complicación. @soniaviciana gracias por la respuesta. no he tenido en cuenta todos esos modelos, supongo que deberíamos consultar la forma de afrontarlo a la propia aeat. tengo mi opinión pero no está respaldada. no obstante, si así fuere, habría que cambiarlos también. que la pereza no nos lleve a no hacer bien las cosas :-) . @enekoaira no es pereza, si no practicidad. además, ¿tienes pensado tú hacer esas mejoras? . > tratándose de operaciones entre empresas la mayoría de veces, en los que les da igual el iva, ya que son meros intermediarios, la solución más eficaz es cambiar los impuestos a los que toque en la fecha de factura, sin más complicación. no soy quién para contestar a esto. yo no lo haría, otros erps no lo hacen . eso de siempre aludir a que "otros erps" tal, bueno, pues vete con el otro erp... una cosa está clara: un sistema en el que la fecha contable del asiento de la 472 o 477 no coincide con la fecha efectiva de impuestos es un no muy grande por muchas razones que ahora mismo no voy a desglosar, ya que de todas formas es algo que no se va a hacer en odoo nunca, primero porque el propio odoo no lo permite ni lo va a permitir (ya quitó hace muchos años, a partir de la v9, eso de forzar periodo y fecha del asiento, que permitía hacer más o menos estas cosas), y segundo porque la localización se complicaría de forma inimaginable para un caso tan marginal. cierro esta issue como algo que no se realizará. @soniaviciana, en realidad creo que la fecha por la que se deben generar los modelos es la fecha de devengo, no la fecha de operación. es imposible que sea la fecha de operación la marque el período de devengo, dado que si así fuese sería imposible cumplir lo que indican en las preguntas frecuentes de la aeat sobre como se debe de cubrir el tipo de operación en el caso de rectificativas, por ejemplo. (https://sede.agenciatributaria.gob.es/sede/impuestos-tasas/iva/iva-libros-registro-iva-traves-aeat/preguntas-frecuentes/2-registro-cuestiones-comunes.html?faqid=910f6c3d02bc9510vgnvcm100000dc381e0arcrd) en las últimas versiones del sii están validando precisamente que el impuesto reportado esté vigente a "fecha de operación" de la factura informada; con lo cual queda claro que para la aeat la fecha que debe tomarse a la hora de decidir el tributo a aplicar es la fecha de operación (no la fecha de factura, ni la fecha contable, ni la fecha de devengo, ni cualquiera otra fecha que queramos aplicar). vuelvo sobre el ejemplo de las rectificativas. si en un período p (iva al 4%) tengo que rectificar una factura del período p-1 (con un iva 2%), no puedo simplemente cambiar el iva de la nueva factura rectificativa al 4%, porque entonces mis bases y cuotas no son correctas, ya que he pagado por 2 y rectifico por 4, causando un perjuicio a la hacienda pública; lo cual no les gusta nada y nos pone en el foco de una posible inspección. ps: es mi primer aporte a la comunidad de odoo y me he quedado muy ingratamente sorprendido por la reacción tajante , desmesurada y agresiva. @soniaviciana si quieres que continuemos esta reflexión conjuntamente puedes escribirme directamente. una tirita se arranca mejor de un golpe que poco a poco. lo que comentas de las rectificativas es otra cuestión aparte. a mí hasta ahora no me han rechazado en el sii una rectificativa hecha con fecha de estos meses (desde octubre) con impuesto del 4%, porque precisamente tienen en cuenta estas cuestiones, y poner fecha de operación de antes de octubre lo considero incorrecto, porque el devengo de la rectificación es ahora, no cuando se hizo la operación rectificada. estaré yo confundido, pero insisto en que "fecha de operación" y "período de devengo" no están relacionados. sobre la rectificativa, la aeat es clara (por raro que parezca :d): https://sede.agenciatributaria.gob.es/sede/impuestos-tasas/iva/iva-libros-registro-iva-traves-aeat/preguntas-frecuentes/2-registro-cuestiones-comunes.html?faqid=d6ce6c3d02bc9510vgnvcm100000dc381e0arcrd ps: con un poco de agua tibia también salen muy bien las tiritas. gracias por el enlace, raúl. en el módulo sii, no estamos indicando fecha de operación en ningún caso, sea rectificativa o normal, y hacienda no lo está rechazando, aunque no conocía que la aeat indique que deba ser la fecha de operación de la rectificada. de todas formas: - el sii no rechaza rectificativas con el 4% en las fechas actuales. - el sii no obliga a poner fecha de operación. rellenando "fecha expedición" y "periodo de liquidación" es suficiente. - no tengo constancia de notificaciones o inspecciones que indiquen lo contrario. por el momento, no veo que haya que hacer nada al respecto para las rectificativas, y empezar a enviar esa fecha generaría muchos flecos, como por ejemplo cuando se hace una rectificativa (como un rappel), sin una factura de origen exacta. se podría barajar enviar la fecha de operación de la rectificativa cuando el origen está claro. eso a ver qué les parece a otra gente. reabro para dar lugar a ese debate, aunque esto sea un tema lateral. de cara a la fecha de operación en general, el objetivo aquí es automatizar lo máximo posible el envío y evitar errores, por lo que tener un campo "fecha de operación" manipulable no está entre las características deseables por el momento, salvo que se encuentre alguna causa insalvable, pero si alguien quiere hacerlo, gracias a la capacidad modular de odoo, se puede hacer como un módulo de extensión. ah, y otra cosa que veo según la nueva información: la fecha de operación no debe marcar el periodo de liquidación de los impuestos, ya que si no, las rectificativas irían en declaraciones anteriores y no en la que toca. parece que ese dato es totalmente caprichoso. en nuestro caso, en alguna empresa del grupo, que no es la que usa odoo si hemos tenido problemas de envío al sii por enviar una factura rectificativa con fecha de noviembre, que rectificaba a una de septiembre, y llevaba entre los ivas una parte de iva al 5%. dado que ese iva no es válido en octubre, el sii la rechazó, y tuvimos que modificarla indicando que la fecha de operación era septiembre para que la aceptase. en resumen, la fecha de operación es la que marca los tributos a aplicar, y la fecha de devengo es la que marca el período en el que se debe incluir en los modelos (al menos de iva, si metemos el irpf por el medio ya nos salen más lios...). pd: soy rubén ;d . la propuesta de añadir un nuevo campo de "fecha de operación", sin valor por defecto, pero que si está cubierto se informe al sii va precisamente en la línea de que luego, cada empresa según sus necesidades decida como dar valor a este campo: - manualmente por los usuarios - en base a la fecha de los albaranes - en base a la fecha de pedidos - ... todo eso sería una cuestión a personalizar en los módulos de cada empresa, según sus necesidades y decisiones. así mismo, quien no necesite/quiera hacer nada al respecto simplemente con no alimentar ese campo el comportamiento de su sistema seguirá igual que ahora. es por ello que, dado que el concepto de "fecha de operación" es un concepto que define el sii debe de estar contemplado en este módulo el que se envíe. y como es, cuando menos, controvertido; de ahí que la propuesta sea crear un campo que cada empresa decida como alimentar (o no) según su caso de uso. perdona, rubén, como el login aparece rmosquera, se me ha ido el nombre. es raro, acabo de comprobar ahora mismo justo ese caso, y tengo facturas aceptadas por el sii en octubre con iva 4 %. si la fecha de operación se considera solo a esos efectos, creo que puede añadirse que se envíe - sin intervención del usuario - en las rectificativas cuando se tiene claro el origen. lo de poner ese campo de forma general, no, porque eso repercutiría en la gente tocando sin saber, y teniendo tickets de asistencia por esos temas. lo dicho, eso es fácil ponerlo en un módulo extra, e incluso se podría plantear tener ese módulo extra aquí, pero desde luego de base, es muy peligroso. al 4% claro que lo van a aceptar, porque es un tipo válido en cualquier mes. el caso es con los iva que la aeat si puede validar porque solo han estado activos durante un tiempo, como el 5% o el 2%. entiendo, aunque no comparto, el temor de un mal uso de ese campo... si está oculto, solo lo activará quien necesite usarlo y debemos confiar en que sepa como usarlo. no podemos limitar el caso a las rectificativas, lo uso como ejemplo porque es el más claro y el más explícito; pero cualquier caso en el que facturemos operaciones de un mes en otro, y en ese salto de mes haya un cambio de iva pueden provocar este problema. y además, no resuelve el caso de las compras, en las que el proveedor simplemente podría negarse a hacer esto. y seguramente también nos daría problemas con los casos de autónomos en régimen especial agrario, que no liquidan iva y por tanto, los estaríamos perjudicando si les facturamos con un tipo de iva más alto. y otra cosa para @soniaviciana entonces: con eso no habría que tocar nada de los otros módulos. simplemente, habría iva 4% en por ejemplo octubre, pero ya está. yo de todas formas, estoy dudando bastante que hacienda permita hacer facturas de cliente del 4% por ejemplo a finales de octubre, por mucho que le digas que la fecha de operación es de septiembre porque la mercancía se envió entonces... > no podemos limitar el caso a las rectificativas, lo uso como ejemplo porque es el más claro y el más explícito; pero cualquier caso en el que facturemos operaciones de un mes en otro, y en ese salto de mes haya un cambio de iva pueden provocar este problema no lo limito, solo digo que en este caso es automatizable y sin efectos laterales: se envía si se sabe la factura origen. se sigue como hasta ahora si no se sabe (como el de una factura de rappel). no es hacerlo mal. al contrario, es hacerlo bien, porque la tributación siempre se aplica a las facturas. los albaranes no llevan fiscalidad. lo otro se admite por dar "cuartelillo". pero fíjate que tendrías el mismo problema (por lo menos en odoo, pero también en otros erps), si hiciste un presupuesto hace un año, con los impuestos anteriores, y lo confirmas, envías y facturas ahora. tendrás que cambiar igualmente los impuestos a los que tocan ahora. no vale poner fecha de operación de hace un año porque era cuando emitiste el presupuesto. > y además, no resuelve el caso de las compras, en las que el proveedor simplemente podría negarse a hacer esto. > y seguramente también nos daría problemas con los casos de autónomos en régimen especial agrario, que no liquidan iva y por tanto, los estaríamos perjudicando si les facturamos con un tipo de iva más alto. como digo, hasta ahora no tengo constancia de ningún rechazo de este tipo. y el régimen agrario no está contemplado en el desarrollo actual. pero bueno, volvemos a lo mismo: que la fecha de operación se puede implementar en un módulo aparte. si es lo bueno que tiene la modularidad. efectivamente no deberías facturarlo a finales de octubre; pero no porque no lo admita el sii, que creo que si lo aceptará (sería cuestión de testarlo en el entorno de pruebas). el problema ahí sería que incumplirías los plazos de la ley: https://sede.agenciatributaria.gob.es/sede/ayuda/manuales-videos-folletos/manuales-practicos/manual-iva-2021/capitulo-10-obligac-formales-suj-registro/obligaciones-materia-facturacion/plazos-expedicion-envio-facturas.html pero hasta el 16 si podrías: `antes del día 16 del mes siguiente a aquél en que se haya producido el devengo del impuesto correspondiente a la citada operación` . el caso del presupuesto y del albarán no son comparables. hacienda es clara con que la fecha que marca la fiscalidad es la de "la entrega de la mercancía o de la prestación del servicio"; ni presupuesto, ni pedido, ni factura. de hecho, es esa fecha "de entrega de la mercancía o prestación del servicio", la que te marca el plazo para poder emitir la factura, como indico en el comentario anterior. por nuestra parte veo necesario este desarrollo, y no sé si lo plantearemos como un módulo específico, o como un fork (con su pr) a la rama 12.0 de este repo (que es la versión en la que aún trabajamos). seguramente optemos por lo que técnicamente nos resulte más sencillo. si creamos un módulo nuevo no creo que podamos asumir el adaptarlo a las normas de oca, que es algo en lo que no tenemos experiencia, y somos una empresa usuaria final de odoo, no una implantadora. pues entonces volvemos al supuesto inicial que teníamos tanto sonia como yo, que es que sí que marca la fecha de operación lo que es la fecha a efectos fiscales, y eso supone esa triple fecha que es una línea roja. pero entonces es inconsistente con ese otro enlace que dice que en las rectificativas la fecha de operación debe ser la de la factura origen. ¿tal vez la fecha de operación la utiliza hacienda de forma diferente según el tipo de factura? . en mi opinión, y aquí entro en el terreno de lo que intuyo pero no puedo asegurar; lo que marca en que modelo debe ir no es ninguna de las fechas, si no el "período" que se indique. y apoyo mis suposiciones en que: - los modelos siempre hacen referencia a un período, que puede ser mensual, trimestral o anual. en el caso de las empresas en sii, mensual y anual. y esos son los campos que efectivamente tiene el registro de "periodo" en el sii. - en otra empresa del grupo que no usa odoo estamos reportando las facturas de compra del mes pasado, que registramos antes del 16 del mes en curso, con período de devengo del mes de la factura, para devengarlas lo antes posible. llevamos haciendo esto sin problema durante años. las contabilizadas después del 16 van el el modelo correspondiente al periodo en el que se contabilizan. - existe también en el sii una opción de indicar que el iva de una factura se devengará en un período posterior a aquel en el que se reporta (que se debe usar en casos de proveedores en "criterio de caja". entiendo que puede parecer un argumento peregrino pero... ¿es posible que ese premodelo no sea correcto? en nuestro grupo de empresas no usamos esos premodelos generados por la aeat, por lo que no puedo juzgarlo. sobre la documentación de otros erps... pues es la información de los casos más generales, y tiene la validez que le demos en base a la credibilidad de la empresa (y de su celo por mantener actualizada la documentación pública). y dicho esto, la veo correcta; pero para el caso general y más común, y en el que la información se registra en plazo en el erp. ya, pero sin esa confirmación de qué supone la fecha de operación en ese caso, la verdad es que es arriesgado aventurarse a poner un dato. no sé si desde la oca tenéis algún canal de comunicación con la aeat para poder plantear esa consulta a nivel técnico, de la correlación entre los datos enviados al sii y los modelos. en el erp de la empresa que no usa odoo los tributos tienen el concepto de "fecha de devengo" y ese es el campo que se usa para los modelos y con el que calcula el "periodoliquidacion" para el sii. lo hacemos así desde hace tiempo sin problemas. entiendo que sin una respuesta que se pueda considerar de una autoridad no se incorporen cambios en esa línea al módulo de la oca. nosotros trataremos de hacer nuestro aporte con lo que a nosotros nos sirva. @acysos puedes lanzar consulta vinculante sobre este tema? en cuanto a lo de la fecha de devengo separada de la fecha contable, es la línea roja que siempre os he comentado. no puede ser que se saque un sumas y saldos de una 472/477 y dé un resultado, y en cambio en el 303 se declare otro distinto porque las fechas de devengo son algo diferente. legalmente si puede ocurrir esa diferencia, y que los datos sean correctos. pero en cualquier caso concuerdo que es algo que si se puede evitar es mucho más práctico, y solo lo ponía como ejemplo y argumento de como creo que funciona el sistema por parte de la aeat. no propongo que se incorpore un cambio de este tipo, que bastante tenemos con el debate sobre la "fecha de operación" :d . desde mi punto de visto sería muy conveniente que apareciera un nuevo campo de "fecha de operación", sin valor por defecto, pero que si está cubierto se informe al sii puesto que la fecha en la que quiero imputar mi gasto puede ser distinta a la fecha contable, ya que hay hasta el día 16 de cada mes para poder devengarme en el periodo anterior el sii recoge esta casuistica y diferencia entre la fecha de registro contable (fecha en la que se registra la factura) y la fecha de operación (fecha en la que imputo mi gasto), como vemos en la tabla de @rafaelbn tenemos que tener mucho cuidado con la nomenclatura ya que lo que: - en la aeat llaman **fecha de operación**, en odoo es la **fecha contable**
- en la aeat llaman **fecha de registro contable**, es la fecha en la que registro la factura en el programa y la valido y esa fecha la tiene en cuenta la aeat para los plazos del sii esto solo se da en la facturas de proveedor ya que en las de cliente esas dos fechas tienen que ser iguales estoy de acuerdo con todo lo que ha ido exponiendo @rmosquera-aira a ver si @acysos hace la consulta vinculante para ver si se puede desarrollar porque nosotros lo vemos necesario https://github.com/moduon . > en la aeat llaman fecha de operación, en odoo es la fecha contable esto no es del todo correcto, porque está el periodo de liquidación también en la información que se pasa a la aeat, y el problema es que tengamos una desincronización entre la contabilidad de la 472/477 y la fiscalidad. mientras eso no se aclare (y tengamos claro que la fecha de operación es solo para "ver los impuestos válidos"), no se debe incorporar ese campo a nivel de usuario.

# Entrada procesada 2026-02-09T14:14:26.511855 UTC
text | es | todo esto está ya hecho en 15.0 en adelante.
text | es | revisad prs ya fusionados.
text | es | para 14.0, alguien debe hacer los backports.
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: todo esto está ya hecho en 15.0 en adelante. revisad prs ya fusionados. para 14.0, alguien debe hacer los backports.
__Recursividad__
text | es | todo esto está ya hecho en 15.0 en adelante.
text | es | revisad prs ya fusionados.
text | es | para 14.0, alguien debe hacer los backports.
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: todo esto está ya hecho en 15.0 en adelante. revisad prs ya fusionados. para 14.0, alguien debe hacer los backports.

# Entrada procesada 2026-02-09T14:14:26.525714 UTC
text | es | hola.
text | es | esta cuestión no tiene que ver con los módulos publicados en este repositorio.
text | es | publica por favor tu consulta en los foros de aeodoo para que alguien te pueda orientar, que tiene pinta de configuración.
text | es | cierro por lo expuesto.
Detalles: total_items: 4 | code_items: 0 | spanish_items: 4 | english_items: 0
recomposed_text: hola. esta cuestión no tiene que ver con los módulos publicados en este repositorio. publica por favor tu consulta en los foros de aeodoo para que alguien te pueda orientar, que tiene pinta de configuración. cierro por lo expuesto.
__Recursividad__
text | es | hola.
text | es | esta cuestión no tiene que ver con los módulos publicados en este repositorio.
text | es | publica por favor tu consulta en los foros de aeodoo para que alguien te pueda orientar, que tiene pinta de configuración.
text | es | cierro por lo expuesto.
Detalles: total_items: 4 | code_items: 0 | spanish_items: 4 | english_items: 0
recomposed_text: hola. esta cuestión no tiene que ver con los módulos publicados en este repositorio. publica por favor tu consulta en los foros de aeodoo para que alguien te pueda orientar, que tiene pinta de configuración. cierro por lo expuesto.

# Entrada procesada 2026-02-09T14:14:26.540276 UTC
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 0 | english_items: 2
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
recomposed_text:
__Recursividad__
Detalles: total_items: 0 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text:

# Entrada procesada 2026-02-09T14:14:26.543770 UTC
text | es | hola, esto no es cosa del módulo, si no de tu despliegue: o bien no tienes el código de odoo actualizado, que incluye esos cambios, o bien en tu bd no está actualizado dicho módulo.
text | es | en cualquier caso, cierro esta issue, al no tratarse de un error en el código fuente en si.
text | es | puedes acudir al foro o a listas para solicitar más ayuda.
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: hola, esto no es cosa del módulo, si no de tu despliegue: o bien no tienes el código de odoo actualizado, que incluye esos cambios, o bien en tu bd no está actualizado dicho módulo. en cualquier caso, cierro esta issue, al no tratarse de un error en el código fuente en si. puedes acudir al foro o a listas para solicitar más ayuda.
__Recursividad__
text | es | hola, esto no es cosa del módulo, si no de tu despliegue: o bien no tienes el código de odoo actualizado, que incluye esos cambios, o bien en tu bd no está actualizado dicho módulo.
text | es | en cualquier caso, cierro esta issue, al no tratarse de un error en el código fuente en si.
text | es | puedes acudir al foro o a listas para solicitar más ayuda.
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: hola, esto no es cosa del módulo, si no de tu despliegue: o bien no tienes el código de odoo actualizado, que incluye esos cambios, o bien en tu bd no está actualizado dicho módulo. en cualquier caso, cierro esta issue, al no tratarse de un error en el código fuente en si. puedes acudir al foro o a listas para solicitar más ayuda.

# Entrada procesada 2026-02-09T14:14:26.569357 UTC
text | es | puedes proponer un pr arreglándolo.
code | code | .
text | es | seria lo suyo, pero antes habría que comentar el por que esta oculto el boton de cancelar asiento "button_cancel" en facturas de proveedor cuando tenemos confirmada la factura, aprovechamos y tratamos ambos asuntos en un mismo pr.
code | code | https://github.com/oca/l10n-spain/blob/e1107ce2adfb333daa948cc441970284800555f3/l10n_es_ticketbai/views/account_move_views.xml#l248-l252 .
text | es | de acuerdo.
text | es | eso lo tendrás que ver con los creadores/mantenedores del módulo, ya que al ser algo específico de vuestra parte, los mantenedores habituales de la localización no hemos intervenido.
code | code | .
text | es | buenas @enriquemartin entiendo que la parte de l10n_es_ticketbai la hizo aritz olea en su día y ahora mismo no habría maintainer de ese modulo? .
text | es | buenas @asieracedo no hay maintainer oficial activo no, pero nosotros solemos ser bastante activos en cuanto a prs en los módulos de tbai/batuz .
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
code | code | .
text | es | hola @asieracedo al final no hay pr de esto? .
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Detalles: total_items: 15 | code_items: 4 | spanish_items: 7 | english_items: 4
Dato borrado: code | code | .
Dato borrado: code | code | https://github.com/oca/l10n-spain/blob/e1107ce2adfb333daa948cc441970284800555f3/l10n_es_ticketbai/views/account_move_views.xml#l248-l252 .
Dato borrado: code | code | .
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Dato borrado: code | code | .
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
recomposed_text: puedes proponer un pr arreglándolo. seria lo suyo, pero antes habría que comentar el por que esta oculto el boton de cancelar asiento "button_cancel" en facturas de proveedor cuando tenemos confirmada la factura, aprovechamos y tratamos ambos asuntos en un mismo pr. de acuerdo. eso lo tendrás que ver con los creadores/mantenedores del módulo, ya que al ser algo específico de vuestra parte, los mantenedores habituales de la localización no hemos intervenido. buenas @enriquemartin entiendo que la parte de l10n_es_ticketbai la hizo aritz olea en su día y ahora mismo no habría maintainer de ese modulo? . buenas @asieracedo no hay maintainer oficial activo no, pero nosotros solemos ser bastante activos en cuanto a prs en los módulos de tbai/batuz . hola @asieracedo al final no hay pr de esto? .
__Recursividad__
text | es | puedes proponer un pr arreglándolo.
text | es | seria lo suyo, pero antes habría que comentar el por que esta oculto el boton de cancelar asiento "button_cancel" en facturas de proveedor cuando tenemos confirmada la factura, aprovechamos y tratamos ambos asuntos en un mismo pr.
text | es | de acuerdo.
text | es | eso lo tendrás que ver con los creadores/mantenedores del módulo, ya que al ser algo específico de vuestra parte, los mantenedores habituales de la localización no hemos intervenido.
text | es | buenas @enriquemartin entiendo que la parte de l10n_es_ticketbai la hizo aritz olea en su día y ahora mismo no habría maintainer de ese modulo? .
text | es | buenas @asieracedo no hay maintainer oficial activo no, pero nosotros solemos ser bastante activos en cuanto a prs en los módulos de tbai/batuz .
text | es | hola @asieracedo al final no hay pr de esto? .
Detalles: total_items: 7 | code_items: 0 | spanish_items: 7 | english_items: 0
recomposed_text: puedes proponer un pr arreglándolo. seria lo suyo, pero antes habría que comentar el por que esta oculto el boton de cancelar asiento "button_cancel" en facturas de proveedor cuando tenemos confirmada la factura, aprovechamos y tratamos ambos asuntos en un mismo pr. de acuerdo. eso lo tendrás que ver con los creadores/mantenedores del módulo, ya que al ser algo específico de vuestra parte, los mantenedores habituales de la localización no hemos intervenido. buenas @enriquemartin entiendo que la parte de l10n_es_ticketbai la hizo aritz olea en su día y ahora mismo no habría maintainer de ese modulo? . buenas @asieracedo no hay maintainer oficial activo no, pero nosotros solemos ser bastante activos en cuanto a prs en los módulos de tbai/batuz . hola @asieracedo al final no hay pr de esto? .

# Entrada procesada 2026-02-09T14:14:26.615229 UTC
text | es | el `with` justamente lo que hace es un `close` cuando termina su alcance, así que a priori es lo mismo.
code | code | .
text | es | @pedrobaeza correcto, disculpa.
text | es | haciendo pruebas pensaba que no se bloqueaba por alguna razón, pero también se bloquea (he editado el mensaje de la issue para quitar la alternativa).
text | es | estoy probando en el runbot y ocurre lo mismo: si hay un error durante el envío, hay un bloqueo.
code | code | .
text | es | pero yo no he experimentado nunca ese bloqueo que comentas.
text | es | mira si es por algo específico de esa instancia.
code | code | .
text | es | @pedrobaeza el problema reside en lo de siempre.
text | es | el método de envío sin el queue, que ya sabemos que da muchos problemas/fallos.
text | es | nosotros siempre lo configuramos con el conector en producción, pero hemos detectado este mal funcionamiento en una instancia de pruebas, por ejemplo cuando el sii da errores cuando no hay certificado, etc.
text | es | este tipo de errores (no errores en facturas).
text | es | merece la pena invertir recursos en mejorar ese sistema?
text | es | más que nada es para dejarlo reportado.
text | es | por otra parte, y ya que estamos...
text | es | no sé si merecería la pena hacer desaparecer el sistema "instantáneo" en el refactoring de v17.
text | es | ya nos dices.
code | code | .
text | es | sí, en v17 yo quitaría el sistema instantáneo, puesto que la principal razón era porque `queue_job` no es compatible con odoo.sh, pero ya al no utilizarlo, ya da igual.
text | es | además, se puede hacer instantáneo poniéndolo un retardo de 0.
code | code | .
text | es | > sí, en v17 yo quitaría el sistema instantáneo, puesto que la principal razón era porque `queue_job` no es compatible con odoo.sh, pero ya al no utilizarlo, ya da igual.
text | es | además, se puede hacer instantáneo poniéndolo un retardo de 0.
text | es | ok @manuelregidor teniendo en cuenta estos cambios y para no irnos muy "offtopic", puedes añadir este punto a la lista de faltantes para el refactoring de v17?
text | es | me refiero a lo de eliminar el método instantáneo sin queue, que antes ya hemos barajado esa opción.
code | code | .
text | es | @haraldpanten de acuerdo, lo añado.
text | es | es necesario mantener esta issue abierta?
text | es | gracias.
code | code | .
text | es | > @haraldpanten de acuerdo, lo añado.
text | es | es necesario mantener esta issue abierta?
text | es | gracias.
text | es | creo que no.
text | es | por mí podemos cerrarla
Detalles: total_items: 36 | code_items: 7 | spanish_items: 29 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
recomposed_text: el `with` justamente lo que hace es un `close` cuando termina su alcance, así que a priori es lo mismo. @pedrobaeza correcto, disculpa. haciendo pruebas pensaba que no se bloqueaba por alguna razón, pero también se bloquea (he editado el mensaje de la issue para quitar la alternativa). estoy probando en el runbot y ocurre lo mismo: si hay un error durante el envío, hay un bloqueo. pero yo no he experimentado nunca ese bloqueo que comentas. mira si es por algo específico de esa instancia. @pedrobaeza el problema reside en lo de siempre. el método de envío sin el queue, que ya sabemos que da muchos problemas/fallos. nosotros siempre lo configuramos con el conector en producción, pero hemos detectado este mal funcionamiento en una instancia de pruebas, por ejemplo cuando el sii da errores cuando no hay certificado, etc. este tipo de errores (no errores en facturas). merece la pena invertir recursos en mejorar ese sistema? más que nada es para dejarlo reportado. por otra parte, y ya que estamos... no sé si merecería la pena hacer desaparecer el sistema "instantáneo" en el refactoring de v17. ya nos dices. sí, en v17 yo quitaría el sistema instantáneo, puesto que la principal razón era porque `queue_job` no es compatible con odoo.sh, pero ya al no utilizarlo, ya da igual. además, se puede hacer instantáneo poniéndolo un retardo de 0. > sí, en v17 yo quitaría el sistema instantáneo, puesto que la principal razón era porque `queue_job` no es compatible con odoo.sh, pero ya al no utilizarlo, ya da igual. además, se puede hacer instantáneo poniéndolo un retardo de 0. ok @manuelregidor teniendo en cuenta estos cambios y para no irnos muy "offtopic", puedes añadir este punto a la lista de faltantes para el refactoring de v17? me refiero a lo de eliminar el método instantáneo sin queue, que antes ya hemos barajado esa opción. @haraldpanten de acuerdo, lo añado. es necesario mantener esta issue abierta? gracias. > @haraldpanten de acuerdo, lo añado. es necesario mantener esta issue abierta? gracias. creo que no. por mí podemos cerrarla
__Recursividad__
text | es | el `with` justamente lo que hace es un `close` cuando termina su alcance, así que a priori es lo mismo.
text | es | @pedrobaeza correcto, disculpa.
text | es | haciendo pruebas pensaba que no se bloqueaba por alguna razón, pero también se bloquea (he editado el mensaje de la issue para quitar la alternativa).
text | es | estoy probando en el runbot y ocurre lo mismo: si hay un error durante el envío, hay un bloqueo.
text | es | pero yo no he experimentado nunca ese bloqueo que comentas.
text | es | mira si es por algo específico de esa instancia.
text | es | @pedrobaeza el problema reside en lo de siempre.
text | es | el método de envío sin el queue, que ya sabemos que da muchos problemas/fallos.
text | es | nosotros siempre lo configuramos con el conector en producción, pero hemos detectado este mal funcionamiento en una instancia de pruebas, por ejemplo cuando el sii da errores cuando no hay certificado, etc.
text | es | este tipo de errores (no errores en facturas).
text | es | merece la pena invertir recursos en mejorar ese sistema?
text | es | más que nada es para dejarlo reportado.
text | es | por otra parte, y ya que estamos...
text | es | no sé si merecería la pena hacer desaparecer el sistema "instantáneo" en el refactoring de v17.
text | es | ya nos dices.
text | es | sí, en v17 yo quitaría el sistema instantáneo, puesto que la principal razón era porque `queue_job` no es compatible con odoo.sh, pero ya al no utilizarlo, ya da igual.
text | es | además, se puede hacer instantáneo poniéndolo un retardo de 0.
text | es | > sí, en v17 yo quitaría el sistema instantáneo, puesto que la principal razón era porque `queue_job` no es compatible con odoo.sh, pero ya al no utilizarlo, ya da igual.
text | es | además, se puede hacer instantáneo poniéndolo un retardo de 0.
text | es | ok @manuelregidor teniendo en cuenta estos cambios y para no irnos muy "offtopic", puedes añadir este punto a la lista de faltantes para el refactoring de v17?
text | es | me refiero a lo de eliminar el método instantáneo sin queue, que antes ya hemos barajado esa opción.
text | es | @haraldpanten de acuerdo, lo añado.
text | es | es necesario mantener esta issue abierta?
text | es | gracias.
text | es | > @haraldpanten de acuerdo, lo añado.
text | es | es necesario mantener esta issue abierta?
text | es | gracias.
text | es | creo que no.
text | es | por mí podemos cerrarla
Detalles: total_items: 29 | code_items: 0 | spanish_items: 29 | english_items: 0
recomposed_text: el `with` justamente lo que hace es un `close` cuando termina su alcance, así que a priori es lo mismo. @pedrobaeza correcto, disculpa. haciendo pruebas pensaba que no se bloqueaba por alguna razón, pero también se bloquea (he editado el mensaje de la issue para quitar la alternativa). estoy probando en el runbot y ocurre lo mismo: si hay un error durante el envío, hay un bloqueo. pero yo no he experimentado nunca ese bloqueo que comentas. mira si es por algo específico de esa instancia. @pedrobaeza el problema reside en lo de siempre. el método de envío sin el queue, que ya sabemos que da muchos problemas/fallos. nosotros siempre lo configuramos con el conector en producción, pero hemos detectado este mal funcionamiento en una instancia de pruebas, por ejemplo cuando el sii da errores cuando no hay certificado, etc. este tipo de errores (no errores en facturas). merece la pena invertir recursos en mejorar ese sistema? más que nada es para dejarlo reportado. por otra parte, y ya que estamos... no sé si merecería la pena hacer desaparecer el sistema "instantáneo" en el refactoring de v17. ya nos dices. sí, en v17 yo quitaría el sistema instantáneo, puesto que la principal razón era porque `queue_job` no es compatible con odoo.sh, pero ya al no utilizarlo, ya da igual. además, se puede hacer instantáneo poniéndolo un retardo de 0. > sí, en v17 yo quitaría el sistema instantáneo, puesto que la principal razón era porque `queue_job` no es compatible con odoo.sh, pero ya al no utilizarlo, ya da igual. además, se puede hacer instantáneo poniéndolo un retardo de 0. ok @manuelregidor teniendo en cuenta estos cambios y para no irnos muy "offtopic", puedes añadir este punto a la lista de faltantes para el refactoring de v17? me refiero a lo de eliminar el método instantáneo sin queue, que antes ya hemos barajado esa opción. @haraldpanten de acuerdo, lo añado. es necesario mantener esta issue abierta? gracias. > @haraldpanten de acuerdo, lo añado. es necesario mantener esta issue abierta? gracias. creo que no. por mí podemos cerrarla

# Entrada procesada 2026-02-09T14:14:26.678791 UTC
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 0 | english_items: 2
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
recomposed_text:
__Recursividad__
Detalles: total_items: 0 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text:

# Entrada procesada 2026-02-09T14:14:26.684091 UTC
text | es | @fcvalgar es correcto.
text | es | el libro de iva no se ha actualizado conforme a los nuevos impuestos.
code | code | .
text | es | @haraldpanten a ver si mi compañero @edlopen nos puede lanzar un pr para añadir esos mapeos.
code | code | .
text | es | @haraldpanten @fcvalgar os dejo el pr para que lo probéis.
code | code | ¡gracias! https://github.com/oca/l10n-spain/pull/3813 .
code | code | esta issue se puede cerrar porque se resolvió en https://github.com/oca/l10n-spain/pull/3813 .
text | es | falta hacer backport/fw-port.
code | code | .
text | es | ya está llevado a 15.0 y rehecho en 17.0.
text | es | los nuevos ivas no deducibles estaban mapeados incorrectamente en 16.0 y ya está también arreglado.
Detalles: total_items: 12 | code_items: 5 | spanish_items: 7 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | ¡gracias! https://github.com/oca/l10n-spain/pull/3813 .
Dato borrado: code | code | esta issue se puede cerrar porque se resolvió en https://github.com/oca/l10n-spain/pull/3813 .
Dato borrado: code | code | .
recomposed_text: @fcvalgar es correcto. el libro de iva no se ha actualizado conforme a los nuevos impuestos. @haraldpanten a ver si mi compañero @edlopen nos puede lanzar un pr para añadir esos mapeos. @haraldpanten @fcvalgar os dejo el pr para que lo probéis. falta hacer backport/fw-port. ya está llevado a 15.0 y rehecho en 17.0. los nuevos ivas no deducibles estaban mapeados incorrectamente en 16.0 y ya está también arreglado.
__Recursividad__
text | es | @fcvalgar es correcto.
text | es | el libro de iva no se ha actualizado conforme a los nuevos impuestos.
text | es | @haraldpanten a ver si mi compañero @edlopen nos puede lanzar un pr para añadir esos mapeos.
text | es | @haraldpanten @fcvalgar os dejo el pr para que lo probéis.
text | es | falta hacer backport/fw-port.
text | es | ya está llevado a 15.0 y rehecho en 17.0.
text | es | los nuevos ivas no deducibles estaban mapeados incorrectamente en 16.0 y ya está también arreglado.
Detalles: total_items: 7 | code_items: 0 | spanish_items: 7 | english_items: 0
recomposed_text: @fcvalgar es correcto. el libro de iva no se ha actualizado conforme a los nuevos impuestos. @haraldpanten a ver si mi compañero @edlopen nos puede lanzar un pr para añadir esos mapeos. @haraldpanten @fcvalgar os dejo el pr para que lo probéis. falta hacer backport/fw-port. ya está llevado a 15.0 y rehecho en 17.0. los nuevos ivas no deducibles estaban mapeados incorrectamente en 16.0 y ya está también arreglado.

# Entrada procesada 2026-02-09T14:14:26.706886 UTC
text | es | hola, la opción de importar módulos solo sirve para módulos que no contengan código (módulos de datos, como los de industria), por lo que no es válida para casi ningún módulo.
text | es | debes incluir el módulo en tu addons path de odoo, y reiniciar la instancia una vez colocado.
text | es | cierro, ya que no es un ningún fallo del módulo, si no de cómo se ha intentado desplegar.
code | code | .
text | es | gracias por la respuesta pedro.
text | es | no tenía ni idea.
Detalles: total_items: 6 | code_items: 1 | spanish_items: 5 | english_items: 0
Dato borrado: code | code | .
recomposed_text: hola, la opción de importar módulos solo sirve para módulos que no contengan código (módulos de datos, como los de industria), por lo que no es válida para casi ningún módulo. debes incluir el módulo en tu addons path de odoo, y reiniciar la instancia una vez colocado. cierro, ya que no es un ningún fallo del módulo, si no de cómo se ha intentado desplegar. gracias por la respuesta pedro. no tenía ni idea.
__Recursividad__
text | es | hola, la opción de importar módulos solo sirve para módulos que no contengan código (módulos de datos, como los de industria), por lo que no es válida para casi ningún módulo.
text | es | debes incluir el módulo en tu addons path de odoo, y reiniciar la instancia una vez colocado.
text | es | cierro, ya que no es un ningún fallo del módulo, si no de cómo se ha intentado desplegar.
text | es | gracias por la respuesta pedro.
text | es | no tenía ni idea.
Detalles: total_items: 5 | code_items: 0 | spanish_items: 5 | english_items: 0
recomposed_text: hola, la opción de importar módulos solo sirve para módulos que no contengan código (módulos de datos, como los de industria), por lo que no es válida para casi ningún módulo. debes incluir el módulo en tu addons path de odoo, y reiniciar la instancia una vez colocado. cierro, ya que no es un ningún fallo del módulo, si no de cómo se ha intentado desplegar. gracias por la respuesta pedro. no tenía ni idea.

# Entrada procesada 2026-02-09T14:14:26.726781 UTC
text | es | efectivamente es incorrecto.
code | code | arreglado en https://github.com/oca/l10n-spain/commit/2ec7e5299e66a6d17e385017e14df36edbd19edb
Detalles: total_items: 2 | code_items: 1 | spanish_items: 1 | english_items: 0
Dato borrado: code | code | arreglado en https://github.com/oca/l10n-spain/commit/2ec7e5299e66a6d17e385017e14df36edbd19edb
recomposed_text: efectivamente es incorrecto.
__Recursividad__
text | es | efectivamente es incorrecto.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: efectivamente es incorrecto.

# Entrada procesada 2026-02-09T14:14:26.736543 UTC
text | es | el comprobador es una herramienta de depuración con sus limitaciones, y en el 303 tal como está no sirve.
text | es | se aceptan mejoras en el mismo, pero no es un error como tal, si no una limitación.
code | code | .
text | es | entiendo, muchas gracias por la respuesta.
text | es | saludos!
Detalles: total_items: 5 | code_items: 1 | spanish_items: 4 | english_items: 0
Dato borrado: code | code | .
recomposed_text: el comprobador es una herramienta de depuración con sus limitaciones, y en el 303 tal como está no sirve. se aceptan mejoras en el mismo, pero no es un error como tal, si no una limitación. entiendo, muchas gracias por la respuesta. saludos!
__Recursividad__
text | es | el comprobador es una herramienta de depuración con sus limitaciones, y en el 303 tal como está no sirve.
text | es | se aceptan mejoras en el mismo, pero no es un error como tal, si no una limitación.
text | es | entiendo, muchas gracias por la respuesta.
text | es | saludos!
Detalles: total_items: 4 | code_items: 0 | spanish_items: 4 | english_items: 0
recomposed_text: el comprobador es una herramienta de depuración con sus limitaciones, y en el 303 tal como está no sirve. se aceptan mejoras en el mismo, pero no es un error como tal, si no una limitación. entiendo, muchas gracias por la respuesta. saludos!

# Entrada procesada 2026-02-09T14:14:26.759489 UTC
text | es | diría que has cambiado las cuentas estándar 472/477.
code | code | .
text | es | gracias por tu rapida respuesta amigo pedro.
text | es | no he cambiado nada simplemente he instalado todo y estoy haciendo pruebas antes de utilizar este sistema el proximo año.
code | code | podrias decirme como habria podido cambiar estas cuentas y como restaurar esto para que funcione correctamente ? muchisimas gracias pedro ![impuesto](https://github.com/user-attachments/assets/090ad9ee-30bd-4ab1-9671-e5026fe44580) este es el tipo de impuesto que he usado.
code | code | .
code | code | tengo diferentes backups en mi proxmox y he cargado la primera imgen que cree cuando estaba el sistema con las addons sin ningun tipo de cambio y he hecho una simulacion y obtengo el mismo resultado , no hay nada en casillas 11 y 37 ![addons](https://github.com/user-attachments/assets/d6e8bda1-3c5d-47c4-9901-1409ad321331) crees que es algun tipo de bug ? has intentado replicar esto? o crees que en mi maquina hay alguna configuración cambiada? gracias pedro .
text | es | el impuesto que debes utilizar es "iva 21% adquisición de servicios intracomunitarios", no "iva 0% adquisición de servicios intracomunitarios", o mejor aún, establece el "iva 21% (servicios)" en el producto, y la posición fiscal "régimen intracomunitario" en el proveedor, y te lo hará solo el sistema.
code | code | .
text | es | muchisimas gracias pedro por tu ayuda asi como dices si ha funcionado correctamente pido disculpas por abrir este hilo con el tag de bug puesto que no lo es .
text | es | gracias de nuevo por tu ayuda amigo.
code | code | ![ok](https://github.com/user-attachments/assets/2a7a422a-f9ca-4fa9-b057-3bba3e7995f9)
Detalles: total_items: 12 | code_items: 6 | spanish_items: 6 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | podrias decirme como habria podido cambiar estas cuentas y como restaurar esto para que funcione correctamente ? muchisimas gracias pedro ![impuesto](https://github.com/user-attachments/assets/090ad9ee-30bd-4ab1-9671-e5026fe44580) este es el tipo de impuesto que he usado.
Dato borrado: code | code | .
Dato borrado: code | code | tengo diferentes backups en mi proxmox y he cargado la primera imgen que cree cuando estaba el sistema con las addons sin ningun tipo de cambio y he hecho una simulacion y obtengo el mismo resultado , no hay nada en casillas 11 y 37 ![addons](https://github.com/user-attachments/assets/d6e8bda1-3c5d-47c4-9901-1409ad321331) crees que es algun tipo de bug ? has intentado replicar esto? o crees que en mi maquina hay alguna configuración cambiada? gracias pedro .
Dato borrado: code | code | .
Dato borrado: code | code | ![ok](https://github.com/user-attachments/assets/2a7a422a-f9ca-4fa9-b057-3bba3e7995f9)
recomposed_text: diría que has cambiado las cuentas estándar 472/477. gracias por tu rapida respuesta amigo pedro. no he cambiado nada simplemente he instalado todo y estoy haciendo pruebas antes de utilizar este sistema el proximo año. el impuesto que debes utilizar es "iva 21% adquisición de servicios intracomunitarios", no "iva 0% adquisición de servicios intracomunitarios", o mejor aún, establece el "iva 21% (servicios)" en el producto, y la posición fiscal "régimen intracomunitario" en el proveedor, y te lo hará solo el sistema. muchisimas gracias pedro por tu ayuda asi como dices si ha funcionado correctamente pido disculpas por abrir este hilo con el tag de bug puesto que no lo es . gracias de nuevo por tu ayuda amigo.
__Recursividad__
text | es | diría que has cambiado las cuentas estándar 472/477.
text | es | gracias por tu rapida respuesta amigo pedro.
text | es | no he cambiado nada simplemente he instalado todo y estoy haciendo pruebas antes de utilizar este sistema el proximo año.
text | es | el impuesto que debes utilizar es "iva 21% adquisición de servicios intracomunitarios", no "iva 0% adquisición de servicios intracomunitarios", o mejor aún, establece el "iva 21% (servicios)" en el producto, y la posición fiscal "régimen intracomunitario" en el proveedor, y te lo hará solo el sistema.
text | es | muchisimas gracias pedro por tu ayuda asi como dices si ha funcionado correctamente pido disculpas por abrir este hilo con el tag de bug puesto que no lo es .
text | es | gracias de nuevo por tu ayuda amigo.
Detalles: total_items: 6 | code_items: 0 | spanish_items: 6 | english_items: 0
recomposed_text: diría que has cambiado las cuentas estándar 472/477. gracias por tu rapida respuesta amigo pedro. no he cambiado nada simplemente he instalado todo y estoy haciendo pruebas antes de utilizar este sistema el proximo año. el impuesto que debes utilizar es "iva 21% adquisición de servicios intracomunitarios", no "iva 0% adquisición de servicios intracomunitarios", o mejor aún, establece el "iva 21% (servicios)" en el producto, y la posición fiscal "régimen intracomunitario" en el proveedor, y te lo hará solo el sistema. muchisimas gracias pedro por tu ayuda asi como dices si ha funcionado correctamente pido disculpas por abrir este hilo con el tag de bug puesto que no lo es . gracias de nuevo por tu ayuda amigo.

__Corrector Ortográfico__2026-02-09T14:14:26.759489
'configurancion' se corrige por 'configuración'

# Entrada procesada 2026-02-09T14:14:26.791245 UTC
text | es | alguien le puede intentar echar un ojo a esto?
text | es | lo necesitamos para fin de año...
text | es | no nos importa pagar por el tiempo.
text | es | gracias.
code | code | .
text | es | > alguien le puede intentar echar un ojo a esto?
text | es | lo necesitamos para fin de año...
text | es | no nos importa pagar por el tiempo.
text | es | gracias.
code | code | @buildamoc lo hemos corregido en este [pr](https://github.com/oca/l10n-spain/pull/4121) cara sonriendo con ojos sonrientes
Detalles: total_items: 10 | code_items: 2 | spanish_items: 8 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | @buildamoc lo hemos corregido en este [pr](https://github.com/oca/l10n-spain/pull/4121) cara sonriendo con ojos sonrientes
recomposed_text: alguien le puede intentar echar un ojo a esto? lo necesitamos para fin de año... no nos importa pagar por el tiempo. gracias. > alguien le puede intentar echar un ojo a esto? lo necesitamos para fin de año... no nos importa pagar por el tiempo. gracias.
__Recursividad__
text | es | alguien le puede intentar echar un ojo a esto?
text | es | lo necesitamos para fin de año...
text | es | no nos importa pagar por el tiempo.
text | es | gracias.
text | es | > alguien le puede intentar echar un ojo a esto?
text | es | lo necesitamos para fin de año...
text | es | no nos importa pagar por el tiempo.
text | es | gracias.
Detalles: total_items: 8 | code_items: 0 | spanish_items: 8 | english_items: 0
recomposed_text: alguien le puede intentar echar un ojo a esto? lo necesitamos para fin de año... no nos importa pagar por el tiempo. gracias. > alguien le puede intentar echar un ojo a esto? lo necesitamos para fin de año... no nos importa pagar por el tiempo. gracias.

# Entrada procesada 2026-02-09T14:14:26.812581 UTC
text | es | nota para cuando comencemos con la migración de aeat, sii, etc: revisar el módulo core `certificate` para ver si provee ya de base las herramientas para la gestión de certificados.
code | code | .
text | es | i'm migrating l10n_es_partner .
text | es | trabajando en l10n_es_igic .
code | code | working on `l10n_es_toponyms` .
text | en | working on payment_redsys .
code | code | are there plans to migrate the modules not yet migrated in version 17? specifically, i'm referring to:
- l10n_es_ticketbai
- l10n_es_ticketbai_api
- l10n_es_ticketbai_api_batuz
- l10n_es_ticketbai_batuz .
code | code | @gasteizko a partir de la v17.0 esta incluido en el core de odoo https://github.com/oca/ocb/tree/17.0/addons/l10n_es_edi_tbai .
code | code | > [@gasteizko](https://github.com/gasteizko) a partir de la v17.0 esta incluido en el core de odoo
> > https://github.com/oca/ocb/tree/17.0/addons/l10n_es_edi_tbai si, pero paso lo mismo con el sii, que esta en el core, pero le faltan cosas y no funciona bien con los irpf.
text | es | ahí ya es decisión más de los que están en el país vasco que quieren hacer.
code | code | .
code | code | working on l10n_es_account_asset #4217 .
text | en | working on l10n_es_account_banking_sepa_fsdd #4219 .
code | code | working on l10n_es_cnae #4236 .
text | es | hay planes de migrar el modelo 190? .
text | es | hay plan sobre el modulo de verifactu? .
code | code | working on l10n_es_aeat_patner_check #4283 .
text | es | buenas tardes, se migrará el módulo l10n_es_vat_book_pos a la v18???
Detalles: total_items: 18 | code_items: 9 | spanish_items: 7 | english_items: 2
Dato borrado: code | code | .
Dato borrado: code | code | working on `l10n_es_toponyms` .
Dato borrado: text | en | working on payment_redsys .
Dato borrado: code | code | are there plans to migrate the modules not yet migrated in version 17? specifically, i'm referring to:
- l10n_es_ticketbai
- l10n_es_ticketbai_api
- l10n_es_ticketbai_api_batuz
- l10n_es_ticketbai_batuz .
Dato borrado: code | code | @gasteizko a partir de la v17.0 esta incluido en el core de odoo https://github.com/oca/ocb/tree/17.0/addons/l10n_es_edi_tbai .
Dato borrado: code | code | > [@gasteizko](https://github.com/gasteizko) a partir de la v17.0 esta incluido en el core de odoo
> > https://github.com/oca/ocb/tree/17.0/addons/l10n_es_edi_tbai si, pero paso lo mismo con el sii, que esta en el core, pero le faltan cosas y no funciona bien con los irpf.
Dato borrado: code | code | .
Dato borrado: code | code | working on l10n_es_account_asset #4217 .
Dato borrado: text | en | working on l10n_es_account_banking_sepa_fsdd #4219 .
Dato borrado: code | code | working on l10n_es_cnae #4236 .
Dato borrado: code | code | working on l10n_es_aeat_patner_check #4283 .
recomposed_text: nota para cuando comencemos con la migración de aeat, sii, etc: revisar el módulo core `certificate` para ver si provee ya de base las herramientas para la gestión de certificados. i'm migrating l10n_es_partner . trabajando en l10n_es_igic . ahí ya es decisión más de los que están en el país vasco que quieren hacer. hay planes de migrar el modelo 190? . hay plan sobre el modulo de verifactu? . buenas tardes, se migrará el módulo l10n_es_vat_book_pos a la v18???
__Recursividad__
text | es | nota para cuando comencemos con la migración de aeat, sii, etc: revisar el módulo core `certificate` para ver si provee ya de base las herramientas para la gestión de certificados.
text | es | i'm migrating l10n_es_partner .
text | es | trabajando en l10n_es_igic .
text | es | ahí ya es decisión más de los que están en el país vasco que quieren hacer.
text | es | hay planes de migrar el modelo 190? .
text | es | hay plan sobre el modulo de verifactu? .
text | es | buenas tardes, se migrará el módulo l10n_es_vat_book_pos a la v18???
Detalles: total_items: 7 | code_items: 0 | spanish_items: 7 | english_items: 0
recomposed_text: nota para cuando comencemos con la migración de aeat, sii, etc: revisar el módulo core `certificate` para ver si provee ya de base las herramientas para la gestión de certificados. i'm migrating l10n_es_partner . trabajando en l10n_es_igic . ahí ya es decisión más de los que están en el país vasco que quieren hacer. hay planes de migrar el modelo 190? . hay plan sobre el modulo de verifactu? . buenas tardes, se migrará el módulo l10n_es_vat_book_pos a la v18???

# Entrada procesada 2026-02-09T14:14:26.840349 UTC
text | es | @sergio-teruel tienes información sobre este punto? .
text | es | hola @valentinvinagre no recuerdo bien, seguramente será por herencia del pasado.
text | es | tendría que analizar en profundidad .
code | code | gracias por contestar, efectivamente se puede quitar esa dependencia sin problemas, es dinamica y esta relativamente bien protegida aqui https://github.com/oca/l10n-spain/blob/2ffc60e53c05330b3fada7c4f927b37abe3eab42/payment_redsys/models/payment_provider.py#l103 nosotros ya estamos usando el modulo sin la dependencia, y teniendo correctamente configurado web.base.url funciona muy bien .
text | es | perfecto, pues si alguien podéis hacer el pull request, así queda bien establecido.
text | es | indicad por favor en el readme la cuestión de `web.base.url` o del dominio cuanto se tiene website.
code | code | .
text | es | ¡qué bien visto! ¿
text | es | @ijol os encargáis del pr?
text | es | podemos hacerlo nosotros desde sygel sin problema sino.
text | es | avisadnos y nos organizamos.
text | es | ¡gracias!
text | es | un saludo, .
text | es | @ijol ¿puedes hacerme ping en el pr?
Detalles: total_items: 14 | code_items: 2 | spanish_items: 12 | english_items: 0
Dato borrado: code | code | gracias por contestar, efectivamente se puede quitar esa dependencia sin problemas, es dinamica y esta relativamente bien protegida aqui https://github.com/oca/l10n-spain/blob/2ffc60e53c05330b3fada7c4f927b37abe3eab42/payment_redsys/models/payment_provider.py#l103 nosotros ya estamos usando el modulo sin la dependencia, y teniendo correctamente configurado web.base.url funciona muy bien .
Dato borrado: code | code | .
recomposed_text: @sergio-teruel tienes información sobre este punto? . hola @valentinvinagre no recuerdo bien, seguramente será por herencia del pasado. tendría que analizar en profundidad . perfecto, pues si alguien podéis hacer el pull request, así queda bien establecido. indicad por favor en el readme la cuestión de `web.base.url` o del dominio cuanto se tiene website. ¡qué bien visto! ¿ @ijol os encargáis del pr? podemos hacerlo nosotros desde sygel sin problema sino. avisadnos y nos organizamos. ¡gracias! un saludo, . @ijol ¿puedes hacerme ping en el pr?
__Recursividad__
text | es | @sergio-teruel tienes información sobre este punto? .
text | es | hola @valentinvinagre no recuerdo bien, seguramente será por herencia del pasado.
text | es | tendría que analizar en profundidad .
text | es | perfecto, pues si alguien podéis hacer el pull request, así queda bien establecido.
text | es | indicad por favor en el readme la cuestión de `web.base.url` o del dominio cuanto se tiene website.
text | es | ¡qué bien visto! ¿
text | es | @ijol os encargáis del pr?
text | es | podemos hacerlo nosotros desde sygel sin problema sino.
text | es | avisadnos y nos organizamos.
text | es | ¡gracias!
text | es | un saludo, .
text | es | @ijol ¿puedes hacerme ping en el pr?
Detalles: total_items: 12 | code_items: 0 | spanish_items: 12 | english_items: 0
recomposed_text: @sergio-teruel tienes información sobre este punto? . hola @valentinvinagre no recuerdo bien, seguramente será por herencia del pasado. tendría que analizar en profundidad . perfecto, pues si alguien podéis hacer el pull request, así queda bien establecido. indicad por favor en el readme la cuestión de `web.base.url` o del dominio cuanto se tiene website. ¡qué bien visto! ¿ @ijol os encargáis del pr? podemos hacerlo nosotros desde sygel sin problema sino. avisadnos y nos organizamos. ¡gracias! un saludo, . @ijol ¿puedes hacerme ping en el pr?

# Entrada procesada 2026-02-09T14:14:26.874812 UTC
text | es | hello mano levantada tono de piel claro medio !
text | und | please @etobella @pedrobaeza @haraldpanten could review this proposal please?
text | en | thank you very much!
text | es | cara sonriendo con ojos sonrientes corazón rojo for me is pulgar hacia arriba tono de piel claro medio , really nice video @arantxasudon corazón con flecha cara con manos abrazando .
code | code | https://github.com/oca/l10n-spain/pull/3715 .
text | es | cierro al estar el pr propuesto.
code | code | .
code | code | @etobella gracias por remitirme a este pr pero he vuelto a probarlo y no hace lo que comento en el vídeo @pedrobaeza podrías, por favor, volver a abrir este issue ![captura desde 2024-09-26 13-14-59](https://github.com/user-attachments/assets/fcae54c2-e87e-4e96-a7ec-36ea2e08aa6e) como veréis en esta captura, yo hago las pruebas y grabo el vídeo con el pr https://github.com/oca/l10n-spain/pull/3715 ya aprobado y lo que comento aquí sigue reproduciéndose he vuelto a repetirlo, comprobando que el módulo estaba instalado y, es cierto que: - si se utiliza **distinto impuesto**, las líneas de la prorrata si se desdoblan - pero si utilizo el **mismo impuesto** (que es lo que suele ocurrir), entonces la líneas no se desdoblan y va todo a la misma línea de gasto.
text | es | creo que, si os fijais en el vídeo que os dejé, se ve perfectamente como me lo deja en una solo línea muchas gracias @rafaelbn @emiliopascual mt-1809 @moduon .
text | es | esto no es un pr, si no un issue.
text | es | los comentarios correspondientes deberían hacerse en el pr de enric.
code | code | .
code | code | @pedrobaeza entonces vuelvo a poner todo esto en https://github.com/oca/l10n-spain/pull/3715 ? yo no soy técnico, soy funcional y aporto todo lo que puedo para mejorar y si tú me dices que lo cambie, que eres el que sabe como funciona, no hay ningún problema, lo cambio en un segundo .
text | es | a ver, el pr está cerrado y mergeado y yo no podré dedicarle tiempo a resolverlo, si queréis, podéis abrir un pr y, si puedo, ya lo revisaré, es lo máximo que os puedo ofrecer.
code | code | .
text | es | gracias @etobella .
text | es | ok, si #3715 no es lo que se comenta en esta issue, entonces reabro para seguir reflejándolo hasta que haya un pr que lo haga.
text | es | disculpad la confusión.
code | code | .
text | es | muchas gracias @pedrobaeza .
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Detalles: total_items: 22 | code_items: 7 | spanish_items: 11 | english_items: 3
Dato borrado: text | en | thank you very much!
Dato borrado: code | code | https://github.com/oca/l10n-spain/pull/3715 .
Dato borrado: code | code | .
Dato borrado: code | code | @etobella gracias por remitirme a este pr pero he vuelto a probarlo y no hace lo que comento en el vídeo @pedrobaeza podrías, por favor, volver a abrir este issue ![captura desde 2024-09-26 13-14-59](https://github.com/user-attachments/assets/fcae54c2-e87e-4e96-a7ec-36ea2e08aa6e) como veréis en esta captura, yo hago las pruebas y grabo el vídeo con el pr https://github.com/oca/l10n-spain/pull/3715 ya aprobado y lo que comento aquí sigue reproduciéndose he vuelto a repetirlo, comprobando que el módulo estaba instalado y, es cierto que: - si se utiliza **distinto impuesto**, las líneas de la prorrata si se desdoblan - pero si utilizo el **mismo impuesto** (que es lo que suele ocurrir), entonces la líneas no se desdoblan y va todo a la misma línea de gasto.
Dato borrado: code | code | .
Dato borrado: code | code | @pedrobaeza entonces vuelvo a poner todo esto en https://github.com/oca/l10n-spain/pull/3715 ? yo no soy técnico, soy funcional y aporto todo lo que puedo para mejorar y si tú me dices que lo cambie, que eres el que sabe como funciona, no hay ningún problema, lo cambio en un segundo .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
recomposed_text: hello mano levantada tono de piel claro medio ! please @etobella @pedrobaeza @haraldpanten could review this proposal please? cara sonriendo con ojos sonrientes corazón rojo for me is pulgar hacia arriba tono de piel claro medio , really nice video @arantxasudon corazón con flecha cara con manos abrazando . cierro al estar el pr propuesto. creo que, si os fijais en el vídeo que os dejé, se ve perfectamente como me lo deja en una solo línea muchas gracias @rafaelbn @emiliopascual mt-1809 @moduon . esto no es un pr, si no un issue. los comentarios correspondientes deberían hacerse en el pr de enric. a ver, el pr está cerrado y mergeado y yo no podré dedicarle tiempo a resolverlo, si queréis, podéis abrir un pr y, si puedo, ya lo revisaré, es lo máximo que os puedo ofrecer. gracias @etobella . ok, si #3715 no es lo que se comenta en esta issue, entonces reabro para seguir reflejándolo hasta que haya un pr que lo haga. disculpad la confusión. muchas gracias @pedrobaeza .
__Recursividad__
text | es | hello mano levantada tono de piel claro medio !
text | und | please @etobella @pedrobaeza @haraldpanten could review this proposal please?
text | es | cara sonriendo con ojos sonrientes corazón rojo for me is pulgar hacia arriba tono de piel claro medio , really nice video @arantxasudon corazón con flecha cara con manos abrazando .
text | es | cierro al estar el pr propuesto.
text | es | creo que, si os fijais en el vídeo que os dejé, se ve perfectamente como me lo deja en una solo línea muchas gracias @rafaelbn @emiliopascual mt-1809 @moduon .
text | es | esto no es un pr, si no un issue.
text | es | los comentarios correspondientes deberían hacerse en el pr de enric.
text | es | a ver, el pr está cerrado y mergeado y yo no podré dedicarle tiempo a resolverlo, si queréis, podéis abrir un pr y, si puedo, ya lo revisaré, es lo máximo que os puedo ofrecer.
text | es | gracias @etobella .
text | es | ok, si #3715 no es lo que se comenta en esta issue, entonces reabro para seguir reflejándolo hasta que haya un pr que lo haga.
text | es | disculpad la confusión.
text | es | muchas gracias @pedrobaeza .
Detalles: total_items: 12 | code_items: 0 | spanish_items: 11 | english_items: 0
Dato borrado: text | und | please @etobella @pedrobaeza @haraldpanten could review this proposal please?
recomposed_text: hello mano levantada tono de piel claro medio ! cara sonriendo con ojos sonrientes corazón rojo for me is pulgar hacia arriba tono de piel claro medio , really nice video @arantxasudon corazón con flecha cara con manos abrazando . cierro al estar el pr propuesto. creo que, si os fijais en el vídeo que os dejé, se ve perfectamente como me lo deja en una solo línea muchas gracias @rafaelbn @emiliopascual mt-1809 @moduon . esto no es un pr, si no un issue. los comentarios correspondientes deberían hacerse en el pr de enric. a ver, el pr está cerrado y mergeado y yo no podré dedicarle tiempo a resolverlo, si queréis, podéis abrir un pr y, si puedo, ya lo revisaré, es lo máximo que os puedo ofrecer. gracias @etobella . ok, si #3715 no es lo que se comenta en esta issue, entonces reabro para seguir reflejándolo hasta que haya un pr que lo haga. disculpad la confusión. muchas gracias @pedrobaeza .

# Entrada procesada 2026-02-09T14:14:26.910135 UTC
text | es | se soluciono solo parece que era cosa de ellos
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: se soluciono solo parece que era cosa de ellos
__Recursividad__
text | es | se soluciono solo parece que era cosa de ellos
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: se soluciono solo parece que era cosa de ellos

# Entrada procesada 2026-02-09T14:14:26.932290 UTC
text | es | ¿a alguien más le pasa? .
text | es | @keiverobles efectivamente así es.
text | es | la solución pasa por refactorizar la forma en la que se recogen los datos para conformar el xml.
text | es | se tiene que hacer agrupando por tipo impositivo.
text | es | en su momento se trató el tema pero de momento nadie a tomado la iniciativa de plantear una solución.
text | es | gracias por el issue porque aquí queda perfectamente explicado el problema pulgar hacia arriba .
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Detalles: total_items: 8 | code_items: 0 | spanish_items: 6 | english_items: 2
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
recomposed_text: ¿a alguien más le pasa? . @keiverobles efectivamente así es. la solución pasa por refactorizar la forma en la que se recogen los datos para conformar el xml. se tiene que hacer agrupando por tipo impositivo. en su momento se trató el tema pero de momento nadie a tomado la iniciativa de plantear una solución. gracias por el issue porque aquí queda perfectamente explicado el problema pulgar hacia arriba .
__Recursividad__
text | es | ¿a alguien más le pasa? .
text | es | @keiverobles efectivamente así es.
text | es | la solución pasa por refactorizar la forma en la que se recogen los datos para conformar el xml.
text | es | se tiene que hacer agrupando por tipo impositivo.
text | es | en su momento se trató el tema pero de momento nadie a tomado la iniciativa de plantear una solución.
text | es | gracias por el issue porque aquí queda perfectamente explicado el problema pulgar hacia arriba .
Detalles: total_items: 6 | code_items: 0 | spanish_items: 6 | english_items: 0
recomposed_text: ¿a alguien más le pasa? . @keiverobles efectivamente así es. la solución pasa por refactorizar la forma en la que se recogen los datos para conformar el xml. se tiene que hacer agrupando por tipo impositivo. en su momento se trató el tema pero de momento nadie a tomado la iniciativa de plantear una solución. gracias por el issue porque aquí queda perfectamente explicado el problema pulgar hacia arriba .

# Entrada procesada 2026-02-09T14:14:26.964469 UTC
text | es | por si alguien tiene las mismas dudas que yo, he resuelto los problemas de la siguiente forma: - en el fichero /l10n-spain/l10n_es_facturae/views/report_facturae.xml sustituir el código existente por el siguiente ( he dejado la primera y última línea afectada del xml para mayor claridad) :
code | code | ................

<partyidentification t-if="false" /> <t t-set="has_admin_centres" t-value=" administrative_partner.oficina_contable or partner.oficina_contable or administrative_partner.organo_gestor or partner.organo_gestor or administrative_partner.unidad_tramitadora or partner.unidad_tramitadora or administrative_partner.organo_proponente or partner.organo_proponente " /> <t t-if="partner.facturae and has_admin_centres"> <administrativecentres> <t t-call="l10n_es_facturae.administrative_center"> <t t-set="centre_code" t-value="administrative_partner.oficina_contable or partner.oficina_contable" /> <t t-set="role_type_code" t-value="'01'" /> </t> <t t-call="l10n_es_facturae.administrative_center"> <t t-set="centre_code" t-value="administrative_partner.organo_gestor or partner.organo_gestor" /> <t t-set="role_type_code" t-value="'02'" /> </t> <t t-call="l10n_es_facturae.administrative_center"> <t t-set="centre_code" t-value="administrative_partner.unidad_tramitadora or partner.unidad_tramitadora" /> <t t-set="role_type_code" t-value="'03'" /> </t> <t t-call="l10n_es_facturae.administrative_center" t-if="administrative_partner.organo_proponente or partner.organo_proponente"> <t t-set="centre_code" t-value="administrative_partner.organo_proponente or partner.organo_proponente" /> <t t-set="role_type_code" t-value="'04'" /> </t> </administrativecentres> </t> <legalentity t-if="buyer_type == 'j'"> ....................
text | es | además, en el fichero /l10-nspain/l10n_es_facturae/models/account_move.py no obligar a comprobar la unidad tramitadora y oficina contable, comentando estas líneas:
code | code | #if not self.partner_id.unidad_tramitadora: # raise validationerror(_("unidad tramitadora not provided")) #if not self.partner_id.oficina_contable: # raise validationerror(_("oficina contable not provided"))
text | es | por último, si se quiere poder firmar con el certificado digital, hay que ir a facturación/contabilidad->configuración->aeat|certificados aeat: - poner un nombre al certificado - incluir el archivo .pfx - poner un nombre a la _carpeta_ donde se ubicarán las claves públicas y privadas que será en la ruta de odoo16/sessions/_carpeta_ - incluir la fecha de inicio de uso del certificado y la fecha de finalización - darle a obtener claves.
text | es | - una vez obtenidas, darle a para activar y verificar que esté activado.
text | es | ahora si se quiere firmar la factura electrónicia, al generarla, dejar marcado el botón de firmar.
Detalles: total_items: 7 | code_items: 2 | spanish_items: 5 | english_items: 0
Dato borrado: code | code | ................

<partyidentification t-if="false" /> <t t-set="has_admin_centres" t-value=" administrative_partner.oficina_contable or partner.oficina_contable or administrative_partner.organo_gestor or partner.organo_gestor or administrative_partner.unidad_tramitadora or partner.unidad_tramitadora or administrative_partner.organo_proponente or partner.organo_proponente " /> <t t-if="partner.facturae and has_admin_centres"> <administrativecentres> <t t-call="l10n_es_facturae.administrative_center"> <t t-set="centre_code" t-value="administrative_partner.oficina_contable or partner.oficina_contable" /> <t t-set="role_type_code" t-value="'01'" /> </t> <t t-call="l10n_es_facturae.administrative_center"> <t t-set="centre_code" t-value="administrative_partner.organo_gestor or partner.organo_gestor" /> <t t-set="role_type_code" t-value="'02'" /> </t> <t t-call="l10n_es_facturae.administrative_center"> <t t-set="centre_code" t-value="administrative_partner.unidad_tramitadora or partner.unidad_tramitadora" /> <t t-set="role_type_code" t-value="'03'" /> </t> <t t-call="l10n_es_facturae.administrative_center" t-if="administrative_partner.organo_proponente or partner.organo_proponente"> <t t-set="centre_code" t-value="administrative_partner.organo_proponente or partner.organo_proponente" /> <t t-set="role_type_code" t-value="'04'" /> </t> </administrativecentres> </t> <legalentity t-if="buyer_type == 'j'"> ....................
Dato borrado: code | code | #if not self.partner_id.unidad_tramitadora: # raise validationerror(_("unidad tramitadora not provided")) #if not self.partner_id.oficina_contable: # raise validationerror(_("oficina contable not provided"))
recomposed_text: por si alguien tiene las mismas dudas que yo, he resuelto los problemas de la siguiente forma: - en el fichero /l10n-spain/l10n_es_facturae/views/report_facturae.xml sustituir el código existente por el siguiente ( he dejado la primera y última línea afectada del xml para mayor claridad) : además, en el fichero /l10-nspain/l10n_es_facturae/models/account_move.py no obligar a comprobar la unidad tramitadora y oficina contable, comentando estas líneas: por último, si se quiere poder firmar con el certificado digital, hay que ir a facturación/contabilidad->configuración->aeat|certificados aeat: - poner un nombre al certificado - incluir el archivo .pfx - poner un nombre a la _carpeta_ donde se ubicarán las claves públicas y privadas que será en la ruta de odoo16/sessions/_carpeta_ - incluir la fecha de inicio de uso del certificado y la fecha de finalización - darle a obtener claves. - una vez obtenidas, darle a para activar y verificar que esté activado. ahora si se quiere firmar la factura electrónicia, al generarla, dejar marcado el botón de firmar.
__Recursividad__
text | es | por si alguien tiene las mismas dudas que yo, he resuelto los problemas de la siguiente forma: - en el fichero /l10n-spain/l10n_es_facturae/views/report_facturae.xml sustituir el código existente por el siguiente ( he dejado la primera y última línea afectada del xml para mayor claridad) : además, en el fichero /l10-nspain/l10n_es_facturae/models/account_move.py no obligar a comprobar la unidad tramitadora y oficina contable, comentando estas líneas: por último, si se quiere poder firmar con el certificado digital, hay que ir a facturación/contabilidad->configuración->aeat|certificados aeat: - poner un nombre al certificado - incluir el archivo .pfx - poner un nombre a la _carpeta_ donde se ubicarán las claves públicas y privadas que será en la ruta de odoo16/sessions/_carpeta_ - incluir la fecha de inicio de uso del certificado y la fecha de finalización - darle a obtener claves.
text | es | - una vez obtenidas, darle a para activar y verificar que esté activado.
text | es | ahora si se quiere firmar la factura electrónicia, al generarla, dejar marcado el botón de firmar.
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: por si alguien tiene las mismas dudas que yo, he resuelto los problemas de la siguiente forma: - en el fichero /l10n-spain/l10n_es_facturae/views/report_facturae.xml sustituir el código existente por el siguiente ( he dejado la primera y última línea afectada del xml para mayor claridad) : además, en el fichero /l10-nspain/l10n_es_facturae/models/account_move.py no obligar a comprobar la unidad tramitadora y oficina contable, comentando estas líneas: por último, si se quiere poder firmar con el certificado digital, hay que ir a facturación/contabilidad->configuración->aeat|certificados aeat: - poner un nombre al certificado - incluir el archivo .pfx - poner un nombre a la _carpeta_ donde se ubicarán las claves públicas y privadas que será en la ruta de odoo16/sessions/_carpeta_ - incluir la fecha de inicio de uso del certificado y la fecha de finalización - darle a obtener claves. - una vez obtenidas, darle a para activar y verificar que esté activado. ahora si se quiere firmar la factura electrónicia, al generarla, dejar marcado el botón de firmar.

# Entrada procesada 2026-02-09T14:14:27.010827 UTC
code | code | odoo sa ya lo tiene desarrollado para odoo enterprise hace 3 semanas: https://github.com/odoo/enterprise/pull/69736 .
text | es | empezamos a trabajar en el pr para hacerlo en oca.
code | code | @moduon mt-7092 .
text | es | hola a todos, emilio lo empezó a hacer en el oca sprint pero no lo terminó.
text | es | ahora lo está retomando @shide .
text | es | si alguno tiene más experiencia y quiere ayudar nos decís.
text | es | estamos con esto ahora mismo.
code | code | .
text | es | estoy yo haciéndolo ahora.
text | es | en unas horas lo tendré.
code | code | .
text | es | gracias @pedrobaeza .
code | code | - [x] hecho pr para odoo 15 en https://github.com/oca/l10n-spain/pull/3755 - [x] https://github.com/oca/l10n-spain/pull/3757 .
text | es | reabro porque tenemos errores.
text | es | creo que no están implementsdos todos los cambios.
text | es | estoy viendo que se puso en known issues @shide .
text | es | las casillas no implementados son casos muy específicos de las nuevas auto-declaraciones rectificativas.
text | es | si tenéis un caso y tenéis claro cómo funcionan, adelante con los cambios.
code | code | .
code | code | el error actual es: ![image001](https://github.com/user-attachments/assets/5765bd5c-87aa-4b45-96a9-259dd6216d14) .
text | es | @rafaelbn ese error es porque no se está utilizando el nuevo formato boe.
text | es | si generaron la declaración antes del parche, tendrán puesta esa configuración antigua.
text | es | cambiad la configuración y volved a exportar.
code | code | .
code | code | - [x] pr en https://github.com/oca/l10n-spain/pull/3770 .
text | es | correcto @pedrobaeza .
text | es | adicionalmente se necesita en ciertos casos rellenar estas casillas.
code | code | https://github.com/oca/l10n-spain/pull/3770
Detalles: total_items: 28 | code_items: 10 | spanish_items: 18 | english_items: 0
Dato borrado: code | code | odoo sa ya lo tiene desarrollado para odoo enterprise hace 3 semanas: https://github.com/odoo/enterprise/pull/69736 .
Dato borrado: code | code | @moduon mt-7092 .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | - [x] hecho pr para odoo 15 en https://github.com/oca/l10n-spain/pull/3755 - [x] https://github.com/oca/l10n-spain/pull/3757 .
Dato borrado: code | code | .
Dato borrado: code | code | el error actual es: ![image001](https://github.com/user-attachments/assets/5765bd5c-87aa-4b45-96a9-259dd6216d14) .
Dato borrado: code | code | .
Dato borrado: code | code | - [x] pr en https://github.com/oca/l10n-spain/pull/3770 .
Dato borrado: code | code | https://github.com/oca/l10n-spain/pull/3770
recomposed_text: empezamos a trabajar en el pr para hacerlo en oca. hola a todos, emilio lo empezó a hacer en el oca sprint pero no lo terminó. ahora lo está retomando @shide . si alguno tiene más experiencia y quiere ayudar nos decís. estamos con esto ahora mismo. estoy yo haciéndolo ahora. en unas horas lo tendré. gracias @pedrobaeza . reabro porque tenemos errores. creo que no están implementsdos todos los cambios. estoy viendo que se puso en known issues @shide . las casillas no implementados son casos muy específicos de las nuevas auto-declaraciones rectificativas. si tenéis un caso y tenéis claro cómo funcionan, adelante con los cambios. @rafaelbn ese error es porque no se está utilizando el nuevo formato boe. si generaron la declaración antes del parche, tendrán puesta esa configuración antigua. cambiad la configuración y volved a exportar. correcto @pedrobaeza . adicionalmente se necesita en ciertos casos rellenar estas casillas.
__Recursividad__
text | es | empezamos a trabajar en el pr para hacerlo en oca.
text | es | hola a todos, emilio lo empezó a hacer en el oca sprint pero no lo terminó.
text | es | ahora lo está retomando @shide .
text | es | si alguno tiene más experiencia y quiere ayudar nos decís.
text | es | estamos con esto ahora mismo.
text | es | estoy yo haciéndolo ahora.
text | es | en unas horas lo tendré.
text | es | gracias @pedrobaeza .
text | es | reabro porque tenemos errores.
text | es | creo que no están implementsdos todos los cambios.
text | es | estoy viendo que se puso en known issues @shide .
text | es | las casillas no implementados son casos muy específicos de las nuevas auto-declaraciones rectificativas.
text | es | si tenéis un caso y tenéis claro cómo funcionan, adelante con los cambios.
text | es | @rafaelbn ese error es porque no se está utilizando el nuevo formato boe.
text | es | si generaron la declaración antes del parche, tendrán puesta esa configuración antigua.
text | es | cambiad la configuración y volved a exportar.
text | es | correcto @pedrobaeza .
text | es | adicionalmente se necesita en ciertos casos rellenar estas casillas.
Detalles: total_items: 18 | code_items: 0 | spanish_items: 18 | english_items: 0
recomposed_text: empezamos a trabajar en el pr para hacerlo en oca. hola a todos, emilio lo empezó a hacer en el oca sprint pero no lo terminó. ahora lo está retomando @shide . si alguno tiene más experiencia y quiere ayudar nos decís. estamos con esto ahora mismo. estoy yo haciéndolo ahora. en unas horas lo tendré. gracias @pedrobaeza . reabro porque tenemos errores. creo que no están implementsdos todos los cambios. estoy viendo que se puso en known issues @shide . las casillas no implementados son casos muy específicos de las nuevas auto-declaraciones rectificativas. si tenéis un caso y tenéis claro cómo funcionan, adelante con los cambios. @rafaelbn ese error es porque no se está utilizando el nuevo formato boe. si generaron la declaración antes del parche, tendrán puesta esa configuración antigua. cambiad la configuración y volved a exportar. correcto @pedrobaeza . adicionalmente se necesita en ciertos casos rellenar estas casillas.

# Entrada procesada 2026-02-09T14:14:27.047777 UTC
text | es | es probable que no estés utilizando los impuestos correspondientes del oss, o que tengas mal gestionado el mapeo en el módulo del sii.
text | es | no es una incidencia del módulo como tal.
code | code | .
text | es | hola entonces tengo que mepear los impuestos del oss en contabilidad>configuracion>sii - mapeo de impuestos.
text | es | como se hace con los nuevos impuestos que se crean.¿es correcto lo que indico?
text | es | gracias.
text | es | un saludo.
Detalles: total_items: 7 | code_items: 1 | spanish_items: 6 | english_items: 0
Dato borrado: code | code | .
recomposed_text: es probable que no estés utilizando los impuestos correspondientes del oss, o que tengas mal gestionado el mapeo en el módulo del sii. no es una incidencia del módulo como tal. hola entonces tengo que mepear los impuestos del oss en contabilidad>configuracion>sii - mapeo de impuestos. como se hace con los nuevos impuestos que se crean.¿es correcto lo que indico? gracias. un saludo.
__Recursividad__
text | es | es probable que no estés utilizando los impuestos correspondientes del oss, o que tengas mal gestionado el mapeo en el módulo del sii.
text | es | no es una incidencia del módulo como tal.
text | es | hola entonces tengo que mepear los impuestos del oss en contabilidad>configuracion>sii - mapeo de impuestos.
text | es | como se hace con los nuevos impuestos que se crean.¿es correcto lo que indico?
text | es | gracias.
text | es | un saludo.
Detalles: total_items: 6 | code_items: 0 | spanish_items: 6 | english_items: 0
recomposed_text: es probable que no estés utilizando los impuestos correspondientes del oss, o que tengas mal gestionado el mapeo en el módulo del sii. no es una incidencia del módulo como tal. hola entonces tengo que mepear los impuestos del oss en contabilidad>configuracion>sii - mapeo de impuestos. como se hace con los nuevos impuestos que se crean.¿es correcto lo que indico? gracias. un saludo.

# Entrada procesada 2026-02-09T14:14:27.072506 UTC
text | es | hola, esto no tiene que ver con `l10n_es_igic`, si no con el actualizar (`account_chart_update`).
text | es | en cualquier caso, simplemente quita la actualización de esa posición fiscal en el listado en el que aparece, en lugar de darle a "siguiente", "siguiente".
code | code | .
text | es | hola pedro, gracias por la información.
text | es | no obstante, hemos actualizado el módulo account_chart_update a la última versión pero sigue apareciendo el mismo error al actualizar el plan contable: "la posición fiscal 'eu privado' tiene intrastat establecido en b2b, por lo que la opción 'iva requerido' debe estar activada.
text | es | (la opción de "requiere iva" está activada en "eu privado") ¿sabes cuál podría ser el motivo?
text | es | no puedo quitar la actualización de esa posición porque entonces no se actualizaría.
text | es | muchas gracias.
code | code | .
text | es | desactiva esa casilla manualmente, o en el `account_chart_update` (que hay que ejecutarlo), pongas de no actualizar ese dato.
Detalles: total_items: 10 | code_items: 2 | spanish_items: 8 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | .
recomposed_text: hola, esto no tiene que ver con `l10n_es_igic`, si no con el actualizar (`account_chart_update`). en cualquier caso, simplemente quita la actualización de esa posición fiscal en el listado en el que aparece, en lugar de darle a "siguiente", "siguiente". hola pedro, gracias por la información. no obstante, hemos actualizado el módulo account_chart_update a la última versión pero sigue apareciendo el mismo error al actualizar el plan contable: "la posición fiscal 'eu privado' tiene intrastat establecido en b2b, por lo que la opción 'iva requerido' debe estar activada. (la opción de "requiere iva" está activada en "eu privado") ¿sabes cuál podría ser el motivo? no puedo quitar la actualización de esa posición porque entonces no se actualizaría. muchas gracias. desactiva esa casilla manualmente, o en el `account_chart_update` (que hay que ejecutarlo), pongas de no actualizar ese dato.
__Recursividad__
text | es | hola, esto no tiene que ver con `l10n_es_igic`, si no con el actualizar (`account_chart_update`).
text | es | en cualquier caso, simplemente quita la actualización de esa posición fiscal en el listado en el que aparece, en lugar de darle a "siguiente", "siguiente".
text | es | hola pedro, gracias por la información.
text | es | no obstante, hemos actualizado el módulo account_chart_update a la última versión pero sigue apareciendo el mismo error al actualizar el plan contable: "la posición fiscal 'eu privado' tiene intrastat establecido en b2b, por lo que la opción 'iva requerido' debe estar activada.
text | es | (la opción de "requiere iva" está activada en "eu privado") ¿sabes cuál podría ser el motivo?
text | es | no puedo quitar la actualización de esa posición porque entonces no se actualizaría.
text | es | muchas gracias.
text | es | desactiva esa casilla manualmente, o en el `account_chart_update` (que hay que ejecutarlo), pongas de no actualizar ese dato.
Detalles: total_items: 8 | code_items: 0 | spanish_items: 8 | english_items: 0
recomposed_text: hola, esto no tiene que ver con `l10n_es_igic`, si no con el actualizar (`account_chart_update`). en cualquier caso, simplemente quita la actualización de esa posición fiscal en el listado en el que aparece, en lugar de darle a "siguiente", "siguiente". hola pedro, gracias por la información. no obstante, hemos actualizado el módulo account_chart_update a la última versión pero sigue apareciendo el mismo error al actualizar el plan contable: "la posición fiscal 'eu privado' tiene intrastat establecido en b2b, por lo que la opción 'iva requerido' debe estar activada. (la opción de "requiere iva" está activada en "eu privado") ¿sabes cuál podría ser el motivo? no puedo quitar la actualización de esa posición porque entonces no se actualizaría. muchas gracias. desactiva esa casilla manualmente, o en el `account_chart_update` (que hay que ejecutarlo), pongas de no actualizar ese dato.

# Entrada procesada 2026-02-09T14:14:27.109719 UTC
text | es | prueba a subirlo en formato p12.
code | code | .
text | es | gracias, pedro.
text | es | no se como obtener un p15.
text | bilingual | he conseguido transformarlo a pem, pero tampoco sirve (could not deserialize pkcs12 data).
code | code | .
text | es | perdón, era p12.
text | es | prueba a utilizar un navegador como firefox para importar el certificado, y ver si funciona correctamente.
text | es | entonces, desde ahí podrás exportar a formato .p12.
text | es | básicamente es similar al .pfx, pero para aumentar las posibilidades de compatibilidad.
code | code | .
text | es | mismo error.
code | code | al cargar, sigo viendo como nombre de archivo, lo que "ocupa": ![image](https://github.com/user-attachments/assets/63cc42c9-94fa-42f3-98eb-f1613e67f66b) y si intento obtener claves: ![image](https://github.com/user-attachments/assets/80c5e5f2-f8e8-4888-9ba4-02e564ee3204) probado con p12 y firefox.
code | code | .
text | es | bueno, lo de que se vea el tamaño es normal, porque así funciona el widget.
text | es | si la importación en firefox funciona, entonces el problema podría ser de las librerías crypto instaladas.
code | code | lista qué versiones tienes de cada librería y fíjate lo que hay en el requirements.txt del repositorio https://github.com/oca/l10n-spain/blob/16.0/requirements.txt.
text | es | en cualquier caso, me temo que esto no es un fallo del módulo, por lo que no se debe continuar aquí en el issue tracker.
text | en | si con estas indicaciones no lo consigues, acude por favor al foro https://www.aeodoo.org/forum para solicitar más ayuda.
Detalles: total_items: 19 | code_items: 6 | spanish_items: 11 | english_items: 1
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | al cargar, sigo viendo como nombre de archivo, lo que "ocupa": ![image](https://github.com/user-attachments/assets/63cc42c9-94fa-42f3-98eb-f1613e67f66b) y si intento obtener claves: ![image](https://github.com/user-attachments/assets/80c5e5f2-f8e8-4888-9ba4-02e564ee3204) probado con p12 y firefox.
Dato borrado: code | code | .
Dato borrado: code | code | lista qué versiones tienes de cada librería y fíjate lo que hay en el requirements.txt del repositorio https://github.com/oca/l10n-spain/blob/16.0/requirements.txt.
Dato borrado: text | en | si con estas indicaciones no lo consigues, acude por favor al foro https://www.aeodoo.org/forum para solicitar más ayuda.
recomposed_text: prueba a subirlo en formato p12. gracias, pedro. no se como obtener un p15. he conseguido transformarlo a pem, pero tampoco sirve (could not deserialize pkcs12 data). perdón, era p12. prueba a utilizar un navegador como firefox para importar el certificado, y ver si funciona correctamente. entonces, desde ahí podrás exportar a formato .p12. básicamente es similar al .pfx, pero para aumentar las posibilidades de compatibilidad. mismo error. bueno, lo de que se vea el tamaño es normal, porque así funciona el widget. si la importación en firefox funciona, entonces el problema podría ser de las librerías crypto instaladas. en cualquier caso, me temo que esto no es un fallo del módulo, por lo que no se debe continuar aquí en el issue tracker.
__Recursividad__
text | es | prueba a subirlo en formato p12.
text | es | gracias, pedro.
text | es | no se como obtener un p15.
text | bilingual | he conseguido transformarlo a pem, pero tampoco sirve (could not deserialize pkcs12 data).
text | es | perdón, era p12.
text | es | prueba a utilizar un navegador como firefox para importar el certificado, y ver si funciona correctamente.
text | es | entonces, desde ahí podrás exportar a formato .p12.
text | es | básicamente es similar al .pfx, pero para aumentar las posibilidades de compatibilidad.
text | es | mismo error.
text | es | bueno, lo de que se vea el tamaño es normal, porque así funciona el widget.
text | es | si la importación en firefox funciona, entonces el problema podría ser de las librerías crypto instaladas.
text | es | en cualquier caso, me temo que esto no es un fallo del módulo, por lo que no se debe continuar aquí en el issue tracker.
Detalles: total_items: 12 | code_items: 0 | spanish_items: 11 | english_items: 0
recomposed_text: prueba a subirlo en formato p12. gracias, pedro. no se como obtener un p15. he conseguido transformarlo a pem, pero tampoco sirve (could not deserialize pkcs12 data). perdón, era p12. prueba a utilizar un navegador como firefox para importar el certificado, y ver si funciona correctamente. entonces, desde ahí podrás exportar a formato .p12. básicamente es similar al .pfx, pero para aumentar las posibilidades de compatibilidad. mismo error. bueno, lo de que se vea el tamaño es normal, porque así funciona el widget. si la importación en firefox funciona, entonces el problema podría ser de las librerías crypto instaladas. en cualquier caso, me temo que esto no es un fallo del módulo, por lo que no se debe continuar aquí en el issue tracker.

# Entrada procesada 2026-02-09T14:14:27.140485 UTC
text | es | hola matias, nos encontramos con el mismo problema.
text | es | pudiste encontrar solución? .
text | es | hola, en mi caso el problema estaba con otro modulo de pagos (klarna) que capturaba todos los token de pago y no devolvia el estado de la transaccion al modulo de redsys, corrgiendo esto se solucionó el problema.
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: hola matias, nos encontramos con el mismo problema. pudiste encontrar solución? . hola, en mi caso el problema estaba con otro modulo de pagos (klarna) que capturaba todos los token de pago y no devolvia el estado de la transaccion al modulo de redsys, corrgiendo esto se solucionó el problema.
__Recursividad__
text | es | hola matias, nos encontramos con el mismo problema.
text | es | pudiste encontrar solución? .
text | es | hola, en mi caso el problema estaba con otro modulo de pagos (klarna) que capturaba todos los token de pago y no devolvia el estado de la transaccion al modulo de redsys, corrgiendo esto se solucionó el problema.
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: hola matias, nos encontramos con el mismo problema. pudiste encontrar solución? . hola, en mi caso el problema estaba con otro modulo de pagos (klarna) que capturaba todos los token de pago y no devolvia el estado de la transaccion al modulo de redsys, corrgiendo esto se solucionó el problema.

# Entrada procesada 2026-02-09T14:14:27.165402 UTC
text | es | hola @fcvalgar , yo creo que es un bug del módulo, dado que esa pestaña se debería comportar de manera análoga a la pestaña de contabilidad.
text | es | es decir: igual que si tengo acceso a la pestaña de contabilidad veo la pestaña contabilidad y si no no pues si tengo acceso como responsable de aeat veo la pestaña y si no no para todos, es un problema de seguridad importante en la parte de protección de datos puesto que si os fijáis si usas el 190 y rellenas datos, como hacemos, ahí salen datos privados de salud como si tienes discapacidad y cosas así...
text | es | y lo puede ver cualquiera.
text | es | ¡gracias! ¡
text | es | saludos!
text | es | creo que es un cambio fácil @oca/local-spain-maintainers que nosotros haremos un pr para que esa pestaña no se muestre si no tienes en el usuario el permiso de aeat.
text | es | ¿os parece ok?
text | es | gracias.
text | es | cara sonriendo con ojos sonrientes corazón rojo .
code | code | fix en https://github.com/oca/l10n-spain/pull/3692.
text | es | si hay campos cuya privacidad es más crítica, decidme cuáles por favor porque hay que añadir una capa extra de seguridad a nivel orm.
code | code | .
text | es | se cierra y la discusción continúa en #3692
Detalles: total_items: 13 | code_items: 2 | spanish_items: 11 | english_items: 0
Dato borrado: code | code | fix en https://github.com/oca/l10n-spain/pull/3692.
Dato borrado: code | code | .
recomposed_text: hola @fcvalgar , yo creo que es un bug del módulo, dado que esa pestaña se debería comportar de manera análoga a la pestaña de contabilidad. es decir: igual que si tengo acceso a la pestaña de contabilidad veo la pestaña contabilidad y si no no pues si tengo acceso como responsable de aeat veo la pestaña y si no no para todos, es un problema de seguridad importante en la parte de protección de datos puesto que si os fijáis si usas el 190 y rellenas datos, como hacemos, ahí salen datos privados de salud como si tienes discapacidad y cosas así... y lo puede ver cualquiera. ¡gracias! ¡ saludos! creo que es un cambio fácil @oca/local-spain-maintainers que nosotros haremos un pr para que esa pestaña no se muestre si no tienes en el usuario el permiso de aeat. ¿os parece ok? gracias. cara sonriendo con ojos sonrientes corazón rojo . si hay campos cuya privacidad es más crítica, decidme cuáles por favor porque hay que añadir una capa extra de seguridad a nivel orm. se cierra y la discusción continúa en #3692
__Recursividad__
text | es | hola @fcvalgar , yo creo que es un bug del módulo, dado que esa pestaña se debería comportar de manera análoga a la pestaña de contabilidad.
text | es | es decir: igual que si tengo acceso a la pestaña de contabilidad veo la pestaña contabilidad y si no no pues si tengo acceso como responsable de aeat veo la pestaña y si no no para todos, es un problema de seguridad importante en la parte de protección de datos puesto que si os fijáis si usas el 190 y rellenas datos, como hacemos, ahí salen datos privados de salud como si tienes discapacidad y cosas así...
text | es | y lo puede ver cualquiera.
text | es | ¡gracias! ¡
text | es | saludos!
text | es | creo que es un cambio fácil @oca/local-spain-maintainers que nosotros haremos un pr para que esa pestaña no se muestre si no tienes en el usuario el permiso de aeat.
text | es | ¿os parece ok?
text | es | gracias.
text | es | cara sonriendo con ojos sonrientes corazón rojo .
text | es | si hay campos cuya privacidad es más crítica, decidme cuáles por favor porque hay que añadir una capa extra de seguridad a nivel orm.
text | es | se cierra y la discusción continúa en #3692
Detalles: total_items: 11 | code_items: 0 | spanish_items: 11 | english_items: 0
recomposed_text: hola @fcvalgar , yo creo que es un bug del módulo, dado que esa pestaña se debería comportar de manera análoga a la pestaña de contabilidad. es decir: igual que si tengo acceso a la pestaña de contabilidad veo la pestaña contabilidad y si no no pues si tengo acceso como responsable de aeat veo la pestaña y si no no para todos, es un problema de seguridad importante en la parte de protección de datos puesto que si os fijáis si usas el 190 y rellenas datos, como hacemos, ahí salen datos privados de salud como si tienes discapacidad y cosas así... y lo puede ver cualquiera. ¡gracias! ¡ saludos! creo que es un cambio fácil @oca/local-spain-maintainers que nosotros haremos un pr para que esa pestaña no se muestre si no tienes en el usuario el permiso de aeat. ¿os parece ok? gracias. cara sonriendo con ojos sonrientes corazón rojo . si hay campos cuya privacidad es más crítica, decidme cuáles por favor porque hay que añadir una capa extra de seguridad a nivel orm. se cierra y la discusción continúa en #3692

# Entrada procesada 2026-02-09T14:14:27.214536 UTC
text | es | la forma adecuada de resolverlo sería crear un módulo `l10n_es_vat_book_pos`, que detecta qué apuntes provienen del pos, y que no los marque como incorrectos por no tener nif, y además tenga en cuenta las posibles casuísticas de constar como simplificadas, o también resumirlos como agrupados.
code | code | .
text | es | > además tenga en cuenta las posibles casuísticas de constar como simplificadas, que casuísticas se pueden producir?
text | es | > o también resumirlos como agrupados.
text | es | esto a simple vista parece mucho mas complicado, no iria por esta ruta si no es obligatorio .
text | es | en cuanto a lo de no dar errores por no tener nif, según deduzco de anteriores conversaciones una manera de solucionar este asunto sería por la ruta de pos_default_partner, y marcar este partner como no aeat, esto sigue siendo válido como solución? .
code | code | https://github.com/oca/l10n-spain/blob/d1aaa8aa24889b16df2de25298385e366b5decba/l10n_es_vat_book/models/l10n_es_vat_book_line.py#l39-l41 he visto esto en la revision del asunto, no es dañino, pero tampoco bonito .
text | es | > que casuísticas se pueden producir?
text | es | creo que básicamente que venga indicado que es simplificada, pero no he entrado en detalles.
text | es | > esto a simple vista parece mucho mas complicado, no iria por esta ruta si no es obligatorio sí, pero sería lo más útil en cuanto a volumen.
text | es | > he visto esto en la revision del asunto, no es dañino, pero tampoco bonito sí, estaría bien limpiarlo.
text | es | > en cuanto a lo de no dar errores por no tener nif, según deduzco de anteriores conversaciones una manera de solucionar este asunto sería por la ruta de pos_default_partner, y marcar este partner como no aeat, esto sigue siendo válido como solución?
text | es | esto es un workaround, pero lo suyo es tratarlo adecuadamente.
code | code | .
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Detalles: total_items: 16 | code_items: 3 | spanish_items: 11 | english_items: 2
Dato borrado: code | code | .
Dato borrado: code | code | https://github.com/oca/l10n-spain/blob/d1aaa8aa24889b16df2de25298385e366b5decba/l10n_es_vat_book/models/l10n_es_vat_book_line.py#l39-l41 he visto esto en la revision del asunto, no es dañino, pero tampoco bonito .
Dato borrado: code | code | .
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
recomposed_text: la forma adecuada de resolverlo sería crear un módulo `l10n_es_vat_book_pos`, que detecta qué apuntes provienen del pos, y que no los marque como incorrectos por no tener nif, y además tenga en cuenta las posibles casuísticas de constar como simplificadas, o también resumirlos como agrupados. > además tenga en cuenta las posibles casuísticas de constar como simplificadas, que casuísticas se pueden producir? > o también resumirlos como agrupados. esto a simple vista parece mucho mas complicado, no iria por esta ruta si no es obligatorio . en cuanto a lo de no dar errores por no tener nif, según deduzco de anteriores conversaciones una manera de solucionar este asunto sería por la ruta de pos_default_partner, y marcar este partner como no aeat, esto sigue siendo válido como solución? . > que casuísticas se pueden producir? creo que básicamente que venga indicado que es simplificada, pero no he entrado en detalles. > esto a simple vista parece mucho mas complicado, no iria por esta ruta si no es obligatorio sí, pero sería lo más útil en cuanto a volumen. > he visto esto en la revision del asunto, no es dañino, pero tampoco bonito sí, estaría bien limpiarlo. > en cuanto a lo de no dar errores por no tener nif, según deduzco de anteriores conversaciones una manera de solucionar este asunto sería por la ruta de pos_default_partner, y marcar este partner como no aeat, esto sigue siendo válido como solución? esto es un workaround, pero lo suyo es tratarlo adecuadamente.
__Recursividad__
text | es | la forma adecuada de resolverlo sería crear un módulo `l10n_es_vat_book_pos`, que detecta qué apuntes provienen del pos, y que no los marque como incorrectos por no tener nif, y además tenga en cuenta las posibles casuísticas de constar como simplificadas, o también resumirlos como agrupados.
text | es | > además tenga en cuenta las posibles casuísticas de constar como simplificadas, que casuísticas se pueden producir?
text | es | > o también resumirlos como agrupados.
text | es | esto a simple vista parece mucho mas complicado, no iria por esta ruta si no es obligatorio .
text | es | en cuanto a lo de no dar errores por no tener nif, según deduzco de anteriores conversaciones una manera de solucionar este asunto sería por la ruta de pos_default_partner, y marcar este partner como no aeat, esto sigue siendo válido como solución? .
text | es | > que casuísticas se pueden producir?
text | es | creo que básicamente que venga indicado que es simplificada, pero no he entrado en detalles.
text | es | > esto a simple vista parece mucho mas complicado, no iria por esta ruta si no es obligatorio sí, pero sería lo más útil en cuanto a volumen.
text | es | > he visto esto en la revision del asunto, no es dañino, pero tampoco bonito sí, estaría bien limpiarlo.
text | es | > en cuanto a lo de no dar errores por no tener nif, según deduzco de anteriores conversaciones una manera de solucionar este asunto sería por la ruta de pos_default_partner, y marcar este partner como no aeat, esto sigue siendo válido como solución?
text | es | esto es un workaround, pero lo suyo es tratarlo adecuadamente.
Detalles: total_items: 11 | code_items: 0 | spanish_items: 11 | english_items: 0
recomposed_text: la forma adecuada de resolverlo sería crear un módulo `l10n_es_vat_book_pos`, que detecta qué apuntes provienen del pos, y que no los marque como incorrectos por no tener nif, y además tenga en cuenta las posibles casuísticas de constar como simplificadas, o también resumirlos como agrupados. > además tenga en cuenta las posibles casuísticas de constar como simplificadas, que casuísticas se pueden producir? > o también resumirlos como agrupados. esto a simple vista parece mucho mas complicado, no iria por esta ruta si no es obligatorio . en cuanto a lo de no dar errores por no tener nif, según deduzco de anteriores conversaciones una manera de solucionar este asunto sería por la ruta de pos_default_partner, y marcar este partner como no aeat, esto sigue siendo válido como solución? . > que casuísticas se pueden producir? creo que básicamente que venga indicado que es simplificada, pero no he entrado en detalles. > esto a simple vista parece mucho mas complicado, no iria por esta ruta si no es obligatorio sí, pero sería lo más útil en cuanto a volumen. > he visto esto en la revision del asunto, no es dañino, pero tampoco bonito sí, estaría bien limpiarlo. > en cuanto a lo de no dar errores por no tener nif, según deduzco de anteriores conversaciones una manera de solucionar este asunto sería por la ruta de pos_default_partner, y marcar este partner como no aeat, esto sigue siendo válido como solución? esto es un workaround, pero lo suyo es tratarlo adecuadamente.

# Entrada procesada 2026-02-09T14:14:27.269975 UTC
text | es | duplicado con el foro: https://www.aeodoo.org/forum/localizacion-espanola-3/sii-con-oss-1462 cuando esté claro que es un error real del módulo, se puede reabrir esto.
text | bilingual | ana, no hagas cross-posting.
text | es | punto 16 de la faq de los foros, que aplica aquí también: https://www.aeodoo.org/forum/localizacion-espanola-3/faq .
text | es | buenos días, nuestro problema se solucionó con la desinstalación de uno de los módulos del estándar para oss.
text | es | después de hacerlo, en ajustes teníamos disponible el wizard que nos permite crear los impuestos necesarios.
code | code | ![oca](https://github.com/user-attachments/assets/5ced878c-5035-4856-bc91-9e0541d3da67) la pista surgió con el comentario de harald panten en el foro de aeodoo, al cuestionar el formato de los impuestos disponibles.
text | es | muchas gracias a todos
Detalles: total_items: 7 | code_items: 1 | spanish_items: 5 | english_items: 0
Dato borrado: code | code | ![oca](https://github.com/user-attachments/assets/5ced878c-5035-4856-bc91-9e0541d3da67) la pista surgió con el comentario de harald panten en el foro de aeodoo, al cuestionar el formato de los impuestos disponibles.
recomposed_text: duplicado con el foro: https://www.aeodoo.org/forum/localizacion-espanola-3/sii-con-oss-1462 cuando esté claro que es un error real del módulo, se puede reabrir esto. ana, no hagas cross-posting. punto 16 de la faq de los foros, que aplica aquí también: https://www.aeodoo.org/forum/localizacion-espanola-3/faq . buenos días, nuestro problema se solucionó con la desinstalación de uno de los módulos del estándar para oss. después de hacerlo, en ajustes teníamos disponible el wizard que nos permite crear los impuestos necesarios. muchas gracias a todos
__Recursividad__
text | es | duplicado con el foro: https://www.aeodoo.org/forum/localizacion-espanola-3/sii-con-oss-1462 cuando esté claro que es un error real del módulo, se puede reabrir esto.
text | bilingual | ana, no hagas cross-posting.
text | es | punto 16 de la faq de los foros, que aplica aquí también: https://www.aeodoo.org/forum/localizacion-espanola-3/faq .
text | es | buenos días, nuestro problema se solucionó con la desinstalación de uno de los módulos del estándar para oss.
text | es | después de hacerlo, en ajustes teníamos disponible el wizard que nos permite crear los impuestos necesarios.
text | es | muchas gracias a todos
Detalles: total_items: 6 | code_items: 0 | spanish_items: 5 | english_items: 0
recomposed_text: duplicado con el foro: https://www.aeodoo.org/forum/localizacion-espanola-3/sii-con-oss-1462 cuando esté claro que es un error real del módulo, se puede reabrir esto. ana, no hagas cross-posting. punto 16 de la faq de los foros, que aplica aquí también: https://www.aeodoo.org/forum/localizacion-espanola-3/faq . buenos días, nuestro problema se solucionó con la desinstalación de uno de los módulos del estándar para oss. después de hacerlo, en ajustes teníamos disponible el wizard que nos permite crear los impuestos necesarios. muchas gracias a todos

# Entrada procesada 2026-02-09T14:14:27.291372 UTC
text | es | he encontrado el problema, se debia a una cuenta obsoleta que se intentaba usar y odoo en consecuencia devolvía un error 400.
text | es | al cambiar la configuración de la cuenta el pago se procesa con éxito y el carrito se vacía.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: he encontrado el problema, se debia a una cuenta obsoleta que se intentaba usar y odoo en consecuencia devolvía un error 400. al cambiar la configuración de la cuenta el pago se procesa con éxito y el carrito se vacía.
__Recursividad__
text | es | he encontrado el problema, se debia a una cuenta obsoleta que se intentaba usar y odoo en consecuencia devolvía un error 400.
text | es | al cambiar la configuración de la cuenta el pago se procesa con éxito y el carrito se vacía.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: he encontrado el problema, se debia a una cuenta obsoleta que se intentaba usar y odoo en consecuencia devolvía un error 400. al cambiar la configuración de la cuenta el pago se procesa con éxito y el carrito se vacía.

# Entrada procesada 2026-02-09T14:14:27.309284 UTC
text | es | alguna ayuda o pista por donde tirar sobre esto? .
text | es | nadie se ha encontrado con el problema? .
text | es | revisa la tabla de mapeo de impuestos del sii, se está enviando un impuesto con una base de -73.1.
text | es | es probable que alguno de los impuestos no los tengas mapeados correctamente.
code | code | .
text | es | te faltará mapear el impuesto "iva soportado exento (operaciones corrientes)" en el apartado sfrs del sii.
code | code | .
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Detalles: total_items: 9 | code_items: 2 | spanish_items: 5 | english_items: 2
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
recomposed_text: alguna ayuda o pista por donde tirar sobre esto? . nadie se ha encontrado con el problema? . revisa la tabla de mapeo de impuestos del sii, se está enviando un impuesto con una base de -73.1. es probable que alguno de los impuestos no los tengas mapeados correctamente. te faltará mapear el impuesto "iva soportado exento (operaciones corrientes)" en el apartado sfrs del sii.
__Recursividad__
text | es | alguna ayuda o pista por donde tirar sobre esto? .
text | es | nadie se ha encontrado con el problema? .
text | es | revisa la tabla de mapeo de impuestos del sii, se está enviando un impuesto con una base de -73.1.
text | es | es probable que alguno de los impuestos no los tengas mapeados correctamente.
text | es | te faltará mapear el impuesto "iva soportado exento (operaciones corrientes)" en el apartado sfrs del sii.
Detalles: total_items: 5 | code_items: 0 | spanish_items: 5 | english_items: 0
recomposed_text: alguna ayuda o pista por donde tirar sobre esto? . nadie se ha encontrado con el problema? . revisa la tabla de mapeo de impuestos del sii, se está enviando un impuesto con una base de -73.1. es probable que alguno de los impuestos no los tengas mapeados correctamente. te faltará mapear el impuesto "iva soportado exento (operaciones corrientes)" en el apartado sfrs del sii.

# Entrada procesada 2026-02-09T14:14:27.326792 UTC
text | es | utiliza por favor los foros (https://www.aeodoo.org/forum) para este tipo de preguntas.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: utiliza por favor los foros (https://www.aeodoo.org/forum) para este tipo de preguntas.
__Recursividad__
text | es | utiliza por favor los foros (https://www.aeodoo.org/forum) para este tipo de preguntas.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: utiliza por favor los foros (https://www.aeodoo.org/forum) para este tipo de preguntas.

# Entrada procesada 2026-02-09T14:14:27.336939 UTC
text | es | la traza que aparece en tu reporte no tiene nada que ver con que tenga el `es` o no lo tenga.
text | es | el problema es que no tienes configurado el certificado.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: la traza que aparece en tu reporte no tiene nada que ver con que tenga el `es` o no lo tenga. el problema es que no tienes configurado el certificado.
__Recursividad__
text | es | la traza que aparece en tu reporte no tiene nada que ver con que tenga el `es` o no lo tenga.
text | es | el problema es que no tienes configurado el certificado.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: la traza que aparece en tu reporte no tiene nada que ver con que tenga el `es` o no lo tenga. el problema es que no tienes configurado el certificado.

# Entrada procesada 2026-02-09T14:14:27.348526 UTC
text | es | puesto que está el pr #3667, no es necesario tener también una issue, así que cierro.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: puesto que está el pr #3667, no es necesario tener también una issue, así que cierro.
__Recursividad__
text | es | puesto que está el pr #3667, no es necesario tener también una issue, así que cierro.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: puesto que está el pr #3667, no es necesario tener también una issue, así que cierro.

# Entrada procesada 2026-02-09T14:14:27.359206 UTC
text | es | efectivamente, no está afectado, porque nosotros redirigimos a la página de la propia redsys, así que cierro.
text | es | gracias por comentarlo en cualquier caso.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: efectivamente, no está afectado, porque nosotros redirigimos a la página de la propia redsys, así que cierro. gracias por comentarlo en cualquier caso.
__Recursividad__
text | es | efectivamente, no está afectado, porque nosotros redirigimos a la página de la propia redsys, así que cierro.
text | es | gracias por comentarlo en cualquier caso.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: efectivamente, no está afectado, porque nosotros redirigimos a la página de la propia redsys, así que cierro. gracias por comentarlo en cualquier caso.

# Entrada procesada 2026-02-09T14:14:27.381568 UTC
text | es | y por que necesitais que sea lgpl?
text | es | no deberiais necesitar un glue module .
text | es | a ver, por mi parte, no veo la necesidad de cambiar la licencia.
text | es | si no se necesita un glue module, se pueden usar ambos módulos.
text | es | en caso contrario, está el account_asset_management de oca :wink: sobre portar la funcionalidad a odoo, pues lo que vosotros queráis (teniendo en cuenta que estamos hablando de contabilidad, supongo que odoo dirá que a ee...
text | es | además, no tengo claro como ligará con su sistema de presentación de impuestos o con el propio sii...), pero recordad que los mismos mecanismos no deberian usarse, ya que seria incumplimiento de licencia.
code | code | .
text | es | hola @etobella , por que es el módulo base de la prorrata de iva y si no usas los activos de oca y usas los de odoo no puedes adaptar los activos de odoo a la prorrata para que te cree el activo por el valor adecuado si la factura de proveedor tiene prorrata.
text | es | como te digo tenemos estas 2 opciones para darle salida porque para nosotros no es una opción usar los activos de oca cara sonriendo con ojos sonrientes , que están genial, pero siempre que podemos usamos lo que tiene odoo y ampliamos lo que no tiene.
text | es | ya me decís para si esta vía no sirve hablar con odoo para solucionarlo en core.
text | es | ¡mil gracias!
text | es | abrazos, rafa .
text | es | hablalo con core, a mi la licencia me parece correcta tal y como está, además siempre podéis optar por los assets de oca.
Detalles: total_items: 13 | code_items: 1 | spanish_items: 12 | english_items: 0
Dato borrado: code | code | .
recomposed_text: y por que necesitais que sea lgpl? no deberiais necesitar un glue module . a ver, por mi parte, no veo la necesidad de cambiar la licencia. si no se necesita un glue module, se pueden usar ambos módulos. en caso contrario, está el account_asset_management de oca :wink: sobre portar la funcionalidad a odoo, pues lo que vosotros queráis (teniendo en cuenta que estamos hablando de contabilidad, supongo que odoo dirá que a ee... además, no tengo claro como ligará con su sistema de presentación de impuestos o con el propio sii...), pero recordad que los mismos mecanismos no deberian usarse, ya que seria incumplimiento de licencia. hola @etobella , por que es el módulo base de la prorrata de iva y si no usas los activos de oca y usas los de odoo no puedes adaptar los activos de odoo a la prorrata para que te cree el activo por el valor adecuado si la factura de proveedor tiene prorrata. como te digo tenemos estas 2 opciones para darle salida porque para nosotros no es una opción usar los activos de oca cara sonriendo con ojos sonrientes , que están genial, pero siempre que podemos usamos lo que tiene odoo y ampliamos lo que no tiene. ya me decís para si esta vía no sirve hablar con odoo para solucionarlo en core. ¡mil gracias! abrazos, rafa . hablalo con core, a mi la licencia me parece correcta tal y como está, además siempre podéis optar por los assets de oca.
__Recursividad__
text | es | y por que necesitais que sea lgpl?
text | es | no deberiais necesitar un glue module .
text | es | a ver, por mi parte, no veo la necesidad de cambiar la licencia.
text | es | si no se necesita un glue module, se pueden usar ambos módulos.
text | es | en caso contrario, está el account_asset_management de oca :wink: sobre portar la funcionalidad a odoo, pues lo que vosotros queráis (teniendo en cuenta que estamos hablando de contabilidad, supongo que odoo dirá que a ee...
text | es | además, no tengo claro como ligará con su sistema de presentación de impuestos o con el propio sii...), pero recordad que los mismos mecanismos no deberian usarse, ya que seria incumplimiento de licencia.
text | es | hola @etobella , por que es el módulo base de la prorrata de iva y si no usas los activos de oca y usas los de odoo no puedes adaptar los activos de odoo a la prorrata para que te cree el activo por el valor adecuado si la factura de proveedor tiene prorrata.
text | es | como te digo tenemos estas 2 opciones para darle salida porque para nosotros no es una opción usar los activos de oca cara sonriendo con ojos sonrientes , que están genial, pero siempre que podemos usamos lo que tiene odoo y ampliamos lo que no tiene.
text | es | ya me decís para si esta vía no sirve hablar con odoo para solucionarlo en core.
text | es | ¡mil gracias!
text | es | abrazos, rafa .
text | es | hablalo con core, a mi la licencia me parece correcta tal y como está, además siempre podéis optar por los assets de oca.
Detalles: total_items: 12 | code_items: 0 | spanish_items: 12 | english_items: 0
recomposed_text: y por que necesitais que sea lgpl? no deberiais necesitar un glue module . a ver, por mi parte, no veo la necesidad de cambiar la licencia. si no se necesita un glue module, se pueden usar ambos módulos. en caso contrario, está el account_asset_management de oca :wink: sobre portar la funcionalidad a odoo, pues lo que vosotros queráis (teniendo en cuenta que estamos hablando de contabilidad, supongo que odoo dirá que a ee... además, no tengo claro como ligará con su sistema de presentación de impuestos o con el propio sii...), pero recordad que los mismos mecanismos no deberian usarse, ya que seria incumplimiento de licencia. hola @etobella , por que es el módulo base de la prorrata de iva y si no usas los activos de oca y usas los de odoo no puedes adaptar los activos de odoo a la prorrata para que te cree el activo por el valor adecuado si la factura de proveedor tiene prorrata. como te digo tenemos estas 2 opciones para darle salida porque para nosotros no es una opción usar los activos de oca cara sonriendo con ojos sonrientes , que están genial, pero siempre que podemos usamos lo que tiene odoo y ampliamos lo que no tiene. ya me decís para si esta vía no sirve hablar con odoo para solucionarlo en core. ¡mil gracias! abrazos, rafa . hablalo con core, a mi la licencia me parece correcta tal y como está, además siempre podéis optar por los assets de oca.

# Entrada procesada 2026-02-09T14:14:27.426810 UTC
text | es | cierro ya después de un tiempo publicado.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: cierro ya después de un tiempo publicado.
__Recursividad__
text | es | cierro ya después de un tiempo publicado.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: cierro ya después de un tiempo publicado.

# Entrada procesada 2026-02-09T14:14:27.437465 UTC
text | es | debes actualizar todo el código, no solo el de oca/l10n-spain.
text | es | en este caso, tienes código obsoleto de odoo/odoo.
text | es | y claro, actualizar los módulos en la bd correspondiente.
code | code | .
text | es | glups, gracias, tienes toda la razon era el odoo, disculpas por el ruido
Detalles: total_items: 5 | code_items: 1 | spanish_items: 4 | english_items: 0
Dato borrado: code | code | .
recomposed_text: debes actualizar todo el código, no solo el de oca/l10n-spain. en este caso, tienes código obsoleto de odoo/odoo. y claro, actualizar los módulos en la bd correspondiente. glups, gracias, tienes toda la razon era el odoo, disculpas por el ruido
__Recursividad__
text | es | debes actualizar todo el código, no solo el de oca/l10n-spain.
text | es | en este caso, tienes código obsoleto de odoo/odoo.
text | es | y claro, actualizar los módulos en la bd correspondiente.
text | es | glups, gracias, tienes toda la razon era el odoo, disculpas por el ruido
Detalles: total_items: 4 | code_items: 0 | spanish_items: 4 | english_items: 0
recomposed_text: debes actualizar todo el código, no solo el de oca/l10n-spain. en este caso, tienes código obsoleto de odoo/odoo. y claro, actualizar los módulos en la bd correspondiente. glups, gracias, tienes toda la razon era el odoo, disculpas por el ruido

# Entrada procesada 2026-02-09T14:14:27.451497 UTC
text | en | same issue here .
text | es | resuelto en #3872
Detalles: total_items: 2 | code_items: 0 | spanish_items: 1 | english_items: 1
Dato borrado: text | en | same issue here .
recomposed_text: resuelto en #3872
__Recursividad__
text | es | resuelto en #3872
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: resuelto en #3872

# Entrada procesada 2026-02-09T14:14:27.466779 UTC
text | es | @ramiadavid es esto lo que tú te encontraste en la migración a 17.0? .
text | es | @pedrobaeza si, creo que si .
code | code | @emedina-mts echa un vistazo a estos cambios: https://github.com/oca/l10n-spain/pull/3529/commits/62b30b88c233e1f783c4d8cb7e90e9f74be57dbe#diff-dddf5901fd999ae3d0c986925b1d6d86981f36753f3f607c6ec6c6299d44e312r197 y si los llevas a 16 y funciona, estaría bien que hicieras un pr para resolverlo en esta versión.
code | code | .
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
code | code | .
text | es | @emedina-mts hola, cuando hice la migración a la v17 (creo que era esa) ya lo comenté y lo modifiqué para esa versión, porque habia un problema en los tests y no se estaban ejecutando y por tanto no se detecta a el fallo, yo sugerí que había que revisarlo en versiones anteriores.
text | es | porque no tenia claro si los signo tenian que ser todos en negativo o todos en positivo, simplemente modifique el xml para que los tests no dieran error, porque asumí que los tests estaban correctos y en la pagina de hacienda aparentemente de las dos formas las validaba correctamente aunque ahora no recuerdo donde lo comenté porque no encuentro los comentarios, pero si buscas el pr de la migración y miras los cambios hechos en el xml, verás que se han hecho cambios justamente para eso .
text | es | #4012 incluye el parche para los signos.
Detalles: total_items: 10 | code_items: 3 | spanish_items: 5 | english_items: 2
Dato borrado: code | code | @emedina-mts echa un vistazo a estos cambios: https://github.com/oca/l10n-spain/pull/3529/commits/62b30b88c233e1f783c4d8cb7e90e9f74be57dbe#diff-dddf5901fd999ae3d0c986925b1d6d86981f36753f3f607c6ec6c6299d44e312r197 y si los llevas a 16 y funciona, estaría bien que hicieras un pr para resolverlo en esta versión.
Dato borrado: code | code | .
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Dato borrado: code | code | .
recomposed_text: @ramiadavid es esto lo que tú te encontraste en la migración a 17.0? . @pedrobaeza si, creo que si . @emedina-mts hola, cuando hice la migración a la v17 (creo que era esa) ya lo comenté y lo modifiqué para esa versión, porque habia un problema en los tests y no se estaban ejecutando y por tanto no se detecta a el fallo, yo sugerí que había que revisarlo en versiones anteriores. porque no tenia claro si los signo tenian que ser todos en negativo o todos en positivo, simplemente modifique el xml para que los tests no dieran error, porque asumí que los tests estaban correctos y en la pagina de hacienda aparentemente de las dos formas las validaba correctamente aunque ahora no recuerdo donde lo comenté porque no encuentro los comentarios, pero si buscas el pr de la migración y miras los cambios hechos en el xml, verás que se han hecho cambios justamente para eso . #4012 incluye el parche para los signos.
__Recursividad__
text | es | @ramiadavid es esto lo que tú te encontraste en la migración a 17.0? .
text | es | @pedrobaeza si, creo que si .
text | es | @emedina-mts hola, cuando hice la migración a la v17 (creo que era esa) ya lo comenté y lo modifiqué para esa versión, porque habia un problema en los tests y no se estaban ejecutando y por tanto no se detecta a el fallo, yo sugerí que había que revisarlo en versiones anteriores.
text | es | porque no tenia claro si los signo tenian que ser todos en negativo o todos en positivo, simplemente modifique el xml para que los tests no dieran error, porque asumí que los tests estaban correctos y en la pagina de hacienda aparentemente de las dos formas las validaba correctamente aunque ahora no recuerdo donde lo comenté porque no encuentro los comentarios, pero si buscas el pr de la migración y miras los cambios hechos en el xml, verás que se han hecho cambios justamente para eso .
text | es | #4012 incluye el parche para los signos.
Detalles: total_items: 5 | code_items: 0 | spanish_items: 5 | english_items: 0
recomposed_text: @ramiadavid es esto lo que tú te encontraste en la migración a 17.0? . @pedrobaeza si, creo que si . @emedina-mts hola, cuando hice la migración a la v17 (creo que era esa) ya lo comenté y lo modifiqué para esa versión, porque habia un problema en los tests y no se estaban ejecutando y por tanto no se detecta a el fallo, yo sugerí que había que revisarlo en versiones anteriores. porque no tenia claro si los signo tenian que ser todos en negativo o todos en positivo, simplemente modifique el xml para que los tests no dieran error, porque asumí que los tests estaban correctos y en la pagina de hacienda aparentemente de las dos formas las validaba correctamente aunque ahora no recuerdo donde lo comenté porque no encuentro los comentarios, pero si buscas el pr de la migración y miras los cambios hechos en el xml, verás que se han hecho cambios justamente para eso . #4012 incluye el parche para los signos.

# Entrada procesada 2026-02-09T14:14:27.502228 UTC
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 0 | english_items: 2
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
recomposed_text:
__Recursividad__
Detalles: total_items: 0 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text:

# Entrada procesada 2026-02-09T14:14:27.503716 UTC
text | es | esto no ha cambiado, ya que nunca ha exportado el iban completo.
code | code | se está revisando si incluirlo si es compatible con todos aquí: https://github.com/oca/l10n-spain/pull/3332
Detalles: total_items: 2 | code_items: 1 | spanish_items: 1 | english_items: 0
Dato borrado: code | code | se está revisando si incluirlo si es compatible con todos aquí: https://github.com/oca/l10n-spain/pull/3332
recomposed_text: esto no ha cambiado, ya que nunca ha exportado el iban completo.
__Recursividad__
text | es | esto no ha cambiado, ya que nunca ha exportado el iban completo.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: esto no ha cambiado, ya que nunca ha exportado el iban completo.

# Entrada procesada 2026-02-09T14:14:27.513878 UTC
code | code | fixed with pr #3609 .
text | en | closing the issue as there's a pr.
text | en | next time, you only need to put the pr explaining the issue there.
Detalles: total_items: 3 | code_items: 1 | spanish_items: 0 | english_items: 2
Dato borrado: code | code | fixed with pr #3609 .
Dato borrado: text | en | closing the issue as there's a pr.
Dato borrado: text | en | next time, you only need to put the pr explaining the issue there.
recomposed_text:
__Recursividad__
Detalles: total_items: 0 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text:

# Entrada procesada 2026-02-09T14:14:27.514722 UTC
code | code | no uso todo el tema del pip y los artificios del setup que hace el pre-commit, pero borrando la carpeta del setup y lanzado pre-commit de nuevo, ha salido esto que debe solucionarlo: https://github.com/oca/l10n-spain/commit/8f6f52b14c12c98700cd25d4c0b007303991d036
Detalles: total_items: 1 | code_items: 1 | spanish_items: 0 | english_items: 0
Dato borrado: code | code | no uso todo el tema del pip y los artificios del setup que hace el pre-commit, pero borrando la carpeta del setup y lanzado pre-commit de nuevo, ha salido esto que debe solucionarlo: https://github.com/oca/l10n-spain/commit/8f6f52b14c12c98700cd25d4c0b007303991d036
recomposed_text:
__Recursividad__
Detalles: total_items: 0 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text:

# Entrada procesada 2026-02-09T14:14:27.609799 UTC
text | es | creo que el flag a nivel de account.move.line es la opción más factible.
text | es | pero el actual `with_vat_prorate` se utiliza para otro fin, que es para marcar el apunte generado por el sistema que es la parte de la cuota del impuesto que no se deduce.
text | es | ese flag podría ser un computed writable y llamarse `apply_vat_prorate`, y que se cambie solo según los impuestos puestos o el producto.
text | es | desplazaríamos la lógica que se mira ahora mismo de qué impuestos y cuentas aplican la prorrata o no a este nuevo campo, y simplificaríamos el `_compute_all_tax` a solo mirar si tiene dicho campo marcado o no.
text | es | @etobella también debe opinar aquí, que él tocó bastante este módulo en 14.0 .
text | es | gracias pedro, perfecto, a ver si enric puede corroborar la idoneidad del cambio.
code | code | .
text | es | a ver, mi conocimiento de la prorrata es el siguiente: existen 3 tipos de empresas - empresas normales - empresas con prorata general (se aplica la prorrata en todas las facturas de compra) - empresas con prorata especial (es el caso que explicas) todo lo que comentas afecta a la prorata especial.
text | es | en la especial, al recibir una factura pueden darse 3 casos (de hecho debería hacerse línea a línea): 1- la factura no aplica prorrata - actividad 2 2- aplico la prorrata (o sea, que un porcentaje va a gastos directamente) - no queda claro que actividad es 3- toda la factura va a gastos - actividad 1 por lo tanto, lo que debería hacerse a nivel de apunte es poner un campo de selección (en blanco seria aplica prorata general) este campo solo deberia aparecer si la compañía tiene el flag de "prorata especial" (así no cambia nada para la general) wdyt? .
text | es | bueno, realmente puede ser prorrata general, pero hablar de líneas de negocio.
text | es | @albertcabedo es el caso de aeodoo, ¿no? ¿
text | es | o eso se considera prorrata especial? .
text | es | > a ver, mi conocimiento de la prorrata es el siguiente: > > existen 3 tipos de empresas > > * empresas normales > * empresas con prorata general (se aplica la prorrata en todas las facturas de compra) > * empresas con prorata especial (es el caso que explicas) > > todo lo que comentas afecta a la prorata especial.
text | es | en la especial, al recibir una factura pueden darse 3 casos (de hecho debería hacerse línea a línea): > > 1- la factura no aplica prorrata - actividad 2 2- aplico la prorrata (o sea, que un porcentaje va a gastos directamente) - no queda claro que actividad es 3- toda la factura va a gastos - actividad 1 > > por lo tanto, lo que debería hacerse a nivel de apunte es poner un campo de selección (en blanco seria aplica prorata general) este campo solo deberia aparecer si la compañía tiene el flag de "prorata especial" (así no cambia nada para la general) > > wdyt?
text | es | correcto, enric.
text | es | entonces la propuesta (sin entrar en detalles técnicos ya que no es este mi foco) podría ser: 1- check en compañía para establecer si se rige por prorrata especial (solo si tiene prorrata marcado).
text | es | 2- en caso de que la compañía tenga prorrata especial, en los apuntes contables habrá el check para decidir si se aplica prorrata especial.
text | es | si el check de los apuntes no está marcado y la compañía se rige por prorrata especial, los iva soportados funcionarán sin prorrata (es decir, un impuesto soportado "normal") .
text | es | - ese es nuestro caso, en una misma factura hay impuestos soportados que se comportan sin prorrata, pero hay apuntes con iva soportado a los que sí se debe aplicar prorrata.
text | es | 2.1- si la compañía no tiene marcado prorrata especial (pero sí prorrata) se comportará como hasta ahora con prorrata general.
text | es | 2.2- obviamente, si la compañía no tiene prorrata, se comportará normalmente.
text | es | no se verá sujeta a esta casuística.
text | es | 3- he aquí otra pregunta...
text | es | lo haríais en el mismo módulo?
text | es | o en una extensión del tipo `l10n_es_vat_prorate_special` o similar?
text | es | personalmente creo que un nuevo módulo sería lo más adecuado, para simplificar el código del `l10n_es_vat_prorate` estándar.
code | code | wdyt? .
text | es | no puede ser un check en la línea, pk hay 3 casos distintos: - aplica prorata - todo va a gastos - todo normal te lo pongo con un ejemplo: supongamos que tenemos una compañía 2 actividades: consultoria y formación y que tiene una prorata del 30%.
text | es | y tengo un único centro de trabajo.
text | es | supongamos que recibo la factura de luz.
text | es | como no se a que actividad va, tengo que aplicar mi prorata.
text | es | o sea, del iva podremos desgravar el 30% y el otro 70% irá directamente a gastos ahora recibo una factura de mesas.
text | es | si las mesas son para la parte de consultoria, no aplica la prorata y todo lo podremos desgravar.
text | es | si la factura de mesas fuera para usar en las aulas, al ir a la actividad de educación, no puedo desgravarme los gastos.
code | code | .
text | es | > no puede ser un check en la línea, pk hay 3 casos distintos: > > * aplica prorata > * todo va a gastos > * todo normal > > te lo pongo con un ejemplo: > > supongamos que tenemos una compañía 2 actividades: consultoria y formación y que tiene una prorata del 30%.
text | es | y tengo un único centro de trabajo.
text | es | > > supongamos que recibo la factura de luz.
text | es | como no se a que actividad va, tengo que aplicar mi prorata.
text | es | o sea, del iva podremos desgravar el 30% y el otro 70% irá directamente a gastos > > ahora recibo una factura de mesas.
text | es | si las mesas son para la parte de consultoria, no aplica la prorata y todo lo podremos desgravar.
text | es | > > si la factura de mesas fuera para usar en las aulas, al ir a la actividad de educación, no puedo desgravarme los gastos.
text | es | hola enric, lo que comentas sobre la opción de "todo va a gastos".
text | es | según lo que tengo entendido y nuestro caso: - aplica prorrata --> ese apunte (esa línea de factura) si es para actividad que prorratee, se le desglosará el impuesto en 2 apuntes.
text | es | uno como iva soportado "normal", y otro como más valor de la base, para entendernos (un apunte en la cuenta de gastos).
text | es | - todo normal --> se comporta como un iva soportado sin prorrateo.
text | es | - todo va a gastos --> este punto no lo entiendo.
text | es | ¿qué quieres decir que va todo a gastos?
text | es | en una misma factura, yo tengo los casos 1 y 2.
text | es | "aplica prorrata" y "todo normal" respectivamente.
text | es | me falta por entender el caso de una línea de factura en la que "todo vaya a gastos".
text | es | ¿a qué te refieres?
text | es | gracias.
code | code | .
text | es | me refiero a que ese iva no serà desgravable y debe ir todo a gasto (como si tuvieras una prorata del 0%) .
text | es | > me refiero a que ese iva no serà desgravable y debe ir todo a gasto (como si tuvieras una prorata del 0%) pero para eso ya tendríamos el iva no deducible.
text | es | por lo que no veo necesario que haya 3 opciones: - iva soportado habitual.
text | es | - iva soportado que sí se deba prorratear.
text | es | - todo gasto --> se puede resolver con los iva soportados no deducibles, que ya existen.
text | und | ¿me equivoco? ¿
text | es | o estamos mezclando conceptos? .
text | es | y que haremos con los casos raros como el iva de bienes de inversión? .
text | es | pongamos un ejemplo.
text | es | **contexto:** - soy la compañía 1.
text | es | - llevo a cabo varias actividades.
text | es | unas afectadas por prorrata y otras no, por lo que me veo sujeto a la prorrata especial.
text | es | - actividad 1 = afectada por prorrata.
text | es | - actividad 2 = no afectada por prorrata.
text | es | caso de uso: - me llega la factura mensual de mi proveedor 1, quien me agrupa muchos conceptos en una misma factura.
text | es | - en su factura tengo productos con iva soportado.
text | es | - pongamos que hay 2 conceptos/productos en esa factura.
text | es | - el iva de estos productos, debo interpretarlos según mi actividad, resumidamente: 1.
text | es | este producto es para mi sector de actividad no afectado por la prorrata.
code | code | 2.
text | es | este producto es para mi sector de actividad sí afectado por la prorrata.
text | es | resolución.
text | es | cómo entraría la factura en el sistema: - en la línea del producto 1, no marcaría el check de prorrata especial, por lo que no se vería afectado por la prorrata.
text | es | sería un iva soportado habitual.
text | es | - en la línea del producto 2, marcaría el check de aplicar prorrata especial, ya que en esta línea sí querría aplicar la prorrata del iva.
text | es | esto me haría 2 apuntes contables: uno que se llevaría la prorrata a la cuenta de impuesto y otro que cogería la misma cuenta que la base (lo que te hage la funcionalidad de la prorrata, para entendernos).
text | es | este sería un caso de factura con ivas con prorrateo y sin prorrateo en la misma factura.
text | es | el caso que me comentas tú, entiendo que se diferenciaría de los productos 1 y 2, ¿correcto? .
text | es | correcto @pedrobaeza .
text | es | según mi punto de vista, hablais todos de lo mismo y estáis todos alineados.
text | es | respecto a un posible desarrollo entiendo lo siguiente: 1) si el gasto no es deducible, ya tenemos el impuesto creado para ello, no hay que hacer nada 2) si el gasto es deducible 100%, ya tenemos el impuesto creado para ello, no hay que hacer nada.
text | es | 3) aqui está el tema, si el gasto es "común" en ambas actividades, por ejemplo, el asesor, el abogado, o la luz, entonces se aplica prorrata en estos gastos.
text | es | se puede crear un impuesto para ellos o bien desarrollar alguna casilla u opción que permita aplicar prorrata a dichos gastos.
text | es | como digo, todos decís lo mismo y estáis en lo cierto, cualquier cosa o aclaración un meet de 5 minutos y lo resolvemos seguro.
text | es | gracias y buen finde! .
text | es | gracias @albertcabedo creo que ya tenemos un punto en común y pueden empezar a desarrollarlo.
text | es | @eantones puede que esto te interese .
code | code | > correcto @pedrobaeza .
text | es | según mi punto de vista, hablais todos de lo mismo y estáis todos alineados.
text | es | respecto a un posible desarrollo entiendo lo siguiente: > > 1.
text | es | si el gasto no es deducible, ya tenemos el impuesto creado para ello, no hay que hacer nada > 2.
text | es | si el gasto es deducible 100%, ya tenemos el impuesto creado para ello, no hay que hacer nada.
code | code | > 3.
text | es | aqui está el tema, si el gasto es "común" en ambas actividades, por ejemplo, el asesor, el abogado, o la luz, entonces se aplica prorrata en estos gastos.
text | es | se puede crear un impuesto para ellos o bien desarrollar alguna casilla u opción que permita aplicar prorrata a dichos gastos.
text | es | > > como digo, todos decís lo mismo y estáis en lo cierto, cualquier cosa o aclaración un meet de 5 minutos y lo resolvemos seguro.
text | es | gracias y buen finde!
text | es | gracias albert.
text | es | nos has despejado las dudas.
text | es | @pedrobaeza @etobella entonces propongo lo que ya he comentado antes (sin entrar en detalles, sino a nivel conceptual): 1- check en compañía para establecer si se rige por prorrata especial (solo visible/seleccionable si la compañía tiene prorrata marcado).
text | es | 2- en caso de que la compañía tenga prorrata especial, en las líneas de factura (y en los apuntes) habrá la posibilidad de marcar un check (`ya pensaremos si default=true o si default=false`).
text | es | yo optaría porque pueda ser seleccionable `default=true/false` según la compañía, pero eso ya es más un detalle de ui.
text | es | - este check solo será visible/seleccionable si la compañía tiene marcada la opción de prorrata especial.
text | es | - este check servirá para decidir si el iva aplicado a esta línea de factura (y en los apuntes) se prorratea o no se prorratea.
text | es | - en caso de estar marcado, el iva se prorratea (sí se aplica prorrata).
text | es | - en caso de estar desmarcado, el iva soportado se aplicará normalmente (no se aplica prorrata).
text | es | 3- para terminar...
text | es | ¿hacemos módulo aparte? ¿
text | es | o en el mismo módulo?
text | es | yo creo que lo más limpio seria hace un `l10n_es_vat_prorate_special` o similar, puesto que es un caso muy poco común.
code | code | wdyt? .
text | es | creo que no merece la pena separar en 2 módulos.
text | es | no se gana tanto en este caso.
code | code | .
code | code | ok.
text | es | empezamos a planificar la apertura de nuevo pr.
text | es | a priori, a falta de estudio en detalle: - añadir el check en compañía, para determinar si se está afectado por prorrata especial.
text | es | - añadir los cambios necesarios en facturas y apuntes.
text | es | - añadir los cambios necesarios a nivel de ui.
text | es | - ampliar readme.
text | es | - añadir tests.
text | es | todo como imp del módulo ya existente `l10n_es_vat_prorate` .
text | es | ahora que tenemos hecho esto, vamos a hacer comprobaciones en el módulo l10n_es_aeat_mod303_vat_prorate, para validar que todo dé como tiene que dar.
code | code | .
text | und | implementado.
Detalles: total_items: 129 | code_items: 11 | spanish_items: 116 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | wdyt? .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | 2.
Dato borrado: code | code | > correcto @pedrobaeza .
Dato borrado: code | code | > 3.
Dato borrado: code | code | wdyt? .
Dato borrado: code | code | .
Dato borrado: code | code | ok.
Dato borrado: code | code | .
recomposed_text: creo que el flag a nivel de account.move.line es la opción más factible. pero el actual `with_vat_prorate` se utiliza para otro fin, que es para marcar el apunte generado por el sistema que es la parte de la cuota del impuesto que no se deduce. ese flag podría ser un computed writable y llamarse `apply_vat_prorate`, y que se cambie solo según los impuestos puestos o el producto. desplazaríamos la lógica que se mira ahora mismo de qué impuestos y cuentas aplican la prorrata o no a este nuevo campo, y simplificaríamos el `_compute_all_tax` a solo mirar si tiene dicho campo marcado o no. @etobella también debe opinar aquí, que él tocó bastante este módulo en 14.0 . gracias pedro, perfecto, a ver si enric puede corroborar la idoneidad del cambio. a ver, mi conocimiento de la prorrata es el siguiente: existen 3 tipos de empresas - empresas normales - empresas con prorata general (se aplica la prorrata en todas las facturas de compra) - empresas con prorata especial (es el caso que explicas) todo lo que comentas afecta a la prorata especial. en la especial, al recibir una factura pueden darse 3 casos (de hecho debería hacerse línea a línea): 1- la factura no aplica prorrata - actividad 2 2- aplico la prorrata (o sea, que un porcentaje va a gastos directamente) - no queda claro que actividad es 3- toda la factura va a gastos - actividad 1 por lo tanto, lo que debería hacerse a nivel de apunte es poner un campo de selección (en blanco seria aplica prorata general) este campo solo deberia aparecer si la compañía tiene el flag de "prorata especial" (así no cambia nada para la general) wdyt? . bueno, realmente puede ser prorrata general, pero hablar de líneas de negocio. @albertcabedo es el caso de aeodoo, ¿no? ¿ o eso se considera prorrata especial? . > a ver, mi conocimiento de la prorrata es el siguiente: > > existen 3 tipos de empresas > > * empresas normales > * empresas con prorata general (se aplica la prorrata en todas las facturas de compra) > * empresas con prorata especial (es el caso que explicas) > > todo lo que comentas afecta a la prorata especial. en la especial, al recibir una factura pueden darse 3 casos (de hecho debería hacerse línea a línea): > > 1- la factura no aplica prorrata - actividad 2 2- aplico la prorrata (o sea, que un porcentaje va a gastos directamente) - no queda claro que actividad es 3- toda la factura va a gastos - actividad 1 > > por lo tanto, lo que debería hacerse a nivel de apunte es poner un campo de selección (en blanco seria aplica prorata general) este campo solo deberia aparecer si la compañía tiene el flag de "prorata especial" (así no cambia nada para la general) > > wdyt? correcto, enric. entonces la propuesta (sin entrar en detalles técnicos ya que no es este mi foco) podría ser: 1- check en compañía para establecer si se rige por prorrata especial (solo si tiene prorrata marcado). 2- en caso de que la compañía tenga prorrata especial, en los apuntes contables habrá el check para decidir si se aplica prorrata especial. si el check de los apuntes no está marcado y la compañía se rige por prorrata especial, los iva soportados funcionarán sin prorrata (es decir, un impuesto soportado "normal") . - ese es nuestro caso, en una misma factura hay impuestos soportados que se comportan sin prorrata, pero hay apuntes con iva soportado a los que sí se debe aplicar prorrata. 2.1- si la compañía no tiene marcado prorrata especial (pero sí prorrata) se comportará como hasta ahora con prorrata general. 2.2- obviamente, si la compañía no tiene prorrata, se comportará normalmente. no se verá sujeta a esta casuística. 3- he aquí otra pregunta... lo haríais en el mismo módulo? o en una extensión del tipo `l10n_es_vat_prorate_special` o similar? personalmente creo que un nuevo módulo sería lo más adecuado, para simplificar el código del `l10n_es_vat_prorate` estándar. no puede ser un check en la línea, pk hay 3 casos distintos: - aplica prorata - todo va a gastos - todo normal te lo pongo con un ejemplo: supongamos que tenemos una compañía 2 actividades: consultoria y formación y que tiene una prorata del 30%. y tengo un único centro de trabajo. supongamos que recibo la factura de luz. como no se a que actividad va, tengo que aplicar mi prorata. o sea, del iva podremos desgravar el 30% y el otro 70% irá directamente a gastos ahora recibo una factura de mesas. si las mesas son para la parte de consultoria, no aplica la prorata y todo lo podremos desgravar. si la factura de mesas fuera para usar en las aulas, al ir a la actividad de educación, no puedo desgravarme los gastos. > no puede ser un check en la línea, pk hay 3 casos distintos: > > * aplica prorata > * todo va a gastos > * todo normal > > te lo pongo con un ejemplo: > > supongamos que tenemos una compañía 2 actividades: consultoria y formación y que tiene una prorata del 30%. y tengo un único centro de trabajo. > > supongamos que recibo la factura de luz. como no se a que actividad va, tengo que aplicar mi prorata. o sea, del iva podremos desgravar el 30% y el otro 70% irá directamente a gastos > > ahora recibo una factura de mesas. si las mesas son para la parte de consultoria, no aplica la prorata y todo lo podremos desgravar. > > si la factura de mesas fuera para usar en las aulas, al ir a la actividad de educación, no puedo desgravarme los gastos. hola enric, lo que comentas sobre la opción de "todo va a gastos". según lo que tengo entendido y nuestro caso: - aplica prorrata --> ese apunte (esa línea de factura) si es para actividad que prorratee, se le desglosará el impuesto en 2 apuntes. uno como iva soportado "normal", y otro como más valor de la base, para entendernos (un apunte en la cuenta de gastos). - todo normal --> se comporta como un iva soportado sin prorrateo. - todo va a gastos --> este punto no lo entiendo. ¿qué quieres decir que va todo a gastos? en una misma factura, yo tengo los casos 1 y 2. "aplica prorrata" y "todo normal" respectivamente. me falta por entender el caso de una línea de factura en la que "todo vaya a gastos". ¿a qué te refieres? gracias. me refiero a que ese iva no serà desgravable y debe ir todo a gasto (como si tuvieras una prorata del 0%) . > me refiero a que ese iva no serà desgravable y debe ir todo a gasto (como si tuvieras una prorata del 0%) pero para eso ya tendríamos el iva no deducible. por lo que no veo necesario que haya 3 opciones: - iva soportado habitual. - iva soportado que sí se deba prorratear. - todo gasto --> se puede resolver con los iva soportados no deducibles, que ya existen. ¿me equivoco? ¿ o estamos mezclando conceptos? . y que haremos con los casos raros como el iva de bienes de inversión? . pongamos un ejemplo. **contexto:** - soy la compañía 1. - llevo a cabo varias actividades. unas afectadas por prorrata y otras no, por lo que me veo sujeto a la prorrata especial. - actividad 1 = afectada por prorrata. - actividad 2 = no afectada por prorrata. caso de uso: - me llega la factura mensual de mi proveedor 1, quien me agrupa muchos conceptos en una misma factura. - en su factura tengo productos con iva soportado. - pongamos que hay 2 conceptos/productos en esa factura. - el iva de estos productos, debo interpretarlos según mi actividad, resumidamente: 1. este producto es para mi sector de actividad no afectado por la prorrata. este producto es para mi sector de actividad sí afectado por la prorrata. resolución. cómo entraría la factura en el sistema: - en la línea del producto 1, no marcaría el check de prorrata especial, por lo que no se vería afectado por la prorrata. sería un iva soportado habitual. - en la línea del producto 2, marcaría el check de aplicar prorrata especial, ya que en esta línea sí querría aplicar la prorrata del iva. esto me haría 2 apuntes contables: uno que se llevaría la prorrata a la cuenta de impuesto y otro que cogería la misma cuenta que la base (lo que te hage la funcionalidad de la prorrata, para entendernos). este sería un caso de factura con ivas con prorrateo y sin prorrateo en la misma factura. el caso que me comentas tú, entiendo que se diferenciaría de los productos 1 y 2, ¿correcto? . correcto @pedrobaeza . según mi punto de vista, hablais todos de lo mismo y estáis todos alineados. respecto a un posible desarrollo entiendo lo siguiente: 1) si el gasto no es deducible, ya tenemos el impuesto creado para ello, no hay que hacer nada 2) si el gasto es deducible 100%, ya tenemos el impuesto creado para ello, no hay que hacer nada. 3) aqui está el tema, si el gasto es "común" en ambas actividades, por ejemplo, el asesor, el abogado, o la luz, entonces se aplica prorrata en estos gastos. se puede crear un impuesto para ellos o bien desarrollar alguna casilla u opción que permita aplicar prorrata a dichos gastos. como digo, todos decís lo mismo y estáis en lo cierto, cualquier cosa o aclaración un meet de 5 minutos y lo resolvemos seguro. gracias y buen finde! . gracias @albertcabedo creo que ya tenemos un punto en común y pueden empezar a desarrollarlo. @eantones puede que esto te interese . según mi punto de vista, hablais todos de lo mismo y estáis todos alineados. respecto a un posible desarrollo entiendo lo siguiente: > > 1. si el gasto no es deducible, ya tenemos el impuesto creado para ello, no hay que hacer nada > 2. si el gasto es deducible 100%, ya tenemos el impuesto creado para ello, no hay que hacer nada. aqui está el tema, si el gasto es "común" en ambas actividades, por ejemplo, el asesor, el abogado, o la luz, entonces se aplica prorrata en estos gastos. se puede crear un impuesto para ellos o bien desarrollar alguna casilla u opción que permita aplicar prorrata a dichos gastos. > > como digo, todos decís lo mismo y estáis en lo cierto, cualquier cosa o aclaración un meet de 5 minutos y lo resolvemos seguro. gracias y buen finde! gracias albert. nos has despejado las dudas. @pedrobaeza @etobella entonces propongo lo que ya he comentado antes (sin entrar en detalles, sino a nivel conceptual): 1- check en compañía para establecer si se rige por prorrata especial (solo visible/seleccionable si la compañía tiene prorrata marcado). 2- en caso de que la compañía tenga prorrata especial, en las líneas de factura (y en los apuntes) habrá la posibilidad de marcar un check (`ya pensaremos si default=true o si default=false`). yo optaría porque pueda ser seleccionable `default=true/false` según la compañía, pero eso ya es más un detalle de ui. - este check solo será visible/seleccionable si la compañía tiene marcada la opción de prorrata especial. - este check servirá para decidir si el iva aplicado a esta línea de factura (y en los apuntes) se prorratea o no se prorratea. - en caso de estar marcado, el iva se prorratea (sí se aplica prorrata). - en caso de estar desmarcado, el iva soportado se aplicará normalmente (no se aplica prorrata). 3- para terminar... ¿hacemos módulo aparte? ¿ o en el mismo módulo? yo creo que lo más limpio seria hace un `l10n_es_vat_prorate_special` o similar, puesto que es un caso muy poco común. creo que no merece la pena separar en 2 módulos. no se gana tanto en este caso. empezamos a planificar la apertura de nuevo pr. a priori, a falta de estudio en detalle: - añadir el check en compañía, para determinar si se está afectado por prorrata especial. - añadir los cambios necesarios en facturas y apuntes. - añadir los cambios necesarios a nivel de ui. - ampliar readme. - añadir tests. todo como imp del módulo ya existente `l10n_es_vat_prorate` . ahora que tenemos hecho esto, vamos a hacer comprobaciones en el módulo l10n_es_aeat_mod303_vat_prorate, para validar que todo dé como tiene que dar. implementado.
__Recursividad__
text | es | creo que el flag a nivel de account.move.line es la opción más factible.
text | es | pero el actual `with_vat_prorate` se utiliza para otro fin, que es para marcar el apunte generado por el sistema que es la parte de la cuota del impuesto que no se deduce.
text | es | ese flag podría ser un computed writable y llamarse `apply_vat_prorate`, y que se cambie solo según los impuestos puestos o el producto.
text | es | desplazaríamos la lógica que se mira ahora mismo de qué impuestos y cuentas aplican la prorrata o no a este nuevo campo, y simplificaríamos el `_compute_all_tax` a solo mirar si tiene dicho campo marcado o no.
text | es | @etobella también debe opinar aquí, que él tocó bastante este módulo en 14.0 .
text | es | gracias pedro, perfecto, a ver si enric puede corroborar la idoneidad del cambio.
text | es | a ver, mi conocimiento de la prorrata es el siguiente: existen 3 tipos de empresas - empresas normales - empresas con prorata general (se aplica la prorrata en todas las facturas de compra) - empresas con prorata especial (es el caso que explicas) todo lo que comentas afecta a la prorata especial.
text | es | en la especial, al recibir una factura pueden darse 3 casos (de hecho debería hacerse línea a línea): 1- la factura no aplica prorrata - actividad 2 2- aplico la prorrata (o sea, que un porcentaje va a gastos directamente) - no queda claro que actividad es 3- toda la factura va a gastos - actividad 1 por lo tanto, lo que debería hacerse a nivel de apunte es poner un campo de selección (en blanco seria aplica prorata general) este campo solo deberia aparecer si la compañía tiene el flag de "prorata especial" (así no cambia nada para la general) wdyt? .
text | es | bueno, realmente puede ser prorrata general, pero hablar de líneas de negocio.
text | es | @albertcabedo es el caso de aeodoo, ¿no? ¿
text | es | o eso se considera prorrata especial? .
text | es | > a ver, mi conocimiento de la prorrata es el siguiente: > > existen 3 tipos de empresas > > * empresas normales > * empresas con prorata general (se aplica la prorrata en todas las facturas de compra) > * empresas con prorata especial (es el caso que explicas) > > todo lo que comentas afecta a la prorata especial.
text | es | en la especial, al recibir una factura pueden darse 3 casos (de hecho debería hacerse línea a línea): > > 1- la factura no aplica prorrata - actividad 2 2- aplico la prorrata (o sea, que un porcentaje va a gastos directamente) - no queda claro que actividad es 3- toda la factura va a gastos - actividad 1 > > por lo tanto, lo que debería hacerse a nivel de apunte es poner un campo de selección (en blanco seria aplica prorata general) este campo solo deberia aparecer si la compañía tiene el flag de "prorata especial" (así no cambia nada para la general) > > wdyt?
text | es | correcto, enric.
text | es | entonces la propuesta (sin entrar en detalles técnicos ya que no es este mi foco) podría ser: 1- check en compañía para establecer si se rige por prorrata especial (solo si tiene prorrata marcado).
text | es | 2- en caso de que la compañía tenga prorrata especial, en los apuntes contables habrá el check para decidir si se aplica prorrata especial.
text | es | si el check de los apuntes no está marcado y la compañía se rige por prorrata especial, los iva soportados funcionarán sin prorrata (es decir, un impuesto soportado "normal") .
text | es | - ese es nuestro caso, en una misma factura hay impuestos soportados que se comportan sin prorrata, pero hay apuntes con iva soportado a los que sí se debe aplicar prorrata.
text | es | 2.1- si la compañía no tiene marcado prorrata especial (pero sí prorrata) se comportará como hasta ahora con prorrata general.
text | es | 2.2- obviamente, si la compañía no tiene prorrata, se comportará normalmente.
text | es | no se verá sujeta a esta casuística.
text | es | 3- he aquí otra pregunta...
text | es | lo haríais en el mismo módulo?
text | es | o en una extensión del tipo `l10n_es_vat_prorate_special` o similar?
text | es | personalmente creo que un nuevo módulo sería lo más adecuado, para simplificar el código del `l10n_es_vat_prorate` estándar.
text | es | no puede ser un check en la línea, pk hay 3 casos distintos: - aplica prorata - todo va a gastos - todo normal te lo pongo con un ejemplo: supongamos que tenemos una compañía 2 actividades: consultoria y formación y que tiene una prorata del 30%.
text | es | y tengo un único centro de trabajo.
text | es | supongamos que recibo la factura de luz.
text | es | como no se a que actividad va, tengo que aplicar mi prorata.
text | es | o sea, del iva podremos desgravar el 30% y el otro 70% irá directamente a gastos ahora recibo una factura de mesas.
text | es | si las mesas son para la parte de consultoria, no aplica la prorata y todo lo podremos desgravar.
text | es | si la factura de mesas fuera para usar en las aulas, al ir a la actividad de educación, no puedo desgravarme los gastos.
text | es | > no puede ser un check en la línea, pk hay 3 casos distintos: > > * aplica prorata > * todo va a gastos > * todo normal > > te lo pongo con un ejemplo: > > supongamos que tenemos una compañía 2 actividades: consultoria y formación y que tiene una prorata del 30%.
text | es | y tengo un único centro de trabajo.
text | es | > > supongamos que recibo la factura de luz.
text | es | como no se a que actividad va, tengo que aplicar mi prorata.
text | es | o sea, del iva podremos desgravar el 30% y el otro 70% irá directamente a gastos > > ahora recibo una factura de mesas.
text | es | si las mesas son para la parte de consultoria, no aplica la prorata y todo lo podremos desgravar.
text | es | > > si la factura de mesas fuera para usar en las aulas, al ir a la actividad de educación, no puedo desgravarme los gastos.
text | es | hola enric, lo que comentas sobre la opción de "todo va a gastos".
text | es | según lo que tengo entendido y nuestro caso: - aplica prorrata --> ese apunte (esa línea de factura) si es para actividad que prorratee, se le desglosará el impuesto en 2 apuntes.
text | es | uno como iva soportado "normal", y otro como más valor de la base, para entendernos (un apunte en la cuenta de gastos).
text | es | - todo normal --> se comporta como un iva soportado sin prorrateo.
text | es | - todo va a gastos --> este punto no lo entiendo.
text | es | ¿qué quieres decir que va todo a gastos?
text | es | en una misma factura, yo tengo los casos 1 y 2.
text | es | "aplica prorrata" y "todo normal" respectivamente.
text | es | me falta por entender el caso de una línea de factura en la que "todo vaya a gastos".
text | es | ¿a qué te refieres?
text | es | gracias.
text | es | me refiero a que ese iva no serà desgravable y debe ir todo a gasto (como si tuvieras una prorata del 0%) .
text | es | > me refiero a que ese iva no serà desgravable y debe ir todo a gasto (como si tuvieras una prorata del 0%) pero para eso ya tendríamos el iva no deducible.
text | es | por lo que no veo necesario que haya 3 opciones: - iva soportado habitual.
text | es | - iva soportado que sí se deba prorratear.
text | es | - todo gasto --> se puede resolver con los iva soportados no deducibles, que ya existen.
text | und | ¿me equivoco? ¿
text | es | o estamos mezclando conceptos? .
text | es | y que haremos con los casos raros como el iva de bienes de inversión? .
text | es | pongamos un ejemplo.
text | es | **contexto:** - soy la compañía 1.
text | es | - llevo a cabo varias actividades.
text | es | unas afectadas por prorrata y otras no, por lo que me veo sujeto a la prorrata especial.
text | es | - actividad 1 = afectada por prorrata.
text | es | - actividad 2 = no afectada por prorrata.
text | es | caso de uso: - me llega la factura mensual de mi proveedor 1, quien me agrupa muchos conceptos en una misma factura.
text | es | - en su factura tengo productos con iva soportado.
text | es | - pongamos que hay 2 conceptos/productos en esa factura.
text | es | - el iva de estos productos, debo interpretarlos según mi actividad, resumidamente: 1.
text | es | este producto es para mi sector de actividad no afectado por la prorrata.
text | es | este producto es para mi sector de actividad sí afectado por la prorrata.
text | es | resolución.
text | es | cómo entraría la factura en el sistema: - en la línea del producto 1, no marcaría el check de prorrata especial, por lo que no se vería afectado por la prorrata.
text | es | sería un iva soportado habitual.
text | es | - en la línea del producto 2, marcaría el check de aplicar prorrata especial, ya que en esta línea sí querría aplicar la prorrata del iva.
text | es | esto me haría 2 apuntes contables: uno que se llevaría la prorrata a la cuenta de impuesto y otro que cogería la misma cuenta que la base (lo que te hage la funcionalidad de la prorrata, para entendernos).
text | es | este sería un caso de factura con ivas con prorrateo y sin prorrateo en la misma factura.
text | es | el caso que me comentas tú, entiendo que se diferenciaría de los productos 1 y 2, ¿correcto? .
text | es | correcto @pedrobaeza .
text | es | según mi punto de vista, hablais todos de lo mismo y estáis todos alineados.
text | es | respecto a un posible desarrollo entiendo lo siguiente: 1) si el gasto no es deducible, ya tenemos el impuesto creado para ello, no hay que hacer nada 2) si el gasto es deducible 100%, ya tenemos el impuesto creado para ello, no hay que hacer nada.
text | es | 3) aqui está el tema, si el gasto es "común" en ambas actividades, por ejemplo, el asesor, el abogado, o la luz, entonces se aplica prorrata en estos gastos.
text | es | se puede crear un impuesto para ellos o bien desarrollar alguna casilla u opción que permita aplicar prorrata a dichos gastos.
text | es | como digo, todos decís lo mismo y estáis en lo cierto, cualquier cosa o aclaración un meet de 5 minutos y lo resolvemos seguro.
text | es | gracias y buen finde! .
text | es | gracias @albertcabedo creo que ya tenemos un punto en común y pueden empezar a desarrollarlo.
text | es | @eantones puede que esto te interese .
text | es | según mi punto de vista, hablais todos de lo mismo y estáis todos alineados.
text | es | respecto a un posible desarrollo entiendo lo siguiente: > > 1.
text | es | si el gasto no es deducible, ya tenemos el impuesto creado para ello, no hay que hacer nada > 2.
text | es | si el gasto es deducible 100%, ya tenemos el impuesto creado para ello, no hay que hacer nada.
text | es | aqui está el tema, si el gasto es "común" en ambas actividades, por ejemplo, el asesor, el abogado, o la luz, entonces se aplica prorrata en estos gastos.
text | es | se puede crear un impuesto para ellos o bien desarrollar alguna casilla u opción que permita aplicar prorrata a dichos gastos.
text | es | > > como digo, todos decís lo mismo y estáis en lo cierto, cualquier cosa o aclaración un meet de 5 minutos y lo resolvemos seguro.
text | es | gracias y buen finde!
text | es | gracias albert.
text | es | nos has despejado las dudas.
text | es | @pedrobaeza @etobella entonces propongo lo que ya he comentado antes (sin entrar en detalles, sino a nivel conceptual): 1- check en compañía para establecer si se rige por prorrata especial (solo visible/seleccionable si la compañía tiene prorrata marcado).
text | es | 2- en caso de que la compañía tenga prorrata especial, en las líneas de factura (y en los apuntes) habrá la posibilidad de marcar un check (`ya pensaremos si default=true o si default=false`).
text | es | yo optaría porque pueda ser seleccionable `default=true/false` según la compañía, pero eso ya es más un detalle de ui.
text | es | - este check solo será visible/seleccionable si la compañía tiene marcada la opción de prorrata especial.
text | es | - este check servirá para decidir si el iva aplicado a esta línea de factura (y en los apuntes) se prorratea o no se prorratea.
text | es | - en caso de estar marcado, el iva se prorratea (sí se aplica prorrata).
text | es | - en caso de estar desmarcado, el iva soportado se aplicará normalmente (no se aplica prorrata).
text | es | 3- para terminar...
text | es | ¿hacemos módulo aparte? ¿
text | es | o en el mismo módulo?
text | es | yo creo que lo más limpio seria hace un `l10n_es_vat_prorate_special` o similar, puesto que es un caso muy poco común.
text | es | creo que no merece la pena separar en 2 módulos.
text | es | no se gana tanto en este caso.
text | es | empezamos a planificar la apertura de nuevo pr.
text | es | a priori, a falta de estudio en detalle: - añadir el check en compañía, para determinar si se está afectado por prorrata especial.
text | es | - añadir los cambios necesarios en facturas y apuntes.
text | es | - añadir los cambios necesarios a nivel de ui.
text | es | - ampliar readme.
text | es | - añadir tests.
text | es | todo como imp del módulo ya existente `l10n_es_vat_prorate` .
text | es | ahora que tenemos hecho esto, vamos a hacer comprobaciones en el módulo l10n_es_aeat_mod303_vat_prorate, para validar que todo dé como tiene que dar.
text | und | implementado.
Detalles: total_items: 118 | code_items: 0 | spanish_items: 116 | english_items: 0
Dato borrado: text | und | ¿me equivoco? ¿
Dato borrado: text | und | implementado.
recomposed_text: creo que el flag a nivel de account.move.line es la opción más factible. pero el actual `with_vat_prorate` se utiliza para otro fin, que es para marcar el apunte generado por el sistema que es la parte de la cuota del impuesto que no se deduce. ese flag podría ser un computed writable y llamarse `apply_vat_prorate`, y que se cambie solo según los impuestos puestos o el producto. desplazaríamos la lógica que se mira ahora mismo de qué impuestos y cuentas aplican la prorrata o no a este nuevo campo, y simplificaríamos el `_compute_all_tax` a solo mirar si tiene dicho campo marcado o no. @etobella también debe opinar aquí, que él tocó bastante este módulo en 14.0 . gracias pedro, perfecto, a ver si enric puede corroborar la idoneidad del cambio. a ver, mi conocimiento de la prorrata es el siguiente: existen 3 tipos de empresas - empresas normales - empresas con prorata general (se aplica la prorrata en todas las facturas de compra) - empresas con prorata especial (es el caso que explicas) todo lo que comentas afecta a la prorata especial. en la especial, al recibir una factura pueden darse 3 casos (de hecho debería hacerse línea a línea): 1- la factura no aplica prorrata - actividad 2 2- aplico la prorrata (o sea, que un porcentaje va a gastos directamente) - no queda claro que actividad es 3- toda la factura va a gastos - actividad 1 por lo tanto, lo que debería hacerse a nivel de apunte es poner un campo de selección (en blanco seria aplica prorata general) este campo solo deberia aparecer si la compañía tiene el flag de "prorata especial" (así no cambia nada para la general) wdyt? . bueno, realmente puede ser prorrata general, pero hablar de líneas de negocio. @albertcabedo es el caso de aeodoo, ¿no? ¿ o eso se considera prorrata especial? . > a ver, mi conocimiento de la prorrata es el siguiente: > > existen 3 tipos de empresas > > * empresas normales > * empresas con prorata general (se aplica la prorrata en todas las facturas de compra) > * empresas con prorata especial (es el caso que explicas) > > todo lo que comentas afecta a la prorata especial. en la especial, al recibir una factura pueden darse 3 casos (de hecho debería hacerse línea a línea): > > 1- la factura no aplica prorrata - actividad 2 2- aplico la prorrata (o sea, que un porcentaje va a gastos directamente) - no queda claro que actividad es 3- toda la factura va a gastos - actividad 1 > > por lo tanto, lo que debería hacerse a nivel de apunte es poner un campo de selección (en blanco seria aplica prorata general) este campo solo deberia aparecer si la compañía tiene el flag de "prorata especial" (así no cambia nada para la general) > > wdyt? correcto, enric. entonces la propuesta (sin entrar en detalles técnicos ya que no es este mi foco) podría ser: 1- check en compañía para establecer si se rige por prorrata especial (solo si tiene prorrata marcado). 2- en caso de que la compañía tenga prorrata especial, en los apuntes contables habrá el check para decidir si se aplica prorrata especial. si el check de los apuntes no está marcado y la compañía se rige por prorrata especial, los iva soportados funcionarán sin prorrata (es decir, un impuesto soportado "normal") . - ese es nuestro caso, en una misma factura hay impuestos soportados que se comportan sin prorrata, pero hay apuntes con iva soportado a los que sí se debe aplicar prorrata. 2.1- si la compañía no tiene marcado prorrata especial (pero sí prorrata) se comportará como hasta ahora con prorrata general. 2.2- obviamente, si la compañía no tiene prorrata, se comportará normalmente. no se verá sujeta a esta casuística. 3- he aquí otra pregunta... lo haríais en el mismo módulo? o en una extensión del tipo `l10n_es_vat_prorate_special` o similar? personalmente creo que un nuevo módulo sería lo más adecuado, para simplificar el código del `l10n_es_vat_prorate` estándar. no puede ser un check en la línea, pk hay 3 casos distintos: - aplica prorata - todo va a gastos - todo normal te lo pongo con un ejemplo: supongamos que tenemos una compañía 2 actividades: consultoria y formación y que tiene una prorata del 30%. y tengo un único centro de trabajo. supongamos que recibo la factura de luz. como no se a que actividad va, tengo que aplicar mi prorata. o sea, del iva podremos desgravar el 30% y el otro 70% irá directamente a gastos ahora recibo una factura de mesas. si las mesas son para la parte de consultoria, no aplica la prorata y todo lo podremos desgravar. si la factura de mesas fuera para usar en las aulas, al ir a la actividad de educación, no puedo desgravarme los gastos. > no puede ser un check en la línea, pk hay 3 casos distintos: > > * aplica prorata > * todo va a gastos > * todo normal > > te lo pongo con un ejemplo: > > supongamos que tenemos una compañía 2 actividades: consultoria y formación y que tiene una prorata del 30%. y tengo un único centro de trabajo. > > supongamos que recibo la factura de luz. como no se a que actividad va, tengo que aplicar mi prorata. o sea, del iva podremos desgravar el 30% y el otro 70% irá directamente a gastos > > ahora recibo una factura de mesas. si las mesas son para la parte de consultoria, no aplica la prorata y todo lo podremos desgravar. > > si la factura de mesas fuera para usar en las aulas, al ir a la actividad de educación, no puedo desgravarme los gastos. hola enric, lo que comentas sobre la opción de "todo va a gastos". según lo que tengo entendido y nuestro caso: - aplica prorrata --> ese apunte (esa línea de factura) si es para actividad que prorratee, se le desglosará el impuesto en 2 apuntes. uno como iva soportado "normal", y otro como más valor de la base, para entendernos (un apunte en la cuenta de gastos). - todo normal --> se comporta como un iva soportado sin prorrateo. - todo va a gastos --> este punto no lo entiendo. ¿qué quieres decir que va todo a gastos? en una misma factura, yo tengo los casos 1 y 2. "aplica prorrata" y "todo normal" respectivamente. me falta por entender el caso de una línea de factura en la que "todo vaya a gastos". ¿a qué te refieres? gracias. me refiero a que ese iva no serà desgravable y debe ir todo a gasto (como si tuvieras una prorata del 0%) . > me refiero a que ese iva no serà desgravable y debe ir todo a gasto (como si tuvieras una prorata del 0%) pero para eso ya tendríamos el iva no deducible. por lo que no veo necesario que haya 3 opciones: - iva soportado habitual. - iva soportado que sí se deba prorratear. - todo gasto --> se puede resolver con los iva soportados no deducibles, que ya existen. o estamos mezclando conceptos? . y que haremos con los casos raros como el iva de bienes de inversión? . pongamos un ejemplo. **contexto:** - soy la compañía 1. - llevo a cabo varias actividades. unas afectadas por prorrata y otras no, por lo que me veo sujeto a la prorrata especial. - actividad 1 = afectada por prorrata. - actividad 2 = no afectada por prorrata. caso de uso: - me llega la factura mensual de mi proveedor 1, quien me agrupa muchos conceptos en una misma factura. - en su factura tengo productos con iva soportado. - pongamos que hay 2 conceptos/productos en esa factura. - el iva de estos productos, debo interpretarlos según mi actividad, resumidamente: 1. este producto es para mi sector de actividad no afectado por la prorrata. este producto es para mi sector de actividad sí afectado por la prorrata. resolución. cómo entraría la factura en el sistema: - en la línea del producto 1, no marcaría el check de prorrata especial, por lo que no se vería afectado por la prorrata. sería un iva soportado habitual. - en la línea del producto 2, marcaría el check de aplicar prorrata especial, ya que en esta línea sí querría aplicar la prorrata del iva. esto me haría 2 apuntes contables: uno que se llevaría la prorrata a la cuenta de impuesto y otro que cogería la misma cuenta que la base (lo que te hage la funcionalidad de la prorrata, para entendernos). este sería un caso de factura con ivas con prorrateo y sin prorrateo en la misma factura. el caso que me comentas tú, entiendo que se diferenciaría de los productos 1 y 2, ¿correcto? . correcto @pedrobaeza . según mi punto de vista, hablais todos de lo mismo y estáis todos alineados. respecto a un posible desarrollo entiendo lo siguiente: 1) si el gasto no es deducible, ya tenemos el impuesto creado para ello, no hay que hacer nada 2) si el gasto es deducible 100%, ya tenemos el impuesto creado para ello, no hay que hacer nada. 3) aqui está el tema, si el gasto es "común" en ambas actividades, por ejemplo, el asesor, el abogado, o la luz, entonces se aplica prorrata en estos gastos. se puede crear un impuesto para ellos o bien desarrollar alguna casilla u opción que permita aplicar prorrata a dichos gastos. como digo, todos decís lo mismo y estáis en lo cierto, cualquier cosa o aclaración un meet de 5 minutos y lo resolvemos seguro. gracias y buen finde! . gracias @albertcabedo creo que ya tenemos un punto en común y pueden empezar a desarrollarlo. @eantones puede que esto te interese . según mi punto de vista, hablais todos de lo mismo y estáis todos alineados. respecto a un posible desarrollo entiendo lo siguiente: > > 1. si el gasto no es deducible, ya tenemos el impuesto creado para ello, no hay que hacer nada > 2. si el gasto es deducible 100%, ya tenemos el impuesto creado para ello, no hay que hacer nada. aqui está el tema, si el gasto es "común" en ambas actividades, por ejemplo, el asesor, el abogado, o la luz, entonces se aplica prorrata en estos gastos. se puede crear un impuesto para ellos o bien desarrollar alguna casilla u opción que permita aplicar prorrata a dichos gastos. > > como digo, todos decís lo mismo y estáis en lo cierto, cualquier cosa o aclaración un meet de 5 minutos y lo resolvemos seguro. gracias y buen finde! gracias albert. nos has despejado las dudas. @pedrobaeza @etobella entonces propongo lo que ya he comentado antes (sin entrar en detalles, sino a nivel conceptual): 1- check en compañía para establecer si se rige por prorrata especial (solo visible/seleccionable si la compañía tiene prorrata marcado). 2- en caso de que la compañía tenga prorrata especial, en las líneas de factura (y en los apuntes) habrá la posibilidad de marcar un check (`ya pensaremos si default=true o si default=false`). yo optaría porque pueda ser seleccionable `default=true/false` según la compañía, pero eso ya es más un detalle de ui. - este check solo será visible/seleccionable si la compañía tiene marcada la opción de prorrata especial. - este check servirá para decidir si el iva aplicado a esta línea de factura (y en los apuntes) se prorratea o no se prorratea. - en caso de estar marcado, el iva se prorratea (sí se aplica prorrata). - en caso de estar desmarcado, el iva soportado se aplicará normalmente (no se aplica prorrata). 3- para terminar... ¿hacemos módulo aparte? ¿ o en el mismo módulo? yo creo que lo más limpio seria hace un `l10n_es_vat_prorate_special` o similar, puesto que es un caso muy poco común. creo que no merece la pena separar en 2 módulos. no se gana tanto en este caso. empezamos a planificar la apertura de nuevo pr. a priori, a falta de estudio en detalle: - añadir el check en compañía, para determinar si se está afectado por prorrata especial. - añadir los cambios necesarios en facturas y apuntes. - añadir los cambios necesarios a nivel de ui. - ampliar readme. - añadir tests. todo como imp del módulo ya existente `l10n_es_vat_prorate` . ahora que tenemos hecho esto, vamos a hacer comprobaciones en el módulo l10n_es_aeat_mod303_vat_prorate, para validar que todo dé como tiene que dar.

# Entrada procesada 2026-02-09T14:14:27.914453 UTC
text | es | por si le arroga luz a alguien: un par de clientes nos lo han reportado pero no pasa desde todas las máquinas.
text | es | este comando es equivalente a la llamada que recibe timeout en los tests que mencionas:
code | code | wget https://egoitza.gipuzkoa.eus/ogasuna/sii/ficheros/v1.1/suministrofactrecibidas.wsdl -o-
text | es | en mi pc (por poner un ejemplo) funciona correctamente pero un par de clientes no.
text | es | no sé si hacienda está baneando determinadas ips o es un problema de enrutado más general.
code | code | .
text | es | gracias por la información.
text | es | desde mi pc también funciona.
text | es | a lo mejor como dices han puesto una lista de denegados.
text | es | estoy reintentando en estos momentos un ci, y si sigue fallando, voy a excluir la agencia de los tests porque nos está bloqueando todos los prs, a falta de saber los motivos.
code | code | .
text | es | nos acaba de llegar esto desde hacienda: > buenos días, > > desde la mañana del pasado viernes día 17 estamos teniendo algunos problemas de conectividad.
text | es | estamos trabajando para solventarlos en la mayor brevedad posible.
text | es | > > esta incidencia se tendrá en cuenta, en su caso, a todos los efectos del cumplimiento de las obligaciones tributarias.
text | es | > > disculpen las molestias ocasionadas.
code | code | .
text | es | hacienda gipuzkoa notifica que los problemas de conectividad ya están resueltos.
text | es | @pedrobaeza, si lo puedes confirma se podría cerrar este ticket sin problemas.
code | code | .
code | code | veamos a ver si ya vuelven a funcionar los tests correctamente: https://github.com/oca/l10n-spain/pull/3602 .
text | es | pues sí, efectivamente ya funciona de nuevo.
text | es | lo he dejado restablecido en 16.0, pero para las versiones anteriores creo que lo voy a dejar desactivado como ya tenemos el chivato en caso de que vuelva a fallar, y así no paralizamos tantas ramas en caso de que vuelva a pasar.
Detalles: total_items: 22 | code_items: 6 | spanish_items: 16 | english_items: 0
Dato borrado: code | code | wget https://egoitza.gipuzkoa.eus/ogasuna/sii/ficheros/v1.1/suministrofactrecibidas.wsdl -o-
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | veamos a ver si ya vuelven a funcionar los tests correctamente: https://github.com/oca/l10n-spain/pull/3602 .
recomposed_text: por si le arroga luz a alguien: un par de clientes nos lo han reportado pero no pasa desde todas las máquinas. este comando es equivalente a la llamada que recibe timeout en los tests que mencionas: en mi pc (por poner un ejemplo) funciona correctamente pero un par de clientes no. no sé si hacienda está baneando determinadas ips o es un problema de enrutado más general. gracias por la información. desde mi pc también funciona. a lo mejor como dices han puesto una lista de denegados. estoy reintentando en estos momentos un ci, y si sigue fallando, voy a excluir la agencia de los tests porque nos está bloqueando todos los prs, a falta de saber los motivos. nos acaba de llegar esto desde hacienda: > buenos días, > > desde la mañana del pasado viernes día 17 estamos teniendo algunos problemas de conectividad. estamos trabajando para solventarlos en la mayor brevedad posible. > > esta incidencia se tendrá en cuenta, en su caso, a todos los efectos del cumplimiento de las obligaciones tributarias. > > disculpen las molestias ocasionadas. hacienda gipuzkoa notifica que los problemas de conectividad ya están resueltos. @pedrobaeza, si lo puedes confirma se podría cerrar este ticket sin problemas. pues sí, efectivamente ya funciona de nuevo. lo he dejado restablecido en 16.0, pero para las versiones anteriores creo que lo voy a dejar desactivado como ya tenemos el chivato en caso de que vuelva a fallar, y así no paralizamos tantas ramas en caso de que vuelva a pasar.
__Recursividad__
text | es | por si le arroga luz a alguien: un par de clientes nos lo han reportado pero no pasa desde todas las máquinas.
text | es | este comando es equivalente a la llamada que recibe timeout en los tests que mencionas: en mi pc (por poner un ejemplo) funciona correctamente pero un par de clientes no.
text | es | no sé si hacienda está baneando determinadas ips o es un problema de enrutado más general.
text | es | gracias por la información.
text | es | desde mi pc también funciona.
text | es | a lo mejor como dices han puesto una lista de denegados.
text | es | estoy reintentando en estos momentos un ci, y si sigue fallando, voy a excluir la agencia de los tests porque nos está bloqueando todos los prs, a falta de saber los motivos.
text | es | nos acaba de llegar esto desde hacienda: > buenos días, > > desde la mañana del pasado viernes día 17 estamos teniendo algunos problemas de conectividad.
text | es | estamos trabajando para solventarlos en la mayor brevedad posible.
text | es | > > esta incidencia se tendrá en cuenta, en su caso, a todos los efectos del cumplimiento de las obligaciones tributarias.
text | es | > > disculpen las molestias ocasionadas.
text | es | hacienda gipuzkoa notifica que los problemas de conectividad ya están resueltos.
text | es | @pedrobaeza, si lo puedes confirma se podría cerrar este ticket sin problemas.
text | es | pues sí, efectivamente ya funciona de nuevo.
text | es | lo he dejado restablecido en 16.0, pero para las versiones anteriores creo que lo voy a dejar desactivado como ya tenemos el chivato en caso de que vuelva a fallar, y así no paralizamos tantas ramas en caso de que vuelva a pasar.
Detalles: total_items: 15 | code_items: 0 | spanish_items: 15 | english_items: 0
recomposed_text: por si le arroga luz a alguien: un par de clientes nos lo han reportado pero no pasa desde todas las máquinas. este comando es equivalente a la llamada que recibe timeout en los tests que mencionas: en mi pc (por poner un ejemplo) funciona correctamente pero un par de clientes no. no sé si hacienda está baneando determinadas ips o es un problema de enrutado más general. gracias por la información. desde mi pc también funciona. a lo mejor como dices han puesto una lista de denegados. estoy reintentando en estos momentos un ci, y si sigue fallando, voy a excluir la agencia de los tests porque nos está bloqueando todos los prs, a falta de saber los motivos. nos acaba de llegar esto desde hacienda: > buenos días, > > desde la mañana del pasado viernes día 17 estamos teniendo algunos problemas de conectividad. estamos trabajando para solventarlos en la mayor brevedad posible. > > esta incidencia se tendrá en cuenta, en su caso, a todos los efectos del cumplimiento de las obligaciones tributarias. > > disculpen las molestias ocasionadas. hacienda gipuzkoa notifica que los problemas de conectividad ya están resueltos. @pedrobaeza, si lo puedes confirma se podría cerrar este ticket sin problemas. pues sí, efectivamente ya funciona de nuevo. lo he dejado restablecido en 16.0, pero para las versiones anteriores creo que lo voy a dejar desactivado como ya tenemos el chivato en caso de que vuelva a fallar, y así no paralizamos tantas ramas en caso de que vuelva a pasar.

# Entrada procesada 2026-02-09T14:14:27.977002 UTC
text | es | hola, eso ocurre si actualizas código y reinicias servicio, pero no actualizas módulo dentro de la instancia para que se reflejen los cambios de estructura de la base de datos.
text | es | es algo estándar de todo odoo.
text | es | cierro, al no tratarse de un error del módulo.
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: hola, eso ocurre si actualizas código y reinicias servicio, pero no actualizas módulo dentro de la instancia para que se reflejen los cambios de estructura de la base de datos. es algo estándar de todo odoo. cierro, al no tratarse de un error del módulo.
__Recursividad__
text | es | hola, eso ocurre si actualizas código y reinicias servicio, pero no actualizas módulo dentro de la instancia para que se reflejen los cambios de estructura de la base de datos.
text | es | es algo estándar de todo odoo.
text | es | cierro, al no tratarse de un error del módulo.
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: hola, eso ocurre si actualizas código y reinicias servicio, pero no actualizas módulo dentro de la instancia para que se reflejen los cambios de estructura de la base de datos. es algo estándar de todo odoo. cierro, al no tratarse de un error del módulo.

# Entrada procesada 2026-02-09T14:14:28.000173 UTC
text | es | hola, oca no se hace garante de nada.
text | es | tendrá que ser el propio integrador, o en su defecto, el usuario (el cliente) el que se hace garante del software.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: hola, oca no se hace garante de nada. tendrá que ser el propio integrador, o en su defecto, el usuario (el cliente) el que se hace garante del software.
__Recursividad__
text | es | hola, oca no se hace garante de nada.
text | es | tendrá que ser el propio integrador, o en su defecto, el usuario (el cliente) el que se hace garante del software.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: hola, oca no se hace garante de nada. tendrá que ser el propio integrador, o en su defecto, el usuario (el cliente) el que se hace garante del software.

# Entrada procesada 2026-02-09T14:14:28.013789 UTC
text | es | hola, realiza por favor la pregunta en el foro de aeodoo (https://www.aeodoo.org/forum), ya que este espacio es para bugs/problemas con el código.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: hola, realiza por favor la pregunta en el foro de aeodoo (https://www.aeodoo.org/forum), ya que este espacio es para bugs/problemas con el código.
__Recursividad__
text | es | hola, realiza por favor la pregunta en el foro de aeodoo (https://www.aeodoo.org/forum), ya que este espacio es para bugs/problemas con el código.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: hola, realiza por favor la pregunta en el foro de aeodoo (https://www.aeodoo.org/forum), ya que este espacio es para bugs/problemas con el código.

# Entrada procesada 2026-02-09T14:14:28.026563 UTC
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 0 | english_items: 2
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
recomposed_text:
__Recursividad__
Detalles: total_items: 0 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text:

# Entrada procesada 2026-02-09T14:14:28.029097 UTC
text | es | hola gelo, gracias por el reporte.
text | es | ¿solo falla en v16? ¿
text | es | o te has encontrado lo mismo en v15, por ejemplo?
text | es | saludos.
code | code | .
code | code | fusionado el fix --> https://github.com/oca/l10n-spain/pull/3540
Detalles: total_items: 6 | code_items: 2 | spanish_items: 4 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | fusionado el fix --> https://github.com/oca/l10n-spain/pull/3540
recomposed_text: hola gelo, gracias por el reporte. ¿solo falla en v16? ¿ o te has encontrado lo mismo en v15, por ejemplo? saludos.
__Recursividad__
text | es | hola gelo, gracias por el reporte.
text | es | ¿solo falla en v16? ¿
text | es | o te has encontrado lo mismo en v15, por ejemplo?
text | es | saludos.
Detalles: total_items: 4 | code_items: 0 | spanish_items: 4 | english_items: 0
recomposed_text: hola gelo, gracias por el reporte. ¿solo falla en v16? ¿ o te has encontrado lo mismo en v15, por ejemplo? saludos.

# Entrada procesada 2026-02-09T14:14:28.042431 UTC
text | es | lo tienes en #3534 .
text | es | perdón, #3359, que tengo follón por lo de la separación de prs.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: lo tienes en #3534 . perdón, #3359, que tengo follón por lo de la separación de prs.
__Recursividad__
text | es | lo tienes en #3534 .
text | es | perdón, #3359, que tengo follón por lo de la separación de prs.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: lo tienes en #3534 . perdón, #3359, que tengo follón por lo de la separación de prs.

# Entrada procesada 2026-02-09T14:14:28.053766 UTC
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 0 | english_items: 2
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
recomposed_text:
__Recursividad__
Detalles: total_items: 0 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text:

# Entrada procesada 2026-02-09T14:14:28.061243 UTC
text | es | de hecho, mirando el listado de todas las retenciones que existen para la localización española, existen un montón que a dia de hoy no deberían existir.
text | es | este es el listado de las retenciones existentes en 2024 segun l'aeat: https://sede.agenciatributaria.gob.es/static_files/sede/programas_ayuda/retenciones/2024/cuadro_tipos_retenciones_irpf2024.pdf .
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
code | code | .
text | es | relacionado con irpfs, me he encontrado con un caso donde el régimen del contacto es de canarias pero también hay que aplicarle irpf x% y por lo tanto no lleva iva.
text | es | la solución que me viene inmediatamente a la cabeza es una posición fiscal que mapee a impuestos de canarias (**sin iva**) y además aplique el irpf.
code | code | .
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Detalles: total_items: 10 | code_items: 2 | spanish_items: 4 | english_items: 4
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
recomposed_text: de hecho, mirando el listado de todas las retenciones que existen para la localización española, existen un montón que a dia de hoy no deberían existir. este es el listado de las retenciones existentes en 2024 segun l'aeat: https://sede.agenciatributaria.gob.es/static_files/sede/programas_ayuda/retenciones/2024/cuadro_tipos_retenciones_irpf2024.pdf . relacionado con irpfs, me he encontrado con un caso donde el régimen del contacto es de canarias pero también hay que aplicarle irpf x% y por lo tanto no lleva iva. la solución que me viene inmediatamente a la cabeza es una posición fiscal que mapee a impuestos de canarias (**sin iva**) y además aplique el irpf.
__Recursividad__
text | es | de hecho, mirando el listado de todas las retenciones que existen para la localización española, existen un montón que a dia de hoy no deberían existir.
text | es | este es el listado de las retenciones existentes en 2024 segun l'aeat: https://sede.agenciatributaria.gob.es/static_files/sede/programas_ayuda/retenciones/2024/cuadro_tipos_retenciones_irpf2024.pdf .
text | es | relacionado con irpfs, me he encontrado con un caso donde el régimen del contacto es de canarias pero también hay que aplicarle irpf x% y por lo tanto no lleva iva.
text | es | la solución que me viene inmediatamente a la cabeza es una posición fiscal que mapee a impuestos de canarias (**sin iva**) y además aplique el irpf.
Detalles: total_items: 4 | code_items: 0 | spanish_items: 4 | english_items: 0
recomposed_text: de hecho, mirando el listado de todas las retenciones que existen para la localización española, existen un montón que a dia de hoy no deberían existir. este es el listado de las retenciones existentes en 2024 segun l'aeat: https://sede.agenciatributaria.gob.es/static_files/sede/programas_ayuda/retenciones/2024/cuadro_tipos_retenciones_irpf2024.pdf . relacionado con irpfs, me he encontrado con un caso donde el régimen del contacto es de canarias pero también hay que aplicarle irpf x% y por lo tanto no lleva iva. la solución que me viene inmediatamente a la cabeza es una posición fiscal que mapee a impuestos de canarias (**sin iva**) y además aplique el irpf.

# Entrada procesada 2026-02-09T14:14:28.110966 UTC
text | es | @haraldpanten @pedrobaeza .
code | code | > account_demo https://github.com/odoo/odoo/blob/17.0/addons/account/demo/account_demo.py .
text | es | @manuelregidor respecto a esa factura ¿que es diferente o porque realiza que fallen los test?
text | es | es algo raro que antes no fallara y ahora si ¿podría haber otra causa? .
text | es | @valentinvinagre porque aplica en las líneas impuestos que se tienen en cuenta en el 303, por lo que no solamente se genera el informe con los datos creados en los tests del módulo del 303 sino también con los de la info de demo.
code | code | .
text | es | una solución directa es cambiar la fecha de los datos de los tests para que sea del año pasado, y así no hay solape.
code | code | .
text | es | > una solución directa es cambiar la fecha de los datos de los tests para que sea del año pasado, y así no hay solape.
text | es | si realizamos eso ¿no podría pasar que no podamos testear correctamente nuevos mapeos de impuestos?
text | es | es decir: si por ej.
text | es | tenemos mapeos de esta manera: mapeo1: 1/1/2010 - 31/12/2020 mapeo2: 1/2/2021 - actual aquí se podría poner las facturas de test en fecha 1/1/2021 sin problema.
text | es | pero, si entrase un mapeo nuevo por ej: mapeo1: 1/1/2010 - 31/12/2020 mapeo2: 1/2/2021 - 31/12/2023 mapeo3: 1/1/2024 - actual si ponemos las fechas de facturas en años pasados...
text | es | no podremos testear correctamente esos mapeos actuales.
text | es | si no es que para los tests hacemos la jugada de ...
text | es | dejar siempre el último mapeo y forzar unas fechas específicas correspondiente a los tests.
text | es | ¿como lo ves? .
text | es | ya, claro, ese problema estaba presente en anteriores versiones y de hecho por eso puse la fecha actual y tuve que cambiar el resultado de los tests cuando migré, porque había definiciones de mapeos de impuestos más modernos, pero lo decía como solución inmediata.
text | es | otra opción sería por sql hacer un borrado de impuestos en las facturas existentes para sin mucha complicación, que no interfieran.
code | code | .
text | es | veo mejor pensar una solución un poco más a largo plazo, total ahora estamos a tiempo, ya que se está realizando toda la migración y no tenemos clientes con una alta urgencia de estas necesidades.
text | es | por lo que hemos comentado veo las siguientes opciones: 1.- en los test's de los modelos siempre testear el último mapeo, borrar los anteriores y indicar siempre una fecha específica para que no interfiera lo de odoo.
text | es | (esta es la que veo que menos problemas nos podría dar y que es la "las estable").
text | es | 2.- realizar un borrado por sql (o similar) de todos los impuestos aplicados en las facturas creadas por odoo.
code | code | esto ...
text | es | no me acaba de gustar del todo, ya que se podría interferir en los posibles testeos futuros de otros módulos o si odoo en un futuro cambia esto...
text | es | ¿podría ser problemático?
text | es | 3.- cambiar fechas en las facturas de los tests actuales.
text | es | 4.- cambiar los test's para que de alguna manera se identifiquen las facturas que no tendrían que entrar para los test's de los modelos de oca.
text | es | por ej.
text | es | ¿en el aeat se podría indicar una función de filtrado de todo esto?
text | es | por el momento veo esto ...
text | es | no se si veis alguna opción más.
code | code | .
text | es | 2 no es problemático, porque se deshace todo en cuanto termina el test específico.
code | code | .
text | es | > 2 no es problemático, porque se deshace todo en cuanto termina el test específico.
text | es | la idea sería ponerlo en el l10n_es_aeat para que lo recojan el resto de módulos de la l10n-spain de oca o en cada módulo que tenga problemas? .
text | es | se puede poner en el test aeat base.
text | es | igualmente lo deshará en cada test hijo que lo herede.
Detalles: total_items: 40 | code_items: 7 | spanish_items: 33 | english_items: 0
Dato borrado: code | code | > account_demo https://github.com/odoo/odoo/blob/17.0/addons/account/demo/account_demo.py .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | esto ...
Dato borrado: code | code | .
Dato borrado: code | code | .
recomposed_text: @haraldpanten @pedrobaeza . @manuelregidor respecto a esa factura ¿que es diferente o porque realiza que fallen los test? es algo raro que antes no fallara y ahora si ¿podría haber otra causa? . @valentinvinagre porque aplica en las líneas impuestos que se tienen en cuenta en el 303, por lo que no solamente se genera el informe con los datos creados en los tests del módulo del 303 sino también con los de la info de demo. una solución directa es cambiar la fecha de los datos de los tests para que sea del año pasado, y así no hay solape. > una solución directa es cambiar la fecha de los datos de los tests para que sea del año pasado, y así no hay solape. si realizamos eso ¿no podría pasar que no podamos testear correctamente nuevos mapeos de impuestos? es decir: si por ej. tenemos mapeos de esta manera: mapeo1: 1/1/2010 - 31/12/2020 mapeo2: 1/2/2021 - actual aquí se podría poner las facturas de test en fecha 1/1/2021 sin problema. pero, si entrase un mapeo nuevo por ej: mapeo1: 1/1/2010 - 31/12/2020 mapeo2: 1/2/2021 - 31/12/2023 mapeo3: 1/1/2024 - actual si ponemos las fechas de facturas en años pasados... no podremos testear correctamente esos mapeos actuales. si no es que para los tests hacemos la jugada de ... dejar siempre el último mapeo y forzar unas fechas específicas correspondiente a los tests. ¿como lo ves? . ya, claro, ese problema estaba presente en anteriores versiones y de hecho por eso puse la fecha actual y tuve que cambiar el resultado de los tests cuando migré, porque había definiciones de mapeos de impuestos más modernos, pero lo decía como solución inmediata. otra opción sería por sql hacer un borrado de impuestos en las facturas existentes para sin mucha complicación, que no interfieran. veo mejor pensar una solución un poco más a largo plazo, total ahora estamos a tiempo, ya que se está realizando toda la migración y no tenemos clientes con una alta urgencia de estas necesidades. por lo que hemos comentado veo las siguientes opciones: 1.- en los test's de los modelos siempre testear el último mapeo, borrar los anteriores y indicar siempre una fecha específica para que no interfiera lo de odoo. (esta es la que veo que menos problemas nos podría dar y que es la "las estable"). 2.- realizar un borrado por sql (o similar) de todos los impuestos aplicados en las facturas creadas por odoo. no me acaba de gustar del todo, ya que se podría interferir en los posibles testeos futuros de otros módulos o si odoo en un futuro cambia esto... ¿podría ser problemático? 3.- cambiar fechas en las facturas de los tests actuales. 4.- cambiar los test's para que de alguna manera se identifiquen las facturas que no tendrían que entrar para los test's de los modelos de oca. por ej. ¿en el aeat se podría indicar una función de filtrado de todo esto? por el momento veo esto ... no se si veis alguna opción más. 2 no es problemático, porque se deshace todo en cuanto termina el test específico. > 2 no es problemático, porque se deshace todo en cuanto termina el test específico. la idea sería ponerlo en el l10n_es_aeat para que lo recojan el resto de módulos de la l10n-spain de oca o en cada módulo que tenga problemas? . se puede poner en el test aeat base. igualmente lo deshará en cada test hijo que lo herede.
__Recursividad__
text | es | @haraldpanten @pedrobaeza .
text | es | @manuelregidor respecto a esa factura ¿que es diferente o porque realiza que fallen los test?
text | es | es algo raro que antes no fallara y ahora si ¿podría haber otra causa? .
text | es | @valentinvinagre porque aplica en las líneas impuestos que se tienen en cuenta en el 303, por lo que no solamente se genera el informe con los datos creados en los tests del módulo del 303 sino también con los de la info de demo.
text | es | una solución directa es cambiar la fecha de los datos de los tests para que sea del año pasado, y así no hay solape.
text | es | > una solución directa es cambiar la fecha de los datos de los tests para que sea del año pasado, y así no hay solape.
text | es | si realizamos eso ¿no podría pasar que no podamos testear correctamente nuevos mapeos de impuestos?
text | es | es decir: si por ej.
text | es | tenemos mapeos de esta manera: mapeo1: 1/1/2010 - 31/12/2020 mapeo2: 1/2/2021 - actual aquí se podría poner las facturas de test en fecha 1/1/2021 sin problema.
text | es | pero, si entrase un mapeo nuevo por ej: mapeo1: 1/1/2010 - 31/12/2020 mapeo2: 1/2/2021 - 31/12/2023 mapeo3: 1/1/2024 - actual si ponemos las fechas de facturas en años pasados...
text | es | no podremos testear correctamente esos mapeos actuales.
text | es | si no es que para los tests hacemos la jugada de ...
text | es | dejar siempre el último mapeo y forzar unas fechas específicas correspondiente a los tests.
text | es | ¿como lo ves? .
text | es | ya, claro, ese problema estaba presente en anteriores versiones y de hecho por eso puse la fecha actual y tuve que cambiar el resultado de los tests cuando migré, porque había definiciones de mapeos de impuestos más modernos, pero lo decía como solución inmediata.
text | es | otra opción sería por sql hacer un borrado de impuestos en las facturas existentes para sin mucha complicación, que no interfieran.
text | es | veo mejor pensar una solución un poco más a largo plazo, total ahora estamos a tiempo, ya que se está realizando toda la migración y no tenemos clientes con una alta urgencia de estas necesidades.
text | es | por lo que hemos comentado veo las siguientes opciones: 1.- en los test's de los modelos siempre testear el último mapeo, borrar los anteriores y indicar siempre una fecha específica para que no interfiera lo de odoo.
text | es | (esta es la que veo que menos problemas nos podría dar y que es la "las estable").
text | es | 2.- realizar un borrado por sql (o similar) de todos los impuestos aplicados en las facturas creadas por odoo.
text | es | no me acaba de gustar del todo, ya que se podría interferir en los posibles testeos futuros de otros módulos o si odoo en un futuro cambia esto...
text | es | ¿podría ser problemático?
text | es | 3.- cambiar fechas en las facturas de los tests actuales.
text | es | 4.- cambiar los test's para que de alguna manera se identifiquen las facturas que no tendrían que entrar para los test's de los modelos de oca.
text | es | por ej.
text | es | ¿en el aeat se podría indicar una función de filtrado de todo esto?
text | es | por el momento veo esto ...
text | es | no se si veis alguna opción más.
text | es | 2 no es problemático, porque se deshace todo en cuanto termina el test específico.
text | es | > 2 no es problemático, porque se deshace todo en cuanto termina el test específico.
text | es | la idea sería ponerlo en el l10n_es_aeat para que lo recojan el resto de módulos de la l10n-spain de oca o en cada módulo que tenga problemas? .
text | es | se puede poner en el test aeat base.
text | es | igualmente lo deshará en cada test hijo que lo herede.
Detalles: total_items: 33 | code_items: 0 | spanish_items: 33 | english_items: 0
recomposed_text: @haraldpanten @pedrobaeza . @manuelregidor respecto a esa factura ¿que es diferente o porque realiza que fallen los test? es algo raro que antes no fallara y ahora si ¿podría haber otra causa? . @valentinvinagre porque aplica en las líneas impuestos que se tienen en cuenta en el 303, por lo que no solamente se genera el informe con los datos creados en los tests del módulo del 303 sino también con los de la info de demo. una solución directa es cambiar la fecha de los datos de los tests para que sea del año pasado, y así no hay solape. > una solución directa es cambiar la fecha de los datos de los tests para que sea del año pasado, y así no hay solape. si realizamos eso ¿no podría pasar que no podamos testear correctamente nuevos mapeos de impuestos? es decir: si por ej. tenemos mapeos de esta manera: mapeo1: 1/1/2010 - 31/12/2020 mapeo2: 1/2/2021 - actual aquí se podría poner las facturas de test en fecha 1/1/2021 sin problema. pero, si entrase un mapeo nuevo por ej: mapeo1: 1/1/2010 - 31/12/2020 mapeo2: 1/2/2021 - 31/12/2023 mapeo3: 1/1/2024 - actual si ponemos las fechas de facturas en años pasados... no podremos testear correctamente esos mapeos actuales. si no es que para los tests hacemos la jugada de ... dejar siempre el último mapeo y forzar unas fechas específicas correspondiente a los tests. ¿como lo ves? . ya, claro, ese problema estaba presente en anteriores versiones y de hecho por eso puse la fecha actual y tuve que cambiar el resultado de los tests cuando migré, porque había definiciones de mapeos de impuestos más modernos, pero lo decía como solución inmediata. otra opción sería por sql hacer un borrado de impuestos en las facturas existentes para sin mucha complicación, que no interfieran. veo mejor pensar una solución un poco más a largo plazo, total ahora estamos a tiempo, ya que se está realizando toda la migración y no tenemos clientes con una alta urgencia de estas necesidades. por lo que hemos comentado veo las siguientes opciones: 1.- en los test's de los modelos siempre testear el último mapeo, borrar los anteriores y indicar siempre una fecha específica para que no interfiera lo de odoo. (esta es la que veo que menos problemas nos podría dar y que es la "las estable"). 2.- realizar un borrado por sql (o similar) de todos los impuestos aplicados en las facturas creadas por odoo. no me acaba de gustar del todo, ya que se podría interferir en los posibles testeos futuros de otros módulos o si odoo en un futuro cambia esto... ¿podría ser problemático? 3.- cambiar fechas en las facturas de los tests actuales. 4.- cambiar los test's para que de alguna manera se identifiquen las facturas que no tendrían que entrar para los test's de los modelos de oca. por ej. ¿en el aeat se podría indicar una función de filtrado de todo esto? por el momento veo esto ... no se si veis alguna opción más. 2 no es problemático, porque se deshace todo en cuanto termina el test específico. > 2 no es problemático, porque se deshace todo en cuanto termina el test específico. la idea sería ponerlo en el l10n_es_aeat para que lo recojan el resto de módulos de la l10n-spain de oca o en cada módulo que tenga problemas? . se puede poner en el test aeat base. igualmente lo deshará en cada test hijo que lo herede.

# Entrada procesada 2026-02-09T14:14:28.221997 UTC
text | es | *** editado punto 4 y añadido punto 5.
code | code | .
text | es | hola @soniaviciana entiendo los problemas que indicas, sobre todo los que tienen que ver con las sesiones que cierran al dia siguiente.
text | es | donde los apuntes se van a quedar en una fecha distinta a la del envio del sii de algunas facturas simplificadas.
text | es | lo que no tengo muy claro es la propuesta de solución usando el **l10n_es_aeat_sii_invoice_summary** por que hacer un apunte con el resumen de lo que hay que enviar al sii, ¿supone duplicar la información contable?
text | es | como dices verifactu ha excluido a las empresas adscritas al sii pero no se hasta cuando van a permitir seguir enviando un asiento resumen a los del sii cuando a los demás les van a exigir enviar todas las facturas...
text | es | en cualquier caso, es cierto que hay algunos problemas con esta implementación que habría que revisar, tal vez podríamos esperar a ver la implementación del verifactu en el pos por que habrá que tocar también cosas para enviar cada una de las facturas simplificadas por separado.
text | es | un saludo .
text | es | hola @anmarmo1 en la propuesta de solución, la idea sería no duplicar, si no dotar al asiento agrupado de facturas simplificadas que ya genera el tpv, de la información / lógica faltante para que sea una factura de venta a todos los efectos.
text | es | completando a su vez los campos de `l10n_es_aeat_sii_invoice_summary` (primer y último número de factura simplificada).
text | es | sin embargo...
text | es | esto se tiene que sopesar, porque haría el sii del tpv incompatible con `l10n_es_pos_by_device` (múltiples dispositivos por sesión en el punto de venta).
text | es | entonces, lo cierto es que hay que pensarse bien qué conviene más, sabiendo los pros y los contras de cada opción (esto es lo que pretendo en este issue).
text | es | en todo caso, iremos informando.
text | es | la opción 2 no es algo que tengamos pensado abordar a corto plazo.
text | es | saludos, .
text | es | lo suyo sería que se discutiera esto en los spanish oca days.
text | es | sonia, convence a tu jefe para que vayáis para allá...
code | code | .
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Detalles: total_items: 21 | code_items: 2 | spanish_items: 17 | english_items: 2
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
recomposed_text: *** editado punto 4 y añadido punto 5. hola @soniaviciana entiendo los problemas que indicas, sobre todo los que tienen que ver con las sesiones que cierran al dia siguiente. donde los apuntes se van a quedar en una fecha distinta a la del envio del sii de algunas facturas simplificadas. lo que no tengo muy claro es la propuesta de solución usando el **l10n_es_aeat_sii_invoice_summary** por que hacer un apunte con el resumen de lo que hay que enviar al sii, ¿supone duplicar la información contable? como dices verifactu ha excluido a las empresas adscritas al sii pero no se hasta cuando van a permitir seguir enviando un asiento resumen a los del sii cuando a los demás les van a exigir enviar todas las facturas... en cualquier caso, es cierto que hay algunos problemas con esta implementación que habría que revisar, tal vez podríamos esperar a ver la implementación del verifactu en el pos por que habrá que tocar también cosas para enviar cada una de las facturas simplificadas por separado. un saludo . hola @anmarmo1 en la propuesta de solución, la idea sería no duplicar, si no dotar al asiento agrupado de facturas simplificadas que ya genera el tpv, de la información / lógica faltante para que sea una factura de venta a todos los efectos. completando a su vez los campos de `l10n_es_aeat_sii_invoice_summary` (primer y último número de factura simplificada). sin embargo... esto se tiene que sopesar, porque haría el sii del tpv incompatible con `l10n_es_pos_by_device` (múltiples dispositivos por sesión en el punto de venta). entonces, lo cierto es que hay que pensarse bien qué conviene más, sabiendo los pros y los contras de cada opción (esto es lo que pretendo en este issue). en todo caso, iremos informando. la opción 2 no es algo que tengamos pensado abordar a corto plazo. saludos, . lo suyo sería que se discutiera esto en los spanish oca days. sonia, convence a tu jefe para que vayáis para allá...
__Recursividad__
text | es | *** editado punto 4 y añadido punto 5.
text | es | hola @soniaviciana entiendo los problemas que indicas, sobre todo los que tienen que ver con las sesiones que cierran al dia siguiente.
text | es | donde los apuntes se van a quedar en una fecha distinta a la del envio del sii de algunas facturas simplificadas.
text | es | lo que no tengo muy claro es la propuesta de solución usando el **l10n_es_aeat_sii_invoice_summary** por que hacer un apunte con el resumen de lo que hay que enviar al sii, ¿supone duplicar la información contable?
text | es | como dices verifactu ha excluido a las empresas adscritas al sii pero no se hasta cuando van a permitir seguir enviando un asiento resumen a los del sii cuando a los demás les van a exigir enviar todas las facturas...
text | es | en cualquier caso, es cierto que hay algunos problemas con esta implementación que habría que revisar, tal vez podríamos esperar a ver la implementación del verifactu en el pos por que habrá que tocar también cosas para enviar cada una de las facturas simplificadas por separado.
text | es | un saludo .
text | es | hola @anmarmo1 en la propuesta de solución, la idea sería no duplicar, si no dotar al asiento agrupado de facturas simplificadas que ya genera el tpv, de la información / lógica faltante para que sea una factura de venta a todos los efectos.
text | es | completando a su vez los campos de `l10n_es_aeat_sii_invoice_summary` (primer y último número de factura simplificada).
text | es | sin embargo...
text | es | esto se tiene que sopesar, porque haría el sii del tpv incompatible con `l10n_es_pos_by_device` (múltiples dispositivos por sesión en el punto de venta).
text | es | entonces, lo cierto es que hay que pensarse bien qué conviene más, sabiendo los pros y los contras de cada opción (esto es lo que pretendo en este issue).
text | es | en todo caso, iremos informando.
text | es | la opción 2 no es algo que tengamos pensado abordar a corto plazo.
text | es | saludos, .
text | es | lo suyo sería que se discutiera esto en los spanish oca days.
text | es | sonia, convence a tu jefe para que vayáis para allá...
Detalles: total_items: 17 | code_items: 0 | spanish_items: 17 | english_items: 0
recomposed_text: *** editado punto 4 y añadido punto 5. hola @soniaviciana entiendo los problemas que indicas, sobre todo los que tienen que ver con las sesiones que cierran al dia siguiente. donde los apuntes se van a quedar en una fecha distinta a la del envio del sii de algunas facturas simplificadas. lo que no tengo muy claro es la propuesta de solución usando el **l10n_es_aeat_sii_invoice_summary** por que hacer un apunte con el resumen de lo que hay que enviar al sii, ¿supone duplicar la información contable? como dices verifactu ha excluido a las empresas adscritas al sii pero no se hasta cuando van a permitir seguir enviando un asiento resumen a los del sii cuando a los demás les van a exigir enviar todas las facturas... en cualquier caso, es cierto que hay algunos problemas con esta implementación que habría que revisar, tal vez podríamos esperar a ver la implementación del verifactu en el pos por que habrá que tocar también cosas para enviar cada una de las facturas simplificadas por separado. un saludo . hola @anmarmo1 en la propuesta de solución, la idea sería no duplicar, si no dotar al asiento agrupado de facturas simplificadas que ya genera el tpv, de la información / lógica faltante para que sea una factura de venta a todos los efectos. completando a su vez los campos de `l10n_es_aeat_sii_invoice_summary` (primer y último número de factura simplificada). sin embargo... esto se tiene que sopesar, porque haría el sii del tpv incompatible con `l10n_es_pos_by_device` (múltiples dispositivos por sesión en el punto de venta). entonces, lo cierto es que hay que pensarse bien qué conviene más, sabiendo los pros y los contras de cada opción (esto es lo que pretendo en este issue). en todo caso, iremos informando. la opción 2 no es algo que tengamos pensado abordar a corto plazo. saludos, . lo suyo sería que se discutiera esto en los spanish oca days. sonia, convence a tu jefe para que vayáis para allá...

# Entrada procesada 2026-02-09T14:14:28.293379 UTC
code | code | detalla de los cambios comentados sobre el 123 en https://github.com/oca/l10n-spain/issues/3227 .
text | es | gracias @arantxasudon @rafaelbn .
text | es | abrís pr? .
text | es | @haraldpanten , podemos empezar a trabajar en esto el lunes a primera hora.
text | es | esta semana no podemos empezar.
code | code | .
text | es | > @haraldpanten , podemos empezar a trabajar en esto el lunes a primera hora.
text | es | esta semana no podemos empezar.
text | es | sin problema, cuando os vaya bien.
text | es | nosotros estamos con la migración a v17.
text | es | si os encargáis del nuevo formato en v16, por ejemplo, ya lo añadimos en el pr de migración para la nueva.
text | es | gracias! .
code | code | @haraldpanten pr en https://github.com/oca/l10n-spain/pull/3528 .
code | code | @rafaelbn @haraldpanten dejo captura del excell utilizado en v16 para incorporar los cambios por si sirve de ayuda ![captura desde 2024-04-15 12-20-06](https://github.com/oca/l10n-spain/assets/104626993/81c42c25-6876-494e-b015-bdf8a8528e73) .
text | es | realizado en #3528
Detalles: total_items: 15 | code_items: 4 | spanish_items: 11 | english_items: 0
Dato borrado: code | code | detalla de los cambios comentados sobre el 123 en https://github.com/oca/l10n-spain/issues/3227 .
Dato borrado: code | code | .
Dato borrado: code | code | @haraldpanten pr en https://github.com/oca/l10n-spain/pull/3528 .
Dato borrado: code | code | @rafaelbn @haraldpanten dejo captura del excell utilizado en v16 para incorporar los cambios por si sirve de ayuda ![captura desde 2024-04-15 12-20-06](https://github.com/oca/l10n-spain/assets/104626993/81c42c25-6876-494e-b015-bdf8a8528e73) .
recomposed_text: gracias @arantxasudon @rafaelbn . abrís pr? . @haraldpanten , podemos empezar a trabajar en esto el lunes a primera hora. esta semana no podemos empezar. > @haraldpanten , podemos empezar a trabajar en esto el lunes a primera hora. esta semana no podemos empezar. sin problema, cuando os vaya bien. nosotros estamos con la migración a v17. si os encargáis del nuevo formato en v16, por ejemplo, ya lo añadimos en el pr de migración para la nueva. gracias! . realizado en #3528
__Recursividad__
text | es | gracias @arantxasudon @rafaelbn .
text | es | abrís pr? .
text | es | @haraldpanten , podemos empezar a trabajar en esto el lunes a primera hora.
text | es | esta semana no podemos empezar.
text | es | > @haraldpanten , podemos empezar a trabajar en esto el lunes a primera hora.
text | es | esta semana no podemos empezar.
text | es | sin problema, cuando os vaya bien.
text | es | nosotros estamos con la migración a v17.
text | es | si os encargáis del nuevo formato en v16, por ejemplo, ya lo añadimos en el pr de migración para la nueva.
text | es | gracias! .
text | es | realizado en #3528
Detalles: total_items: 11 | code_items: 0 | spanish_items: 11 | english_items: 0
recomposed_text: gracias @arantxasudon @rafaelbn . abrís pr? . @haraldpanten , podemos empezar a trabajar en esto el lunes a primera hora. esta semana no podemos empezar. > @haraldpanten , podemos empezar a trabajar en esto el lunes a primera hora. esta semana no podemos empezar. sin problema, cuando os vaya bien. nosotros estamos con la migración a v17. si os encargáis del nuevo formato en v16, por ejemplo, ya lo añadimos en el pr de migración para la nueva. gracias! . realizado en #3528

# Entrada procesada 2026-02-09T14:14:28.318307 UTC
text | es | buenas tardes @greciosd, por lo que he podido comprobar es correcto que ambas cuentas tengan el mismo código, pero claramente no es correcto que ambas se carguen en el paquete "sin ánimo de lucro".
text | es | en el plan general la cuenta 4707 corresponde a "hacienda pública, deudora por igic" y en el plan "sin ánimo de lucro" la cuenta 4707 corresponde a "hacienda pública, deudora por colaboración en la entrega y distribución de subvenciones (art.12 ley de subvenciones)".
text | es | voy a proponer un pr para sacar las cuentas 4707 y la cuenta 4757 del common, para poder asignarlas a nivel del hijo.
code | code | .
code | code | el pr en concreto: https://github.com/oca/l10n-spain/pull/3523
Detalles: total_items: 5 | code_items: 2 | spanish_items: 3 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | el pr en concreto: https://github.com/oca/l10n-spain/pull/3523
recomposed_text: buenas tardes @greciosd, por lo que he podido comprobar es correcto que ambas cuentas tengan el mismo código, pero claramente no es correcto que ambas se carguen en el paquete "sin ánimo de lucro". en el plan general la cuenta 4707 corresponde a "hacienda pública, deudora por igic" y en el plan "sin ánimo de lucro" la cuenta 4707 corresponde a "hacienda pública, deudora por colaboración en la entrega y distribución de subvenciones (art.12 ley de subvenciones)". voy a proponer un pr para sacar las cuentas 4707 y la cuenta 4757 del common, para poder asignarlas a nivel del hijo.
__Recursividad__
text | es | buenas tardes @greciosd, por lo que he podido comprobar es correcto que ambas cuentas tengan el mismo código, pero claramente no es correcto que ambas se carguen en el paquete "sin ánimo de lucro".
text | es | en el plan general la cuenta 4707 corresponde a "hacienda pública, deudora por igic" y en el plan "sin ánimo de lucro" la cuenta 4707 corresponde a "hacienda pública, deudora por colaboración en la entrega y distribución de subvenciones (art.12 ley de subvenciones)".
text | es | voy a proponer un pr para sacar las cuentas 4707 y la cuenta 4757 del common, para poder asignarlas a nivel del hijo.
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: buenas tardes @greciosd, por lo que he podido comprobar es correcto que ambas cuentas tengan el mismo código, pero claramente no es correcto que ambas se carguen en el paquete "sin ánimo de lucro". en el plan general la cuenta 4707 corresponde a "hacienda pública, deudora por igic" y en el plan "sin ánimo de lucro" la cuenta 4707 corresponde a "hacienda pública, deudora por colaboración en la entrega y distribución de subvenciones (art.12 ley de subvenciones)". voy a proponer un pr para sacar las cuentas 4707 y la cuenta 4757 del common, para poder asignarlas a nivel del hijo.

# Entrada procesada 2026-02-09T14:14:28.345644 UTC
text | es | hola, loia, creo recordar que se quitó porque la aeat no quería tener el campo rellenado en ese caso.
text | es | entonces el parche sería que no fuera visible para el tipo `i`.
text | es | probadlo si es correcta mi hipótesis y nos decís.
code | code | .
text | es | por ahora el tipo "i" no es visible.
text | es | pero sí debería serlo.
code | code | según la aeat, esta es la nueva normativa: ![imagen](https://github.com/oca/l10n-spain/assets/104626797/3d886030-fa3c-44d2-b78b-5455cfbdadf7) https://sede.agenciatributaria.gob.es/sede/todas-gestiones/impuestos-tasas/iva/modelo-303-iva-autoliquidacion_/instrucciones.html si la opción es a domiciliar, debe estar indicada la cuenta bancaria.
code | code | ahora el código está así: https://github.com/oca/l10n-spain/blob/fc2a79ffe96832030fffed3c3d41b251ba63d12c/l10n_es_aeat_mod303/data/2023/aeat.model.export.config.line.csv#l123 (_línea 123; columna: expression_) solo es visible con el `result_type` x y d gracias .
text | es | ok, pues adelante con el pr si lo tenéis claro.
Detalles: total_items: 9 | code_items: 3 | spanish_items: 6 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | según la aeat, esta es la nueva normativa: ![imagen](https://github.com/oca/l10n-spain/assets/104626797/3d886030-fa3c-44d2-b78b-5455cfbdadf7) https://sede.agenciatributaria.gob.es/sede/todas-gestiones/impuestos-tasas/iva/modelo-303-iva-autoliquidacion_/instrucciones.html si la opción es a domiciliar, debe estar indicada la cuenta bancaria.
Dato borrado: code | code | ahora el código está así: https://github.com/oca/l10n-spain/blob/fc2a79ffe96832030fffed3c3d41b251ba63d12c/l10n_es_aeat_mod303/data/2023/aeat.model.export.config.line.csv#l123 (_línea 123; columna: expression_) solo es visible con el `result_type` x y d gracias .
recomposed_text: hola, loia, creo recordar que se quitó porque la aeat no quería tener el campo rellenado en ese caso. entonces el parche sería que no fuera visible para el tipo `i`. probadlo si es correcta mi hipótesis y nos decís. por ahora el tipo "i" no es visible. pero sí debería serlo. ok, pues adelante con el pr si lo tenéis claro.
__Recursividad__
text | es | hola, loia, creo recordar que se quitó porque la aeat no quería tener el campo rellenado en ese caso.
text | es | entonces el parche sería que no fuera visible para el tipo `i`.
text | es | probadlo si es correcta mi hipótesis y nos decís.
text | es | por ahora el tipo "i" no es visible.
text | es | pero sí debería serlo.
text | es | ok, pues adelante con el pr si lo tenéis claro.
Detalles: total_items: 6 | code_items: 0 | spanish_items: 6 | english_items: 0
recomposed_text: hola, loia, creo recordar que se quitó porque la aeat no quería tener el campo rellenado en ese caso. entonces el parche sería que no fuera visible para el tipo `i`. probadlo si es correcta mi hipótesis y nos decís. por ahora el tipo "i" no es visible. pero sí debería serlo. ok, pues adelante con el pr si lo tenéis claro.

# Entrada procesada 2026-02-09T14:14:28.378110 UTC
text | es | @etobella si no recuerdo mal, lo incluiste tú para evitar una incompatibilidad.
code | code | .
text | es | no entiendo el problema :thinking: que tiene que ver el manifest de la 15 si estas instalando 16.
text | es | de hecho, usamos la misma versión que define odoo en sus requirements.
code | code | https://github.com/odoo/odoo/blob/16.0/requirements.txt#l5 así que para mi no hay ningún bug.
text | es | debemos recordar que por eso hay cambio de versiones...
text | es | las dependencias pueden cambiar entre versiones mayores (lo intentamos evitar en menores...) .
text | es | @etobella la indicación a la rama 15 es por indicar las diferencias entre una rama que no da ningún problema (la cual en su manifest no solicita ninguna version de cryptography en concreto) realizando la instalación con una que si las esta dando.
text | es | la única diferencia apreciable entre versiones es la obligación de versión de la dependencia que aunque estando la misma versión que requiere odoo y en el sistema la misma, esa indicación de version es la que genera el fallo que salta el error de que no esta instalada (aunque si lo esta) como se ha indicado, los pasos han sido los siguientes: instalación de odoo 16 ce con sus requirements, su funcionamiento es correcto descarga del repositorio l10n_spain e instalación de sus requirements, cuando se va a los modulos mencionados salta el mensaje de que esa versión no esta instalada.
text | es | si eliminamos del manifest la versión, dejando solo indicado la dependencia cryptography funciona correctamente la instalación queremos dejar claro que este problema no es a nivel del fichero requirements.txt sino en los archivos __manifest__.py .
text | es | el problema esta en tu instalacion.
text | es | odoo requiere esa version, por eso esta congelado.
code | code | .
text | es | @itecan efectivamente si se instala con las versiones indicadas tanto en el requirements.txt de odoo como en el manifest, todo funciona correctamente, así que cierro.
text | es | revisa por favor tu procedimiento de despliegue para ver si estás instalando por otro lado una versión sin congelar de `cryptography`, y tendrás que indicar dicha versión.
text | es | me suena que utilizas doodba, así que sería en el archivo pip.txt indicar `cryptography==3.4.8` en lugar de solo `cryptography`.
text | es | cierro entonces la issue.
Detalles: total_items: 17 | code_items: 3 | spanish_items: 14 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | https://github.com/odoo/odoo/blob/16.0/requirements.txt#l5 así que para mi no hay ningún bug.
Dato borrado: code | code | .
recomposed_text: @etobella si no recuerdo mal, lo incluiste tú para evitar una incompatibilidad. no entiendo el problema :thinking: que tiene que ver el manifest de la 15 si estas instalando 16. de hecho, usamos la misma versión que define odoo en sus requirements. debemos recordar que por eso hay cambio de versiones... las dependencias pueden cambiar entre versiones mayores (lo intentamos evitar en menores...) . @etobella la indicación a la rama 15 es por indicar las diferencias entre una rama que no da ningún problema (la cual en su manifest no solicita ninguna version de cryptography en concreto) realizando la instalación con una que si las esta dando. la única diferencia apreciable entre versiones es la obligación de versión de la dependencia que aunque estando la misma versión que requiere odoo y en el sistema la misma, esa indicación de version es la que genera el fallo que salta el error de que no esta instalada (aunque si lo esta) como se ha indicado, los pasos han sido los siguientes: instalación de odoo 16 ce con sus requirements, su funcionamiento es correcto descarga del repositorio l10n_spain e instalación de sus requirements, cuando se va a los modulos mencionados salta el mensaje de que esa versión no esta instalada. si eliminamos del manifest la versión, dejando solo indicado la dependencia cryptography funciona correctamente la instalación queremos dejar claro que este problema no es a nivel del fichero requirements.txt sino en los archivos __manifest__.py . el problema esta en tu instalacion. odoo requiere esa version, por eso esta congelado. @itecan efectivamente si se instala con las versiones indicadas tanto en el requirements.txt de odoo como en el manifest, todo funciona correctamente, así que cierro. revisa por favor tu procedimiento de despliegue para ver si estás instalando por otro lado una versión sin congelar de `cryptography`, y tendrás que indicar dicha versión. me suena que utilizas doodba, así que sería en el archivo pip.txt indicar `cryptography==3.4.8` en lugar de solo `cryptography`. cierro entonces la issue.
__Recursividad__
text | es | @etobella si no recuerdo mal, lo incluiste tú para evitar una incompatibilidad.
text | es | no entiendo el problema :thinking: que tiene que ver el manifest de la 15 si estas instalando 16.
text | es | de hecho, usamos la misma versión que define odoo en sus requirements.
text | es | debemos recordar que por eso hay cambio de versiones...
text | es | las dependencias pueden cambiar entre versiones mayores (lo intentamos evitar en menores...) .
text | es | @etobella la indicación a la rama 15 es por indicar las diferencias entre una rama que no da ningún problema (la cual en su manifest no solicita ninguna version de cryptography en concreto) realizando la instalación con una que si las esta dando.
text | es | la única diferencia apreciable entre versiones es la obligación de versión de la dependencia que aunque estando la misma versión que requiere odoo y en el sistema la misma, esa indicación de version es la que genera el fallo que salta el error de que no esta instalada (aunque si lo esta) como se ha indicado, los pasos han sido los siguientes: instalación de odoo 16 ce con sus requirements, su funcionamiento es correcto descarga del repositorio l10n_spain e instalación de sus requirements, cuando se va a los modulos mencionados salta el mensaje de que esa versión no esta instalada.
text | es | si eliminamos del manifest la versión, dejando solo indicado la dependencia cryptography funciona correctamente la instalación queremos dejar claro que este problema no es a nivel del fichero requirements.txt sino en los archivos __manifest__.py .
text | es | el problema esta en tu instalacion.
text | es | odoo requiere esa version, por eso esta congelado.
text | es | @itecan efectivamente si se instala con las versiones indicadas tanto en el requirements.txt de odoo como en el manifest, todo funciona correctamente, así que cierro.
text | es | revisa por favor tu procedimiento de despliegue para ver si estás instalando por otro lado una versión sin congelar de `cryptography`, y tendrás que indicar dicha versión.
text | es | me suena que utilizas doodba, así que sería en el archivo pip.txt indicar `cryptography==3.4.8` en lugar de solo `cryptography`.
text | es | cierro entonces la issue.
Detalles: total_items: 14 | code_items: 0 | spanish_items: 14 | english_items: 0
recomposed_text: @etobella si no recuerdo mal, lo incluiste tú para evitar una incompatibilidad. no entiendo el problema :thinking: que tiene que ver el manifest de la 15 si estas instalando 16. de hecho, usamos la misma versión que define odoo en sus requirements. debemos recordar que por eso hay cambio de versiones... las dependencias pueden cambiar entre versiones mayores (lo intentamos evitar en menores...) . @etobella la indicación a la rama 15 es por indicar las diferencias entre una rama que no da ningún problema (la cual en su manifest no solicita ninguna version de cryptography en concreto) realizando la instalación con una que si las esta dando. la única diferencia apreciable entre versiones es la obligación de versión de la dependencia que aunque estando la misma versión que requiere odoo y en el sistema la misma, esa indicación de version es la que genera el fallo que salta el error de que no esta instalada (aunque si lo esta) como se ha indicado, los pasos han sido los siguientes: instalación de odoo 16 ce con sus requirements, su funcionamiento es correcto descarga del repositorio l10n_spain e instalación de sus requirements, cuando se va a los modulos mencionados salta el mensaje de que esa versión no esta instalada. si eliminamos del manifest la versión, dejando solo indicado la dependencia cryptography funciona correctamente la instalación queremos dejar claro que este problema no es a nivel del fichero requirements.txt sino en los archivos __manifest__.py . el problema esta en tu instalacion. odoo requiere esa version, por eso esta congelado. @itecan efectivamente si se instala con las versiones indicadas tanto en el requirements.txt de odoo como en el manifest, todo funciona correctamente, así que cierro. revisa por favor tu procedimiento de despliegue para ver si estás instalando por otro lado una versión sin congelar de `cryptography`, y tendrás que indicar dicha versión. me suena que utilizas doodba, así que sería en el archivo pip.txt indicar `cryptography==3.4.8` en lugar de solo `cryptography`. cierro entonces la issue.

# Entrada procesada 2026-02-09T14:14:28.433362 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:28.438192 UTC
text | es | hola, esto no es ninguna issue del módulo, por lo que éste no es el lugar adecuado para hacer este tipo de solicitudes.
text | es | prueba a ponerlo en los foros de aeodoo: https://www.aeodoo.org/forum.
text | es | de todas formas, creo que este tipo de cosas son las que debe aportar cada uno como empresa implantadora de odoo, y no tengo claro que alguien os conteste al respecto.
text | es | estamos muchos que ni trabajamos en esa zona, y los demás ya han aportado el software como gesto solidario.
Detalles: total_items: 4 | code_items: 0 | spanish_items: 4 | english_items: 0
recomposed_text: hola, esto no es ninguna issue del módulo, por lo que éste no es el lugar adecuado para hacer este tipo de solicitudes. prueba a ponerlo en los foros de aeodoo: https://www.aeodoo.org/forum. de todas formas, creo que este tipo de cosas son las que debe aportar cada uno como empresa implantadora de odoo, y no tengo claro que alguien os conteste al respecto. estamos muchos que ni trabajamos en esa zona, y los demás ya han aportado el software como gesto solidario.
__Recursividad__
text | es | hola, esto no es ninguna issue del módulo, por lo que éste no es el lugar adecuado para hacer este tipo de solicitudes.
text | es | prueba a ponerlo en los foros de aeodoo: https://www.aeodoo.org/forum.
text | es | de todas formas, creo que este tipo de cosas son las que debe aportar cada uno como empresa implantadora de odoo, y no tengo claro que alguien os conteste al respecto.
text | es | estamos muchos que ni trabajamos en esa zona, y los demás ya han aportado el software como gesto solidario.
Detalles: total_items: 4 | code_items: 0 | spanish_items: 4 | english_items: 0
recomposed_text: hola, esto no es ninguna issue del módulo, por lo que éste no es el lugar adecuado para hacer este tipo de solicitudes. prueba a ponerlo en los foros de aeodoo: https://www.aeodoo.org/forum. de todas formas, creo que este tipo de cosas son las que debe aportar cada uno como empresa implantadora de odoo, y no tengo claro que alguien os conteste al respecto. estamos muchos que ni trabajamos en esa zona, y los demás ya han aportado el software como gesto solidario.

# Entrada procesada 2026-02-09T14:14:28.531501 UTC
text | en | envase no debe ser la traducción para `product.packaging`: https://dle.rae.es/envase.
text | es | empaquetado era correcto imo.
code | code | .
text | es | precisamente consultamos la rae a la hora de hacer esa elección.
text | es | [la traducción para empaquetado](https://dle.rae.es/empaquetado) indica únicamente: > acción y efecto de empaquetar.
text | es | normalmente, en los contextos mencionados, el que conlleva una "acción y efecto" es más bien el contexto de inventario.
text | es | pongamos el caso de un supermercado: - los operarios de almacén harán la "acción y efecto de [des]empaquetar" al abrir los pallets, que quizás vengan envueltos en plástico, y colocar las cajas en estanterías, o "acciones" similares.
text | es | - en cambio, las fresas ya las compran "envasadas" en cajitas de 500g, no es una "acción" que ellos hagan.
text | es | en cualquier caso, obviamente son términos casi equivalentes, y el problema de escoger "empaquetado" es que deja la incógnita de qué escoger para la otra parte: la de stock.
code | code | .
text | es | en stock (`stock.quant.package`), está puesto "paquete".
text | es | para `product.packaging`, se habla de "empaquetado", por lo que están diferenciados.
text | es | creo que "envase", aunque su tercedra acepción lo puede permitir, queda poco natural.
text | es | ejemplo: tenemos un cliente que vende guantes de protección, y los vende empaquetados de 5 en 5.
text | es | hablar de envase de 5 pares de guantes quedaría muy raro.
text | es | también envase se relaciona muchas veces con líquidos.
code | code | .
text | en | > envase no debe ser la traducción para `product.packaging`: https://dle.rae.es/envase.
text | es | empaquetado era correcto imo.
text | es | yo aquí discrepo cara sonriendo con sudor frío .
text | es | me explico: - en función de la definición que das de la rae creo que encaja en la segunda acepción.
text | es | por ejemplo, caja de 6 unidades en la venta de manzanas que es un producto que se vende por kg.
code | code | ![image](https://github.com/oca/l10n-spain/assets/147538094/8e333f74-d23b-4e1c-ad80-91a96465fad7) - respesto a "empaquetado" la rae dice: ![image](https://github.com/oca/l10n-spain/assets/147538094/4cf19bdd-7a8f-4743-9660-4447e23acf3b) - si miramos empaquetar, creo que también la segunda acepción encaja con lo que @yajo dice en el ejemplo: nos han llegado al almacén 100 envases de 200g de jamón, empaquetados en 4 cajas.
code | code | ![image](https://github.com/oca/l10n-spain/assets/147538094/fbb7158a-a917-478e-abda-b50e8ac7cbe3) saludos, .
text | es | lo dicho, gelo, tú nunca hablarías de envase de 5 pares de guantes, ¿a que no? .
text | es | > en stock (`stock.quant.package`), está puesto "paquete".
text | es | para `product.packaging`, se habla de "empaquetado", por lo que están diferenciados.
text | es | sobre el papel, son términos diferentes; pero en realidad, paquete y empaquetado no están bien diferenciados.
text | es | si lo estuvieran, nunca hubiéramos necesitado preocuparnos de este asunto...
text | es | "paquete" es el sustantivo y "empaquetar" es el verbo, pero ambas se refieren a la misma cosa.
text | es | de hecho, [la primera definición de empaquetar](https://dle.rae.es/empaquetar) es "hacer paquetes".
text | es | > creo que "envase", aunque su tercedra acepción lo puede permitir, queda poco natural.
text | es | del mismo modo, cuando hablamos de "empaquetados", hay contextos en que no queda natural.
text | es | ejemplo: vendo aceite empaquetado en botellas de 1, 5 y 10 l.
text | es | obviamente, en este contexto queda mejor "envasado".
text | es | también hay contextos en que queda exactamente igual de bien tanto el uno como el otro: - vendo jamón empaquetado en blísters de 200g.
text | es | - vendo jamón envasado en blísters de 200g.
text | es | y hay otros en los que queda igual de mal uno que el otro: - vendo jamón empaquetado en pata de 7kg.
text | es | - vendo jamón envasado en pata de 7kg.
text | es | por eso decía al principio: > obviamente no encajará siempre con cada caso de uso, pero más o menos se puede llegar a entender.
text | es | > > creemos que lo más importante es tener un estándar, que la traducción sea homogénea, y que se distinga fácilmente entre modelos y usos, sin confundir.
text | es | creo que el español es un idioma suficientemente rico como para poder usar 2 terminologías totalmente diferentes y así ayudar a nuestros usuarios a entender la diferencia.
text | es | en fin, todo esto que estamos comentando no es en contra de lo que dices, @pedrobaeza, sino simplemente estamos expresando públicamente el mismo análisis que ya hicimos internamente y que luego nos llevó a la conclusión de que la usabilidad de odoo mejoraría llamando "envase" a `product.packaging` que llamándolo "empaquetado".
code | code | .
text | es | pero curiosamente los casos en los que queda peor envase afectan a mis clientes, y supongo que envasado quedará mejor en los vuestros.
text | es | a ver qué opina más gente al respecto.
code | code | .
text | es | bueno, tampoco es tan así.
text | es | quiero decir que no a todos nuestros clientes les encaja perfecto "envase".
text | es | incluso, para ciertos clientes les encaja bien en unos productos y mal en otros.
text | es | la cuestión aquí no es si le va mejor o peor a nuestros clientes.
text | es | la cuestión es mejorar la usabilidad general de odoo permitiendo al usuario diferenciar apropiadamente entre 2 funcionalidades independientes, que tienen nombres demasiado parecidos.
code | code | .
text | es | ya, yo es lo que intento también, con unos términos lo más adecuados posibles, teniendo en cuenta que no siempre va a casar al 100%.
text | es | en muchos sitios te estás refieriendo como "envasado" en lugar de "envase", que es el cambio que planteáis, con lo que ahí ya también se desfigura la idoneidad de esa palabra, porque así queda mejor en las frase formuladas.
text | es | la cuestión es que en odoo solo tenemos una palabra en la columna, y entre ver "envase" o ver "empaquetado" en dicha columna, yo sigo decantándome por la última, pero lo dicho, a ver qué opina otra gente.
code | code | .
text | es | > lo dicho, gelo, tú nunca hablarías de envase de 5 pares de guantes, ¿a que no?
text | es | hola pedro, no te discuto que en alguna ocasión puede ser confuso, pero también puede ser porque no usamos la palabra adecuada.
text | es | según chat gpt: los términos "paquete" y "envase" son comúnmente utilizados en el contexto del embalaje de productos, pero tienen significados ligeramente diferentes: **- envase:** - un envase se refiere específicamente al contenedor físico utilizado para contener y proteger un producto.
text | es | puede ser cualquier tipo de recipiente, como una botella, una lata, una caja, una bolsa, etc.
text | es | - el envase cumple funciones importantes, como proteger el producto de daños físicos, contaminación, pérdida de frescura y deterioro durante el transporte y el almacenamiento.
text | es | - además de proteger el producto, el envase puede tener un papel en la promoción y la comercialización del producto, ya que a menudo lleva información sobre el producto, instrucciones de uso, etiquetas de advertencia, diseños gráficos para atraer a los consumidores, etc.
text | es | **-paquete:** - el término "paquete" se utiliza más ampliamente para referirse al conjunto completo de materiales de embalaje que rodean y contienen un producto.
text | es | esto incluye no solo el envase primario que contiene directamente el producto, sino también cualquier envoltura secundaria o material de relleno utilizado para proteger y presentar el producto.
text | es | - un paquete puede incluir varios niveles de embalaje, como el envase primario (la botella, la lata, etc.), el envase secundario (la caja que contiene varias unidades del producto), y el embalaje de transporte (cartones, relleno protector, etc.).
text | es | - el paquete se diseña teniendo en cuenta tanto la protección del producto como la eficiencia en términos de almacenamiento, transporte y manipulación.
text | es | en resumen, **mientras que el "envase" se refiere específicamente al contenedor físico que contiene el producto, el "paquete" se refiere al conjunto completo de materiales de embalaje que rodean y contienen el producto, incluyendo el envase primario, cualquier envoltura secundaria y el embalaje de transporte.**
text | es | así que yo creo que la rae y chat gpt van más a favor de la propuesta de @yajo .
text | es | > en muchos sitios te estás refieriendo como "envasado" en lugar de "envase" gracias, he actualizado algunas traducciones para que digan "envase".
text | es | creo que puse "envasado" por inercia al ver "empaquetado".
text | es | cara sonriendo con sudor frío en cualquier caso, no era un gran problema.
text | es | precisamente, al usar 2 familias completamente diferentes de palabras, ya no se vuelve tan relevante diferenciar si uno usa el sustantivo o el verbo.
code | code | .
text | es | ante la falta de opiniones de más empresas, y puesto que jairo volvió a cambiar todos los términos en transifex a la siguiente semana, lo dejaremos así por el momento.
code | code | .
text | es | ok gracias corazón rojo cara feliz con ojos sonrientes
Detalles: total_items: 77 | code_items: 11 | spanish_items: 64 | english_items: 2
Dato borrado: text | en | envase no debe ser la traducción para `product.packaging`: https://dle.rae.es/envase.
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: text | en | > envase no debe ser la traducción para `product.packaging`: https://dle.rae.es/envase.
Dato borrado: code | code | ![image](https://github.com/oca/l10n-spain/assets/147538094/8e333f74-d23b-4e1c-ad80-91a96465fad7) - respesto a "empaquetado" la rae dice: ![image](https://github.com/oca/l10n-spain/assets/147538094/4cf19bdd-7a8f-4743-9660-4447e23acf3b) - si miramos empaquetar, creo que también la segunda acepción encaja con lo que @yajo dice en el ejemplo: nos han llegado al almacén 100 envases de 200g de jamón, empaquetados en 4 cajas.
Dato borrado: code | code | ![image](https://github.com/oca/l10n-spain/assets/147538094/fbb7158a-a917-478e-abda-b50e8ac7cbe3) saludos, .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
recomposed_text: empaquetado era correcto imo. precisamente consultamos la rae a la hora de hacer esa elección. [la traducción para empaquetado](https://dle.rae.es/empaquetado) indica únicamente: > acción y efecto de empaquetar. normalmente, en los contextos mencionados, el que conlleva una "acción y efecto" es más bien el contexto de inventario. pongamos el caso de un supermercado: - los operarios de almacén harán la "acción y efecto de [des]empaquetar" al abrir los pallets, que quizás vengan envueltos en plástico, y colocar las cajas en estanterías, o "acciones" similares. - en cambio, las fresas ya las compran "envasadas" en cajitas de 500g, no es una "acción" que ellos hagan. en cualquier caso, obviamente son términos casi equivalentes, y el problema de escoger "empaquetado" es que deja la incógnita de qué escoger para la otra parte: la de stock. en stock (`stock.quant.package`), está puesto "paquete". para `product.packaging`, se habla de "empaquetado", por lo que están diferenciados. creo que "envase", aunque su tercedra acepción lo puede permitir, queda poco natural. ejemplo: tenemos un cliente que vende guantes de protección, y los vende empaquetados de 5 en 5. hablar de envase de 5 pares de guantes quedaría muy raro. también envase se relaciona muchas veces con líquidos. empaquetado era correcto imo. yo aquí discrepo cara sonriendo con sudor frío . me explico: - en función de la definición que das de la rae creo que encaja en la segunda acepción. por ejemplo, caja de 6 unidades en la venta de manzanas que es un producto que se vende por kg. lo dicho, gelo, tú nunca hablarías de envase de 5 pares de guantes, ¿a que no? . > en stock (`stock.quant.package`), está puesto "paquete". para `product.packaging`, se habla de "empaquetado", por lo que están diferenciados. sobre el papel, son términos diferentes; pero en realidad, paquete y empaquetado no están bien diferenciados. si lo estuvieran, nunca hubiéramos necesitado preocuparnos de este asunto... "paquete" es el sustantivo y "empaquetar" es el verbo, pero ambas se refieren a la misma cosa. de hecho, [la primera definición de empaquetar](https://dle.rae.es/empaquetar) es "hacer paquetes". > creo que "envase", aunque su tercedra acepción lo puede permitir, queda poco natural. del mismo modo, cuando hablamos de "empaquetados", hay contextos en que no queda natural. ejemplo: vendo aceite empaquetado en botellas de 1, 5 y 10 l. obviamente, en este contexto queda mejor "envasado". también hay contextos en que queda exactamente igual de bien tanto el uno como el otro: - vendo jamón empaquetado en blísters de 200g. - vendo jamón envasado en blísters de 200g. y hay otros en los que queda igual de mal uno que el otro: - vendo jamón empaquetado en pata de 7kg. - vendo jamón envasado en pata de 7kg. por eso decía al principio: > obviamente no encajará siempre con cada caso de uso, pero más o menos se puede llegar a entender. > > creemos que lo más importante es tener un estándar, que la traducción sea homogénea, y que se distinga fácilmente entre modelos y usos, sin confundir. creo que el español es un idioma suficientemente rico como para poder usar 2 terminologías totalmente diferentes y así ayudar a nuestros usuarios a entender la diferencia. en fin, todo esto que estamos comentando no es en contra de lo que dices, @pedrobaeza, sino simplemente estamos expresando públicamente el mismo análisis que ya hicimos internamente y que luego nos llevó a la conclusión de que la usabilidad de odoo mejoraría llamando "envase" a `product.packaging` que llamándolo "empaquetado". pero curiosamente los casos en los que queda peor envase afectan a mis clientes, y supongo que envasado quedará mejor en los vuestros. a ver qué opina más gente al respecto. bueno, tampoco es tan así. quiero decir que no a todos nuestros clientes les encaja perfecto "envase". incluso, para ciertos clientes les encaja bien en unos productos y mal en otros. la cuestión aquí no es si le va mejor o peor a nuestros clientes. la cuestión es mejorar la usabilidad general de odoo permitiendo al usuario diferenciar apropiadamente entre 2 funcionalidades independientes, que tienen nombres demasiado parecidos. ya, yo es lo que intento también, con unos términos lo más adecuados posibles, teniendo en cuenta que no siempre va a casar al 100%. en muchos sitios te estás refieriendo como "envasado" en lugar de "envase", que es el cambio que planteáis, con lo que ahí ya también se desfigura la idoneidad de esa palabra, porque así queda mejor en las frase formuladas. la cuestión es que en odoo solo tenemos una palabra en la columna, y entre ver "envase" o ver "empaquetado" en dicha columna, yo sigo decantándome por la última, pero lo dicho, a ver qué opina otra gente. > lo dicho, gelo, tú nunca hablarías de envase de 5 pares de guantes, ¿a que no? hola pedro, no te discuto que en alguna ocasión puede ser confuso, pero también puede ser porque no usamos la palabra adecuada. según chat gpt: los términos "paquete" y "envase" son comúnmente utilizados en el contexto del embalaje de productos, pero tienen significados ligeramente diferentes: **- envase:** - un envase se refiere específicamente al contenedor físico utilizado para contener y proteger un producto. puede ser cualquier tipo de recipiente, como una botella, una lata, una caja, una bolsa, etc. - el envase cumple funciones importantes, como proteger el producto de daños físicos, contaminación, pérdida de frescura y deterioro durante el transporte y el almacenamiento. - además de proteger el producto, el envase puede tener un papel en la promoción y la comercialización del producto, ya que a menudo lleva información sobre el producto, instrucciones de uso, etiquetas de advertencia, diseños gráficos para atraer a los consumidores, etc. **-paquete:** - el término "paquete" se utiliza más ampliamente para referirse al conjunto completo de materiales de embalaje que rodean y contienen un producto. esto incluye no solo el envase primario que contiene directamente el producto, sino también cualquier envoltura secundaria o material de relleno utilizado para proteger y presentar el producto. - un paquete puede incluir varios niveles de embalaje, como el envase primario (la botella, la lata, etc.), el envase secundario (la caja que contiene varias unidades del producto), y el embalaje de transporte (cartones, relleno protector, etc.). - el paquete se diseña teniendo en cuenta tanto la protección del producto como la eficiencia en términos de almacenamiento, transporte y manipulación. en resumen, **mientras que el "envase" se refiere específicamente al contenedor físico que contiene el producto, el "paquete" se refiere al conjunto completo de materiales de embalaje que rodean y contienen el producto, incluyendo el envase primario, cualquier envoltura secundaria y el embalaje de transporte.** así que yo creo que la rae y chat gpt van más a favor de la propuesta de @yajo . > en muchos sitios te estás refieriendo como "envasado" en lugar de "envase" gracias, he actualizado algunas traducciones para que digan "envase". creo que puse "envasado" por inercia al ver "empaquetado". cara sonriendo con sudor frío en cualquier caso, no era un gran problema. precisamente, al usar 2 familias completamente diferentes de palabras, ya no se vuelve tan relevante diferenciar si uno usa el sustantivo o el verbo. ante la falta de opiniones de más empresas, y puesto que jairo volvió a cambiar todos los términos en transifex a la siguiente semana, lo dejaremos así por el momento. ok gracias corazón rojo cara feliz con ojos sonrientes
__Recursividad__
text | es | empaquetado era correcto imo.
text | es | precisamente consultamos la rae a la hora de hacer esa elección.
text | es | [la traducción para empaquetado](https://dle.rae.es/empaquetado) indica únicamente: > acción y efecto de empaquetar.
text | es | normalmente, en los contextos mencionados, el que conlleva una "acción y efecto" es más bien el contexto de inventario.
text | es | pongamos el caso de un supermercado: - los operarios de almacén harán la "acción y efecto de [des]empaquetar" al abrir los pallets, que quizás vengan envueltos en plástico, y colocar las cajas en estanterías, o "acciones" similares.
text | es | - en cambio, las fresas ya las compran "envasadas" en cajitas de 500g, no es una "acción" que ellos hagan.
text | es | en cualquier caso, obviamente son términos casi equivalentes, y el problema de escoger "empaquetado" es que deja la incógnita de qué escoger para la otra parte: la de stock.
text | es | en stock (`stock.quant.package`), está puesto "paquete".
text | es | para `product.packaging`, se habla de "empaquetado", por lo que están diferenciados.
text | es | creo que "envase", aunque su tercedra acepción lo puede permitir, queda poco natural.
text | es | ejemplo: tenemos un cliente que vende guantes de protección, y los vende empaquetados de 5 en 5.
text | es | hablar de envase de 5 pares de guantes quedaría muy raro.
text | es | también envase se relaciona muchas veces con líquidos.
text | es | empaquetado era correcto imo.
text | es | yo aquí discrepo cara sonriendo con sudor frío .
text | es | me explico: - en función de la definición que das de la rae creo que encaja en la segunda acepción.
text | es | por ejemplo, caja de 6 unidades en la venta de manzanas que es un producto que se vende por kg.
text | es | lo dicho, gelo, tú nunca hablarías de envase de 5 pares de guantes, ¿a que no? .
text | es | > en stock (`stock.quant.package`), está puesto "paquete".
text | es | para `product.packaging`, se habla de "empaquetado", por lo que están diferenciados.
text | es | sobre el papel, son términos diferentes; pero en realidad, paquete y empaquetado no están bien diferenciados.
text | es | si lo estuvieran, nunca hubiéramos necesitado preocuparnos de este asunto...
text | es | "paquete" es el sustantivo y "empaquetar" es el verbo, pero ambas se refieren a la misma cosa.
text | es | de hecho, [la primera definición de empaquetar](https://dle.rae.es/empaquetar) es "hacer paquetes".
text | es | > creo que "envase", aunque su tercedra acepción lo puede permitir, queda poco natural.
text | es | del mismo modo, cuando hablamos de "empaquetados", hay contextos en que no queda natural.
text | es | ejemplo: vendo aceite empaquetado en botellas de 1, 5 y 10 l.
text | es | obviamente, en este contexto queda mejor "envasado".
text | es | también hay contextos en que queda exactamente igual de bien tanto el uno como el otro: - vendo jamón empaquetado en blísters de 200g.
text | es | - vendo jamón envasado en blísters de 200g.
text | es | y hay otros en los que queda igual de mal uno que el otro: - vendo jamón empaquetado en pata de 7kg.
text | es | - vendo jamón envasado en pata de 7kg.
text | es | por eso decía al principio: > obviamente no encajará siempre con cada caso de uso, pero más o menos se puede llegar a entender.
text | es | > > creemos que lo más importante es tener un estándar, que la traducción sea homogénea, y que se distinga fácilmente entre modelos y usos, sin confundir.
text | es | creo que el español es un idioma suficientemente rico como para poder usar 2 terminologías totalmente diferentes y así ayudar a nuestros usuarios a entender la diferencia.
text | es | en fin, todo esto que estamos comentando no es en contra de lo que dices, @pedrobaeza, sino simplemente estamos expresando públicamente el mismo análisis que ya hicimos internamente y que luego nos llevó a la conclusión de que la usabilidad de odoo mejoraría llamando "envase" a `product.packaging` que llamándolo "empaquetado".
text | es | pero curiosamente los casos en los que queda peor envase afectan a mis clientes, y supongo que envasado quedará mejor en los vuestros.
text | es | a ver qué opina más gente al respecto.
text | es | bueno, tampoco es tan así.
text | es | quiero decir que no a todos nuestros clientes les encaja perfecto "envase".
text | es | incluso, para ciertos clientes les encaja bien en unos productos y mal en otros.
text | es | la cuestión aquí no es si le va mejor o peor a nuestros clientes.
text | es | la cuestión es mejorar la usabilidad general de odoo permitiendo al usuario diferenciar apropiadamente entre 2 funcionalidades independientes, que tienen nombres demasiado parecidos.
text | es | ya, yo es lo que intento también, con unos términos lo más adecuados posibles, teniendo en cuenta que no siempre va a casar al 100%.
text | es | en muchos sitios te estás refieriendo como "envasado" en lugar de "envase", que es el cambio que planteáis, con lo que ahí ya también se desfigura la idoneidad de esa palabra, porque así queda mejor en las frase formuladas.
text | es | la cuestión es que en odoo solo tenemos una palabra en la columna, y entre ver "envase" o ver "empaquetado" en dicha columna, yo sigo decantándome por la última, pero lo dicho, a ver qué opina otra gente.
text | es | > lo dicho, gelo, tú nunca hablarías de envase de 5 pares de guantes, ¿a que no?
text | es | hola pedro, no te discuto que en alguna ocasión puede ser confuso, pero también puede ser porque no usamos la palabra adecuada.
text | es | según chat gpt: los términos "paquete" y "envase" son comúnmente utilizados en el contexto del embalaje de productos, pero tienen significados ligeramente diferentes: **- envase:** - un envase se refiere específicamente al contenedor físico utilizado para contener y proteger un producto.
text | es | puede ser cualquier tipo de recipiente, como una botella, una lata, una caja, una bolsa, etc.
text | es | - el envase cumple funciones importantes, como proteger el producto de daños físicos, contaminación, pérdida de frescura y deterioro durante el transporte y el almacenamiento.
text | es | - además de proteger el producto, el envase puede tener un papel en la promoción y la comercialización del producto, ya que a menudo lleva información sobre el producto, instrucciones de uso, etiquetas de advertencia, diseños gráficos para atraer a los consumidores, etc.
text | es | **-paquete:** - el término "paquete" se utiliza más ampliamente para referirse al conjunto completo de materiales de embalaje que rodean y contienen un producto.
text | es | esto incluye no solo el envase primario que contiene directamente el producto, sino también cualquier envoltura secundaria o material de relleno utilizado para proteger y presentar el producto.
text | es | - un paquete puede incluir varios niveles de embalaje, como el envase primario (la botella, la lata, etc.), el envase secundario (la caja que contiene varias unidades del producto), y el embalaje de transporte (cartones, relleno protector, etc.).
text | es | - el paquete se diseña teniendo en cuenta tanto la protección del producto como la eficiencia en términos de almacenamiento, transporte y manipulación.
text | es | en resumen, **mientras que el "envase" se refiere específicamente al contenedor físico que contiene el producto, el "paquete" se refiere al conjunto completo de materiales de embalaje que rodean y contienen el producto, incluyendo el envase primario, cualquier envoltura secundaria y el embalaje de transporte.**
text | es | así que yo creo que la rae y chat gpt van más a favor de la propuesta de @yajo .
text | es | > en muchos sitios te estás refieriendo como "envasado" en lugar de "envase" gracias, he actualizado algunas traducciones para que digan "envase".
text | es | creo que puse "envasado" por inercia al ver "empaquetado".
text | es | cara sonriendo con sudor frío en cualquier caso, no era un gran problema.
text | es | precisamente, al usar 2 familias completamente diferentes de palabras, ya no se vuelve tan relevante diferenciar si uno usa el sustantivo o el verbo.
text | es | ante la falta de opiniones de más empresas, y puesto que jairo volvió a cambiar todos los términos en transifex a la siguiente semana, lo dejaremos así por el momento.
text | es | ok gracias corazón rojo cara feliz con ojos sonrientes
Detalles: total_items: 64 | code_items: 0 | spanish_items: 64 | english_items: 0
recomposed_text: empaquetado era correcto imo. precisamente consultamos la rae a la hora de hacer esa elección. [la traducción para empaquetado](https://dle.rae.es/empaquetado) indica únicamente: > acción y efecto de empaquetar. normalmente, en los contextos mencionados, el que conlleva una "acción y efecto" es más bien el contexto de inventario. pongamos el caso de un supermercado: - los operarios de almacén harán la "acción y efecto de [des]empaquetar" al abrir los pallets, que quizás vengan envueltos en plástico, y colocar las cajas en estanterías, o "acciones" similares. - en cambio, las fresas ya las compran "envasadas" en cajitas de 500g, no es una "acción" que ellos hagan. en cualquier caso, obviamente son términos casi equivalentes, y el problema de escoger "empaquetado" es que deja la incógnita de qué escoger para la otra parte: la de stock. en stock (`stock.quant.package`), está puesto "paquete". para `product.packaging`, se habla de "empaquetado", por lo que están diferenciados. creo que "envase", aunque su tercedra acepción lo puede permitir, queda poco natural. ejemplo: tenemos un cliente que vende guantes de protección, y los vende empaquetados de 5 en 5. hablar de envase de 5 pares de guantes quedaría muy raro. también envase se relaciona muchas veces con líquidos. empaquetado era correcto imo. yo aquí discrepo cara sonriendo con sudor frío . me explico: - en función de la definición que das de la rae creo que encaja en la segunda acepción. por ejemplo, caja de 6 unidades en la venta de manzanas que es un producto que se vende por kg. lo dicho, gelo, tú nunca hablarías de envase de 5 pares de guantes, ¿a que no? . > en stock (`stock.quant.package`), está puesto "paquete". para `product.packaging`, se habla de "empaquetado", por lo que están diferenciados. sobre el papel, son términos diferentes; pero en realidad, paquete y empaquetado no están bien diferenciados. si lo estuvieran, nunca hubiéramos necesitado preocuparnos de este asunto... "paquete" es el sustantivo y "empaquetar" es el verbo, pero ambas se refieren a la misma cosa. de hecho, [la primera definición de empaquetar](https://dle.rae.es/empaquetar) es "hacer paquetes". > creo que "envase", aunque su tercedra acepción lo puede permitir, queda poco natural. del mismo modo, cuando hablamos de "empaquetados", hay contextos en que no queda natural. ejemplo: vendo aceite empaquetado en botellas de 1, 5 y 10 l. obviamente, en este contexto queda mejor "envasado". también hay contextos en que queda exactamente igual de bien tanto el uno como el otro: - vendo jamón empaquetado en blísters de 200g. - vendo jamón envasado en blísters de 200g. y hay otros en los que queda igual de mal uno que el otro: - vendo jamón empaquetado en pata de 7kg. - vendo jamón envasado en pata de 7kg. por eso decía al principio: > obviamente no encajará siempre con cada caso de uso, pero más o menos se puede llegar a entender. > > creemos que lo más importante es tener un estándar, que la traducción sea homogénea, y que se distinga fácilmente entre modelos y usos, sin confundir. creo que el español es un idioma suficientemente rico como para poder usar 2 terminologías totalmente diferentes y así ayudar a nuestros usuarios a entender la diferencia. en fin, todo esto que estamos comentando no es en contra de lo que dices, @pedrobaeza, sino simplemente estamos expresando públicamente el mismo análisis que ya hicimos internamente y que luego nos llevó a la conclusión de que la usabilidad de odoo mejoraría llamando "envase" a `product.packaging` que llamándolo "empaquetado". pero curiosamente los casos en los que queda peor envase afectan a mis clientes, y supongo que envasado quedará mejor en los vuestros. a ver qué opina más gente al respecto. bueno, tampoco es tan así. quiero decir que no a todos nuestros clientes les encaja perfecto "envase". incluso, para ciertos clientes les encaja bien en unos productos y mal en otros. la cuestión aquí no es si le va mejor o peor a nuestros clientes. la cuestión es mejorar la usabilidad general de odoo permitiendo al usuario diferenciar apropiadamente entre 2 funcionalidades independientes, que tienen nombres demasiado parecidos. ya, yo es lo que intento también, con unos términos lo más adecuados posibles, teniendo en cuenta que no siempre va a casar al 100%. en muchos sitios te estás refieriendo como "envasado" en lugar de "envase", que es el cambio que planteáis, con lo que ahí ya también se desfigura la idoneidad de esa palabra, porque así queda mejor en las frase formuladas. la cuestión es que en odoo solo tenemos una palabra en la columna, y entre ver "envase" o ver "empaquetado" en dicha columna, yo sigo decantándome por la última, pero lo dicho, a ver qué opina otra gente. > lo dicho, gelo, tú nunca hablarías de envase de 5 pares de guantes, ¿a que no? hola pedro, no te discuto que en alguna ocasión puede ser confuso, pero también puede ser porque no usamos la palabra adecuada. según chat gpt: los términos "paquete" y "envase" son comúnmente utilizados en el contexto del embalaje de productos, pero tienen significados ligeramente diferentes: **- envase:** - un envase se refiere específicamente al contenedor físico utilizado para contener y proteger un producto. puede ser cualquier tipo de recipiente, como una botella, una lata, una caja, una bolsa, etc. - el envase cumple funciones importantes, como proteger el producto de daños físicos, contaminación, pérdida de frescura y deterioro durante el transporte y el almacenamiento. - además de proteger el producto, el envase puede tener un papel en la promoción y la comercialización del producto, ya que a menudo lleva información sobre el producto, instrucciones de uso, etiquetas de advertencia, diseños gráficos para atraer a los consumidores, etc. **-paquete:** - el término "paquete" se utiliza más ampliamente para referirse al conjunto completo de materiales de embalaje que rodean y contienen un producto. esto incluye no solo el envase primario que contiene directamente el producto, sino también cualquier envoltura secundaria o material de relleno utilizado para proteger y presentar el producto. - un paquete puede incluir varios niveles de embalaje, como el envase primario (la botella, la lata, etc.), el envase secundario (la caja que contiene varias unidades del producto), y el embalaje de transporte (cartones, relleno protector, etc.). - el paquete se diseña teniendo en cuenta tanto la protección del producto como la eficiencia en términos de almacenamiento, transporte y manipulación. en resumen, **mientras que el "envase" se refiere específicamente al contenedor físico que contiene el producto, el "paquete" se refiere al conjunto completo de materiales de embalaje que rodean y contienen el producto, incluyendo el envase primario, cualquier envoltura secundaria y el embalaje de transporte.** así que yo creo que la rae y chat gpt van más a favor de la propuesta de @yajo . > en muchos sitios te estás refieriendo como "envasado" en lugar de "envase" gracias, he actualizado algunas traducciones para que digan "envase". creo que puse "envasado" por inercia al ver "empaquetado". cara sonriendo con sudor frío en cualquier caso, no era un gran problema. precisamente, al usar 2 familias completamente diferentes de palabras, ya no se vuelve tan relevante diferenciar si uno usa el sustantivo o el verbo. ante la falta de opiniones de más empresas, y puesto que jairo volvió a cambiar todos los términos en transifex a la siguiente semana, lo dejaremos así por el momento. ok gracias corazón rojo cara feliz con ojos sonrientes

# Entrada procesada 2026-02-09T14:14:28.737427 UTC
text | es | este caso parece complejo.
text | es | entiendo lo que comentas, y siendo así, seria conveniente hacer la mejora en el pos.
text | es | si haces alguna propuesta de mejora y necesitas ayuda para hacer pruebas y review estoy disponible cara sonriendo ligeramente .
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Detalles: total_items: 5 | code_items: 0 | spanish_items: 3 | english_items: 2
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
recomposed_text: este caso parece complejo. entiendo lo que comentas, y siendo así, seria conveniente hacer la mejora en el pos. si haces alguna propuesta de mejora y necesitas ayuda para hacer pruebas y review estoy disponible cara sonriendo ligeramente .
__Recursividad__
text | es | este caso parece complejo.
text | es | entiendo lo que comentas, y siendo así, seria conveniente hacer la mejora en el pos.
text | es | si haces alguna propuesta de mejora y necesitas ayuda para hacer pruebas y review estoy disponible cara sonriendo ligeramente .
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: este caso parece complejo. entiendo lo que comentas, y siendo así, seria conveniente hacer la mejora en el pos. si haces alguna propuesta de mejora y necesitas ayuda para hacer pruebas y review estoy disponible cara sonriendo ligeramente .

# Entrada procesada 2026-02-09T14:14:28.750286 UTC
code | code | indicada la incompatibilidad en el roadmap: https://github.com/oca/l10n-spain/commit/fc2f5838f308ce36cd9f597d464e23bda5e8be9d cierro y el que quiera solucionar dicho caso, puede poner un pr al respecto.
Detalles: total_items: 1 | code_items: 1 | spanish_items: 0 | english_items: 0
Dato borrado: code | code | indicada la incompatibilidad en el roadmap: https://github.com/oca/l10n-spain/commit/fc2f5838f308ce36cd9f597d464e23bda5e8be9d cierro y el que quiera solucionar dicho caso, puede poner un pr al respecto.
recomposed_text:
__Recursividad__
Detalles: total_items: 0 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text:

# Entrada procesada 2026-02-09T14:14:28.752863 UTC
text | es | por favor no abras issues nuevos teniendo una issue (y además fijada) para controlar dicho progreso.
text | es | se seguirá progresando en el tema, pero no hay fechas cerradas.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: por favor no abras issues nuevos teniendo una issue (y además fijada) para controlar dicho progreso. se seguirá progresando en el tema, pero no hay fechas cerradas.
__Recursividad__
text | es | por favor no abras issues nuevos teniendo una issue (y además fijada) para controlar dicho progreso.
text | es | se seguirá progresando en el tema, pero no hay fechas cerradas.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: por favor no abras issues nuevos teniendo una issue (y además fijada) para controlar dicho progreso. se seguirá progresando en el tema, pero no hay fechas cerradas.

# Entrada procesada 2026-02-09T14:14:28.768233 UTC
text | es | aunque no estás indicando el módulo, por el trozo de error, estás creando la base de datos con código de odoo core obsoleto.
text | es | actualiza dicho código.
code | code | .
text | bilingual | me refería a l10n_es_facturae.
text | es | correcto, al actualizar l10n_es sí es posible instalar l10n_es_facturae.
text | es | gracias!
Detalles: total_items: 6 | code_items: 1 | spanish_items: 4 | english_items: 0
Dato borrado: code | code | .
recomposed_text: aunque no estás indicando el módulo, por el trozo de error, estás creando la base de datos con código de odoo core obsoleto. actualiza dicho código. me refería a l10n_es_facturae. correcto, al actualizar l10n_es sí es posible instalar l10n_es_facturae. gracias!
__Recursividad__
text | es | aunque no estás indicando el módulo, por el trozo de error, estás creando la base de datos con código de odoo core obsoleto.
text | es | actualiza dicho código.
text | bilingual | me refería a l10n_es_facturae.
text | es | correcto, al actualizar l10n_es sí es posible instalar l10n_es_facturae.
text | es | gracias!
Detalles: total_items: 5 | code_items: 0 | spanish_items: 4 | english_items: 0
recomposed_text: aunque no estás indicando el módulo, por el trozo de error, estás creando la base de datos con código de odoo core obsoleto. actualiza dicho código. me refería a l10n_es_facturae. correcto, al actualizar l10n_es sí es posible instalar l10n_es_facturae. gracias!

# Entrada procesada 2026-02-09T14:14:28.784228 UTC
code | code | #3472 - corrección v14.0 .
text | es | cerrado por mergeo
Detalles: total_items: 2 | code_items: 1 | spanish_items: 1 | english_items: 0
Dato borrado: code | code | #3472 - corrección v14.0 .
recomposed_text: cerrado por mergeo
__Recursividad__
text | es | cerrado por mergeo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: cerrado por mergeo

# Entrada procesada 2026-02-09T14:14:28.799170 UTC
code | code | según veo en la definición de la exportación, tiene para aplicar el signo: https://github.com/oca/l10n-spain/blob/16.0/l10n_es_aeat_mod347/data/aeat_export_mod347_partner_data.xml#l178-l180 ![image](https://github.com/oca/l10n-spain/assets/7165771/39400832-dc2d-41f8-817b-72175d0a4f20) ¿lo tienes así definido en la bd en la que estás exportando? .
code | code | @pedrobaeza si lo tengo así ![image](https://github.com/oca/l10n-spain/assets/84158523/b732e7fa-f2ba-4eee-9189-eaf59ad923f0) .
text | es | pues entonces debería exportar con la n delante...
text | es | ¿lo que muestras arriba es ese campo de importe de las operaciones o es algún otro? .
text | es | solo me han pasado esa captura.
text | es | tranquilo ya lo reviso yo, era solo confirmar que tiene que salir en negativo en el documento.
code | code | .
text | es | pero si por la posición (después de la "b") tiene que ser ese campo .
code | code | @pedrobaeza he estado revisando el tema y creo que el problema está aqui: https://github.com/oca/l10n-spain/blob/035a1f9d5525f2e043d5991e8d89a36f8754261f/l10n_es_aeat_mod347/data/aeat_export_mod347_partner_data.xml#l176 la función abs hace que el valor siempre sea positivo, ¿sabes si hay algún motivo para esto o se puede modificar? .
code | code | veo que ese cambio lo hice aquí: https://github.com/oca/l10n-spain/commit/2102ab1207fb8ed546c4ac9b468c25b02c14f733 y es que antes había `abs` en el código, pero no veo la razón que me llevo a poner el `abs` en la exportación del boe.
text | es | no tiene demasiado sentido visto ahora, y puede que fuera un "por si acaso".
text | es | creo que no ha impactado hasta ahora porque no es lo habitual que salgan registros con negativo.
text | es | arreglado en #3467 (y posteriores fw-port).
Detalles: total_items: 13 | code_items: 5 | spanish_items: 8 | english_items: 0
Dato borrado: code | code | según veo en la definición de la exportación, tiene para aplicar el signo: https://github.com/oca/l10n-spain/blob/16.0/l10n_es_aeat_mod347/data/aeat_export_mod347_partner_data.xml#l178-l180 ![image](https://github.com/oca/l10n-spain/assets/7165771/39400832-dc2d-41f8-817b-72175d0a4f20) ¿lo tienes así definido en la bd en la que estás exportando? .
Dato borrado: code | code | @pedrobaeza si lo tengo así ![image](https://github.com/oca/l10n-spain/assets/84158523/b732e7fa-f2ba-4eee-9189-eaf59ad923f0) .
Dato borrado: code | code | .
Dato borrado: code | code | @pedrobaeza he estado revisando el tema y creo que el problema está aqui: https://github.com/oca/l10n-spain/blob/035a1f9d5525f2e043d5991e8d89a36f8754261f/l10n_es_aeat_mod347/data/aeat_export_mod347_partner_data.xml#l176 la función abs hace que el valor siempre sea positivo, ¿sabes si hay algún motivo para esto o se puede modificar? .
Dato borrado: code | code | veo que ese cambio lo hice aquí: https://github.com/oca/l10n-spain/commit/2102ab1207fb8ed546c4ac9b468c25b02c14f733 y es que antes había `abs` en el código, pero no veo la razón que me llevo a poner el `abs` en la exportación del boe.
recomposed_text: pues entonces debería exportar con la n delante... ¿lo que muestras arriba es ese campo de importe de las operaciones o es algún otro? . solo me han pasado esa captura. tranquilo ya lo reviso yo, era solo confirmar que tiene que salir en negativo en el documento. pero si por la posición (después de la "b") tiene que ser ese campo . no tiene demasiado sentido visto ahora, y puede que fuera un "por si acaso". creo que no ha impactado hasta ahora porque no es lo habitual que salgan registros con negativo. arreglado en #3467 (y posteriores fw-port).
__Recursividad__
text | es | pues entonces debería exportar con la n delante...
text | es | ¿lo que muestras arriba es ese campo de importe de las operaciones o es algún otro? .
text | es | solo me han pasado esa captura.
text | es | tranquilo ya lo reviso yo, era solo confirmar que tiene que salir en negativo en el documento.
text | es | pero si por la posición (después de la "b") tiene que ser ese campo .
text | es | no tiene demasiado sentido visto ahora, y puede que fuera un "por si acaso".
text | es | creo que no ha impactado hasta ahora porque no es lo habitual que salgan registros con negativo.
text | es | arreglado en #3467 (y posteriores fw-port).
Detalles: total_items: 8 | code_items: 0 | spanish_items: 8 | english_items: 0
recomposed_text: pues entonces debería exportar con la n delante... ¿lo que muestras arriba es ese campo de importe de las operaciones o es algún otro? . solo me han pasado esa captura. tranquilo ya lo reviso yo, era solo confirmar que tiene que salir en negativo en el documento. pero si por la posición (después de la "b") tiene que ser ese campo . no tiene demasiado sentido visto ahora, y puede que fuera un "por si acaso". creo que no ha impactado hasta ahora porque no es lo habitual que salgan registros con negativo. arreglado en #3467 (y posteriores fw-port).

# Entrada procesada 2026-02-09T14:14:28.827672 UTC
text | es | creo que la solución es actualizar la libreria **xmlsig**, nos encontremos un problema similar y actualmente tenemos la version 1.0.1 y dejo de dar ese error.
code | code | .
text | es | la librería xmlsig esta actualizada, como comente antes .
text | es | el mismo problema en odoo 16.
text | es | comparando el fichero firmado con autofirma y el fichero firmado con odoo veo que autofirma usa el sha-256 mientras que el que me sale de odoo usa sha1.
text | es | no sé donde se cambia eso en odoo.
code | code | .
text | es | tras varias confirmaciones, el módulo no tiene problemas en si.
text | es | la problemática puede venir de las versiones criptográficas, o del certificado subido (como le ha ocurrido a https://www.aeodoo.org/forum/localizacion-espanola-3/error-gestion-certificado-en-odoo-16-docker-1501).
text | es | entonces cierro esta issue, al no tratarse de algo de código de este repositorio.
Detalles: total_items: 10 | code_items: 2 | spanish_items: 8 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | .
recomposed_text: creo que la solución es actualizar la libreria **xmlsig**, nos encontremos un problema similar y actualmente tenemos la version 1.0.1 y dejo de dar ese error. la librería xmlsig esta actualizada, como comente antes . el mismo problema en odoo 16. comparando el fichero firmado con autofirma y el fichero firmado con odoo veo que autofirma usa el sha-256 mientras que el que me sale de odoo usa sha1. no sé donde se cambia eso en odoo. tras varias confirmaciones, el módulo no tiene problemas en si. la problemática puede venir de las versiones criptográficas, o del certificado subido (como le ha ocurrido a https://www.aeodoo.org/forum/localizacion-espanola-3/error-gestion-certificado-en-odoo-16-docker-1501). entonces cierro esta issue, al no tratarse de algo de código de este repositorio.
__Recursividad__
text | es | creo que la solución es actualizar la libreria **xmlsig**, nos encontremos un problema similar y actualmente tenemos la version 1.0.1 y dejo de dar ese error.
text | es | la librería xmlsig esta actualizada, como comente antes .
text | es | el mismo problema en odoo 16.
text | es | comparando el fichero firmado con autofirma y el fichero firmado con odoo veo que autofirma usa el sha-256 mientras que el que me sale de odoo usa sha1.
text | es | no sé donde se cambia eso en odoo.
text | es | tras varias confirmaciones, el módulo no tiene problemas en si.
text | es | la problemática puede venir de las versiones criptográficas, o del certificado subido (como le ha ocurrido a https://www.aeodoo.org/forum/localizacion-espanola-3/error-gestion-certificado-en-odoo-16-docker-1501).
text | es | entonces cierro esta issue, al no tratarse de algo de código de este repositorio.
Detalles: total_items: 8 | code_items: 0 | spanish_items: 8 | english_items: 0
recomposed_text: creo que la solución es actualizar la libreria **xmlsig**, nos encontremos un problema similar y actualmente tenemos la version 1.0.1 y dejo de dar ese error. la librería xmlsig esta actualizada, como comente antes . el mismo problema en odoo 16. comparando el fichero firmado con autofirma y el fichero firmado con odoo veo que autofirma usa el sha-256 mientras que el que me sale de odoo usa sha1. no sé donde se cambia eso en odoo. tras varias confirmaciones, el módulo no tiene problemas en si. la problemática puede venir de las versiones criptográficas, o del certificado subido (como le ha ocurrido a https://www.aeodoo.org/forum/localizacion-espanola-3/error-gestion-certificado-en-odoo-16-docker-1501). entonces cierro esta issue, al no tratarse de algo de código de este repositorio.

# Entrada procesada 2026-02-09T14:14:28.919922 UTC
text | es | caso bastante especial sin duda...
text | es | creo que no habría que hacer una factura, si no un asiento, pero efectivamente haría falta un impuesto nuevo con cuota 0 y mapearlo en el 347 si no hay ninguno de los existentes que pueda valer.
code | code | .
text | es | sí, un caso especial, y con el kit digital creo que será un problema para mucha gente, pues hay que informarlo en el 347 cuando supere los 3.000€...
text | es | con meter el impuesto en el apunte de la 4708 también he probado y no funciona bien, no sé si hice algo mal, al poner el impuesto directamente en el apunte contable, a parte que hay que poner igualmente la empresa que otorga la subvención y por tanto y crear el cliente igualmente, con su cif y su dirección correcta (en el caso del kit digital sería entidad pública empresarial red.es), en el 347 el importe global lo pone correcto, pero en el desglose trimestral lo pone en negativo y considera el apunte como el de una rectificativa.
text | es | por otro lado en mi caso la factura ayuda mucho para saber cuánto falta por cobrar de la subvención y poner claridad en el asunto, es una factura que hay que cobrar, tienes un sitio donde sabes todas las subvenciones que has recibido, tienes el control en cuentas de clientes, etc...
text | es | --- el asiento del kit precisamente es un poco complejo, lo pongo aquí por si da alguna pista (disclaimer!!
text | es | esto es según lo que me ha recomendado a mi la gestoría, como dice gpt, mejor consultar con un experto en contabilidad antes de tocar nada :) asiento de la factura del proveedor: |cuenta | empresa | etiqueta | impuesto (cuota) | impuestos | cuenta analítica | monto moneda | moneda | debe | haber | fecha vencimiento |-- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | | | | | | | | | 2.416,37 | 2.416,37 | |4100156 agente digitalizador sl | agente digitalizador sl | / | | | | 0,00 | | 0,00 € | 2.416,37 € | 01/07/2023 |472000 hacienda pública.
text | es | iva soportado | agente digitalizador sl | 21% iva soportado (servicios corrientes) | 21% iva soportado (servicios corrientes) | | | 0,00 | | 419,37 € | 0,00 € | 01/07/2023 |206000 aplicaciones informáticas | agente digitalizador sl | kit digital | | 21% iva soportado (servicios corrientes) | | 0,00 | | 1.997,00 € | 0,00 € | 01/07/2023 asiento de factura de la subvención, teóricamente se podría hacer a mano, pero entonces al menos en mi caso, el 347 lo considera una factura rectificativa: |cuenta | empresa | etiqueta | impuesto (cuota) | impuestos | cuenta analítica | monto moneda | moneda | debe | haber | fecha vencimiento |-- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | | | | | | | | | 1.997,00 | 1.997,00 | |430041 entidad pública empresarial red.es | entidad pública empresarial red.es | / | | | | 0,00 | | 1.997,00 € | 0,00 € | 05/07/2023 |470804 hp deudora subvenciones kit digital 2023/.../...
text | es | | entidad pública empresarial red.es | subvencion 2023/.../...
code | code | 141-kd000...
text | es | | | subvenciones | | 0,00 | | 0,00 € | 1.997,00 € | 05/07/2023 asiento manual para poder cuadrar el pago de las facturas (el iva se paga directamente al agente digitalizador): |cuenta | empresa | etiqueta | impuesto (cuota) | impuestos | cuenta analítica | monto moneda | moneda | debe | haber | fecha vencimiento |-- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | | | | | | | | | 1.997,00 | 1.997,00 | |4100156 agente digitalizador sl | agente digitalizador sl | traspaso saldo proveedor subvención kit digital 2023/.../...
text | es | para conciliar el pago de facturas | | | | 0,00 | | 1.997,00 € | 0,00 € | 05/07/2023 |430041 entidad pública empresarial red.es | entidad pública empresarial red.es | traspaso saldo proveedor subvención kit digital 2023/.../...
text | es | para conciliar el pago de facturas | | | | 0,00 | | 0,00 € | 1.997,00 € | 05/07/2023 .
text | es | hola, miquel, lo que pones es de cara a la empresa receptora del kd, ¿verdad?
text | es | el que vaya a la cuenta 4300 no me cuadra.
text | es | @albertcabedo te has encontrado con este caso? .
text | es | @pedrobaeza si, esto es para la empresa receptora del kd.
text | es | por lo que nos ha explicado nuestra gestoría, hay que tener en cuenta que existen dos movimientos: - la empresa que solicita el kid obtiene una subvención de 2.000€ de la entidad pública empresarial red.es.
text | es | por tanto, a efectos prácticos, red.es es un deudor (de ahí la 4300, que en este caso sirve de cuenta puente) que le debe 2.000€ de una subvención a la empresa.
text | es | por eso yo hago una factura en el diario de subvenciones y le pongo impuesto s_sub - el agente digitalizador, el proveedor de servicios, que hace una factura a la empresa por 2.000€ + iva, como es un activo digital hay que imputarlo a la 206 el iva no es subvencionable y hay que pagarlo al proveedor, en cambio los 2.000€ que cuesta el kd los cobra el agente directamente de red.es al presentar la justificación.
text | es | por tanto, la factura del cliente red.es hay que cuadrarla contra la base de la factura de proveedor del agente y de aquí el asiento de la 4100 contra 4300, para conciliar ambas facturas y marcarlas como pagadas.
text | es | esto pasará en las subvenciones en que el proveedor cobra directamente la subvención concedida a la empresa, sin que la empresa vea el dinero en su cuenta bancaria.
code | code | .
text | es | yo creo que no debe ir contra la 4300, si no que con una cuenta de subvenciones, y también el que tiene que declarar el kd en el 347 en todo caso es el agente digitalizador, no el cliente final, pero a ver si algún otro fiscalista/contable nos puede decir.
code | code | .
text | es | hola, nosotros tras varias consultas a hacienda no han explicado que el agente declara normal y el beneficiario declara normal pero a más a más debe de poner las bases de los kits digitales en la casilla 120 contra el ministerio de asuntos económicos y transformación digital > el 4 mar 2024, a las 20:13, pedro m.
text | und | baeza ***@***.***
text | es | > escribió: > > > yo creo que no debe ir contra la 4300, si no que con una cuenta de subvenciones, y también el que tiene que declarar el kd en el 347 en todo caso es el agente digitalizador, no el cliente final, pero a ver si algún otro fiscalista/contable nos puede decir.
code | code | > > — > reply to this email directly, view it on github <https://github.com/oca/l10n-spain/issues/3451#issuecomment-1977282116>, or unsubscribe <https://github.com/notifications/unsubscribe-auth/abpmfvrmivez2pnih3qiyqtywtbwvavcnfsm6aaaaabdy4b52wvhi2dsmvqwix3lmv43oslton2wkq3pnvwwk3tuhmytsnzxgi4demjrgy>.
code | code | > you are receiving this because you are subscribed to this thread.
code | code | > .
text | es | hola, josep, ¿la casilla 120 de qué? .
text | es | del modelo 347 > el 5 mar 2024, a las 9:21, pedro m.
code | code | baeza ***@***.***> escribió: > > > hola, josep, ¿la casilla 120 de qué? > > — > reply to this email directly, view it on github <https://github.com/oca/l10n-spain/issues/3451#issuecomment-1978195316>, or unsubscribe <https://github.com/notifications/unsubscribe-auth/abpmfvxo7rwusy5t5m6suetywv6bzavcnfsm6aaaaabdy4b52wvhi2dsmvqwix3lmv43oslton2wkq3pnvwwk3tuhmytsnzyge4tkmzrgy>.
code | code | > you are receiving this because you commented.
code | code | > .
text | en | pues me temo que no sé de lo que hablas, ya que en el modelo 347, hasta donde sé, no hay casillas numeradas (https://sede.agenciatributaria.gob.es/static_files/sede/disenyo_registro/dr_300_399/archivos/347.pdf) .
text | es | disculpa, me liado de 120.
text | es | se debe de añadir un registro de la siguiente forma según lo nos explicaron en hacienda.
text | es | el agente lo declara normal el beneficiario declara normal la facturas del agente y añade un registro contra el ministerio por la base total de las ayudas.
text | es | ￼ > el 5 mar 2024, a las 9:49, pedro m.
code | code | baeza ***@***.***> escribió: > > > pues me temo que no sé de lo que hablas, ya que en el modelo 347, hasta donde sé, no hay casillas numeradas (https://sede.agenciatributaria.gob.es/static_files/sede/disenyo_registro/dr_300_399/archivos/347.pdf) > > — > reply to this email directly, view it on github <https://github.com/oca/l10n-spain/issues/3451#issuecomment-1978241013>, or unsubscribe <https://github.com/notifications/unsubscribe-auth/abpmfvto5zwwzm3hrwl44e3ywwbjzavcnfsm6aaaaabdy4b52wvhi2dsmvqwix3lmv43oslton2wkq3pnvwwk3tuhmytsnzygi2dcmbrgm>.
code | code | > you are receiving this because you commented.
code | code | > .
text | es | @pedrobaeza respecto a quién debe declarar la subvención en el 347, en todas las subvenciones es el beneficiario de la subvención.
text | es | en el caso el kd, cuando entras en el portal, ahí pone que el beneficiario es la empresa que recibe los servicios del agente digitalizador.
code | code | ![image](https://github.com/oca/l10n-spain/assets/1849488/45efe6c7-ae50-44fd-ad31-464e3c597b69) las condiciones que estipula red.es para recibir el kd es que los servicios a contratar deben ser realizados por un agente digitalizador.
text | es | pasa lo mismo con los cupones de industria 4.0 u otras subvenciones en las que la empresa beneficiaria está obligada a gastarse el dinero en unos proveedores certificados en las competencias para las que se ha solicitado la subvención.
text | es | por tanto quién debe declarar la subvención en el 347 es la empresa que recibe el dinero, y además debe activarla en sus cuentas y declarar el ingreso en las 740 o 746.
text | es | el kd es un poco complejo porqué el ingreso que se debe declarar es la parte amortizada.
text | es | en otras subvenciones es más sencillo, por ejemplo los next generation que no son amortizables, deben declararse todo el importe recibido en el año en curso (criterio de caja) como un ingreso, aunque debe activarse el total recibido.
text | es | por ejemplo si se reciben 100k para un proyecto de 2 años, el primer año se activan los 100k, pero se declaran 50k de ingreso.
text | es | respecto la 4300, eso mejor un fiscalista, porque aunque el nuestro nos ha dicho que no está mal hecho, no es muy "elegante", a lo mejor hay quien tiene una mejor fórmula para hacerlo.
text | es | hablando con otras empresas que se dedican mucho a subvenciones, nos han comentado que ellos también tienen un diario de subvenciones, aunque no crean facturas como tales, pero sí imputan ahí los movimientos.
text | es | en cualquier caso, coincido en que es necesario un tipo de impuesto s_sub que recoja los importes de las subvenciones en el 347.
code | code | .
text | es | ok, creo que queda bastante claro y documentado en este hilo.
text | es | a ver si alguien recoge el testigo y se pone hacerlo.
text | es | si no, esto podría ser una tarea para los spanish oca days de tenerife en mayo.
code | code | .
text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
Detalles: total_items: 63 | code_items: 16 | spanish_items: 43 | english_items: 3
Dato borrado: code | code | .
Dato borrado: code | code | 141-kd000...
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | > > — > reply to this email directly, view it on github <https://github.com/oca/l10n-spain/issues/3451#issuecomment-1977282116>, or unsubscribe <https://github.com/notifications/unsubscribe-auth/abpmfvrmivez2pnih3qiyqtywtbwvavcnfsm6aaaaabdy4b52wvhi2dsmvqwix3lmv43oslton2wkq3pnvwwk3tuhmytsnzxgi4demjrgy>.
Dato borrado: code | code | > you are receiving this because you are subscribed to this thread.
Dato borrado: code | code | > .
Dato borrado: code | code | baeza ***@***.***> escribió: > > > hola, josep, ¿la casilla 120 de qué? > > — > reply to this email directly, view it on github <https://github.com/oca/l10n-spain/issues/3451#issuecomment-1978195316>, or unsubscribe <https://github.com/notifications/unsubscribe-auth/abpmfvxo7rwusy5t5m6suetywv6bzavcnfsm6aaaaabdy4b52wvhi2dsmvqwix3lmv43oslton2wkq3pnvwwk3tuhmytsnzyge4tkmzrgy>.
Dato borrado: code | code | > you are receiving this because you commented.
Dato borrado: code | code | > .
Dato borrado: text | en | pues me temo que no sé de lo que hablas, ya que en el modelo 347, hasta donde sé, no hay casillas numeradas (https://sede.agenciatributaria.gob.es/static_files/sede/disenyo_registro/dr_300_399/archivos/347.pdf) .
Dato borrado: code | code | baeza ***@***.***> escribió: > > > pues me temo que no sé de lo que hablas, ya que en el modelo 347, hasta donde sé, no hay casillas numeradas (https://sede.agenciatributaria.gob.es/static_files/sede/disenyo_registro/dr_300_399/archivos/347.pdf) > > — > reply to this email directly, view it on github <https://github.com/oca/l10n-spain/issues/3451#issuecomment-1978241013>, or unsubscribe <https://github.com/notifications/unsubscribe-auth/abpmfvto5zwwzm3hrwl44e3ywwbjzavcnfsm6aaaaabdy4b52wvhi2dsmvqwix3lmv43oslton2wkq3pnvwwk3tuhmytsnzygi2dcmbrgm>.
Dato borrado: code | code | > you are receiving this because you commented.
Dato borrado: code | code | > .
Dato borrado: code | code | ![image](https://github.com/oca/l10n-spain/assets/1849488/45efe6c7-ae50-44fd-ad31-464e3c597b69) las condiciones que estipula red.es para recibir el kd es que los servicios a contratar deben ser realizados por un agente digitalizador.
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: text | en | there hasn't been any activity on this issue in the past 6 months, so it has been marked as stale and it will be closed automatically if no further activity occurs in the next 30 days.
Dato borrado: text | en | if you want this issue to never become stale, please ask a psc member to apply the "no stale" label.
recomposed_text: caso bastante especial sin duda... creo que no habría que hacer una factura, si no un asiento, pero efectivamente haría falta un impuesto nuevo con cuota 0 y mapearlo en el 347 si no hay ninguno de los existentes que pueda valer. sí, un caso especial, y con el kit digital creo que será un problema para mucha gente, pues hay que informarlo en el 347 cuando supere los 3.000€... con meter el impuesto en el apunte de la 4708 también he probado y no funciona bien, no sé si hice algo mal, al poner el impuesto directamente en el apunte contable, a parte que hay que poner igualmente la empresa que otorga la subvención y por tanto y crear el cliente igualmente, con su cif y su dirección correcta (en el caso del kit digital sería entidad pública empresarial red.es), en el 347 el importe global lo pone correcto, pero en el desglose trimestral lo pone en negativo y considera el apunte como el de una rectificativa. por otro lado en mi caso la factura ayuda mucho para saber cuánto falta por cobrar de la subvención y poner claridad en el asunto, es una factura que hay que cobrar, tienes un sitio donde sabes todas las subvenciones que has recibido, tienes el control en cuentas de clientes, etc... --- el asiento del kit precisamente es un poco complejo, lo pongo aquí por si da alguna pista (disclaimer!! esto es según lo que me ha recomendado a mi la gestoría, como dice gpt, mejor consultar con un experto en contabilidad antes de tocar nada :) asiento de la factura del proveedor: |cuenta | empresa | etiqueta | impuesto (cuota) | impuestos | cuenta analítica | monto moneda | moneda | debe | haber | fecha vencimiento |-- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | | | | | | | | | 2.416,37 | 2.416,37 | |4100156 agente digitalizador sl | agente digitalizador sl | / | | | | 0,00 | | 0,00 € | 2.416,37 € | 01/07/2023 |472000 hacienda pública. iva soportado | agente digitalizador sl | 21% iva soportado (servicios corrientes) | 21% iva soportado (servicios corrientes) | | | 0,00 | | 419,37 € | 0,00 € | 01/07/2023 |206000 aplicaciones informáticas | agente digitalizador sl | kit digital | | 21% iva soportado (servicios corrientes) | | 0,00 | | 1.997,00 € | 0,00 € | 01/07/2023 asiento de factura de la subvención, teóricamente se podría hacer a mano, pero entonces al menos en mi caso, el 347 lo considera una factura rectificativa: |cuenta | empresa | etiqueta | impuesto (cuota) | impuestos | cuenta analítica | monto moneda | moneda | debe | haber | fecha vencimiento |-- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | | | | | | | | | 1.997,00 | 1.997,00 | |430041 entidad pública empresarial red.es | entidad pública empresarial red.es | / | | | | 0,00 | | 1.997,00 € | 0,00 € | 05/07/2023 |470804 hp deudora subvenciones kit digital 2023/.../... | entidad pública empresarial red.es | subvencion 2023/.../... | | subvenciones | | 0,00 | | 0,00 € | 1.997,00 € | 05/07/2023 asiento manual para poder cuadrar el pago de las facturas (el iva se paga directamente al agente digitalizador): |cuenta | empresa | etiqueta | impuesto (cuota) | impuestos | cuenta analítica | monto moneda | moneda | debe | haber | fecha vencimiento |-- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | | | | | | | | | 1.997,00 | 1.997,00 | |4100156 agente digitalizador sl | agente digitalizador sl | traspaso saldo proveedor subvención kit digital 2023/.../... para conciliar el pago de facturas | | | | 0,00 | | 1.997,00 € | 0,00 € | 05/07/2023 |430041 entidad pública empresarial red.es | entidad pública empresarial red.es | traspaso saldo proveedor subvención kit digital 2023/.../... para conciliar el pago de facturas | | | | 0,00 | | 0,00 € | 1.997,00 € | 05/07/2023 . hola, miquel, lo que pones es de cara a la empresa receptora del kd, ¿verdad? el que vaya a la cuenta 4300 no me cuadra. @albertcabedo te has encontrado con este caso? . @pedrobaeza si, esto es para la empresa receptora del kd. por lo que nos ha explicado nuestra gestoría, hay que tener en cuenta que existen dos movimientos: - la empresa que solicita el kid obtiene una subvención de 2.000€ de la entidad pública empresarial red.es. por tanto, a efectos prácticos, red.es es un deudor (de ahí la 4300, que en este caso sirve de cuenta puente) que le debe 2.000€ de una subvención a la empresa. por eso yo hago una factura en el diario de subvenciones y le pongo impuesto s_sub - el agente digitalizador, el proveedor de servicios, que hace una factura a la empresa por 2.000€ + iva, como es un activo digital hay que imputarlo a la 206 el iva no es subvencionable y hay que pagarlo al proveedor, en cambio los 2.000€ que cuesta el kd los cobra el agente directamente de red.es al presentar la justificación. por tanto, la factura del cliente red.es hay que cuadrarla contra la base de la factura de proveedor del agente y de aquí el asiento de la 4100 contra 4300, para conciliar ambas facturas y marcarlas como pagadas. esto pasará en las subvenciones en que el proveedor cobra directamente la subvención concedida a la empresa, sin que la empresa vea el dinero en su cuenta bancaria. yo creo que no debe ir contra la 4300, si no que con una cuenta de subvenciones, y también el que tiene que declarar el kd en el 347 en todo caso es el agente digitalizador, no el cliente final, pero a ver si algún otro fiscalista/contable nos puede decir. hola, nosotros tras varias consultas a hacienda no han explicado que el agente declara normal y el beneficiario declara normal pero a más a más debe de poner las bases de los kits digitales en la casilla 120 contra el ministerio de asuntos económicos y transformación digital > el 4 mar 2024, a las 20:13, pedro m. baeza ***@***.*** > escribió: > > > yo creo que no debe ir contra la 4300, si no que con una cuenta de subvenciones, y también el que tiene que declarar el kd en el 347 en todo caso es el agente digitalizador, no el cliente final, pero a ver si algún otro fiscalista/contable nos puede decir. hola, josep, ¿la casilla 120 de qué? . del modelo 347 > el 5 mar 2024, a las 9:21, pedro m. disculpa, me liado de 120. se debe de añadir un registro de la siguiente forma según lo nos explicaron en hacienda. el agente lo declara normal el beneficiario declara normal la facturas del agente y añade un registro contra el ministerio por la base total de las ayudas. ￼ > el 5 mar 2024, a las 9:49, pedro m. @pedrobaeza respecto a quién debe declarar la subvención en el 347, en todas las subvenciones es el beneficiario de la subvención. en el caso el kd, cuando entras en el portal, ahí pone que el beneficiario es la empresa que recibe los servicios del agente digitalizador. pasa lo mismo con los cupones de industria 4.0 u otras subvenciones en las que la empresa beneficiaria está obligada a gastarse el dinero en unos proveedores certificados en las competencias para las que se ha solicitado la subvención. por tanto quién debe declarar la subvención en el 347 es la empresa que recibe el dinero, y además debe activarla en sus cuentas y declarar el ingreso en las 740 o 746. el kd es un poco complejo porqué el ingreso que se debe declarar es la parte amortizada. en otras subvenciones es más sencillo, por ejemplo los next generation que no son amortizables, deben declararse todo el importe recibido en el año en curso (criterio de caja) como un ingreso, aunque debe activarse el total recibido. por ejemplo si se reciben 100k para un proyecto de 2 años, el primer año se activan los 100k, pero se declaran 50k de ingreso. respecto la 4300, eso mejor un fiscalista, porque aunque el nuestro nos ha dicho que no está mal hecho, no es muy "elegante", a lo mejor hay quien tiene una mejor fórmula para hacerlo. hablando con otras empresas que se dedican mucho a subvenciones, nos han comentado que ellos también tienen un diario de subvenciones, aunque no crean facturas como tales, pero sí imputan ahí los movimientos. en cualquier caso, coincido en que es necesario un tipo de impuesto s_sub que recoja los importes de las subvenciones en el 347. ok, creo que queda bastante claro y documentado en este hilo. a ver si alguien recoge el testigo y se pone hacerlo. si no, esto podría ser una tarea para los spanish oca days de tenerife en mayo.
__Recursividad__
text | es | caso bastante especial sin duda...
text | es | creo que no habría que hacer una factura, si no un asiento, pero efectivamente haría falta un impuesto nuevo con cuota 0 y mapearlo en el 347 si no hay ninguno de los existentes que pueda valer.
text | es | sí, un caso especial, y con el kit digital creo que será un problema para mucha gente, pues hay que informarlo en el 347 cuando supere los 3.000€...
text | es | con meter el impuesto en el apunte de la 4708 también he probado y no funciona bien, no sé si hice algo mal, al poner el impuesto directamente en el apunte contable, a parte que hay que poner igualmente la empresa que otorga la subvención y por tanto y crear el cliente igualmente, con su cif y su dirección correcta (en el caso del kit digital sería entidad pública empresarial red.es), en el 347 el importe global lo pone correcto, pero en el desglose trimestral lo pone en negativo y considera el apunte como el de una rectificativa.
text | es | por otro lado en mi caso la factura ayuda mucho para saber cuánto falta por cobrar de la subvención y poner claridad en el asunto, es una factura que hay que cobrar, tienes un sitio donde sabes todas las subvenciones que has recibido, tienes el control en cuentas de clientes, etc...
text | es | --- el asiento del kit precisamente es un poco complejo, lo pongo aquí por si da alguna pista (disclaimer!!
text | es | esto es según lo que me ha recomendado a mi la gestoría, como dice gpt, mejor consultar con un experto en contabilidad antes de tocar nada :) asiento de la factura del proveedor: |cuenta | empresa | etiqueta | impuesto (cuota) | impuestos | cuenta analítica | monto moneda | moneda | debe | haber | fecha vencimiento |-- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | | | | | | | | | 2.416,37 | 2.416,37 | |4100156 agente digitalizador sl | agente digitalizador sl | / | | | | 0,00 | | 0,00 € | 2.416,37 € | 01/07/2023 |472000 hacienda pública.
text | es | iva soportado | agente digitalizador sl | 21% iva soportado (servicios corrientes) | 21% iva soportado (servicios corrientes) | | | 0,00 | | 419,37 € | 0,00 € | 01/07/2023 |206000 aplicaciones informáticas | agente digitalizador sl | kit digital | | 21% iva soportado (servicios corrientes) | | 0,00 | | 1.997,00 € | 0,00 € | 01/07/2023 asiento de factura de la subvención, teóricamente se podría hacer a mano, pero entonces al menos en mi caso, el 347 lo considera una factura rectificativa: |cuenta | empresa | etiqueta | impuesto (cuota) | impuestos | cuenta analítica | monto moneda | moneda | debe | haber | fecha vencimiento |-- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | | | | | | | | | 1.997,00 | 1.997,00 | |430041 entidad pública empresarial red.es | entidad pública empresarial red.es | / | | | | 0,00 | | 1.997,00 € | 0,00 € | 05/07/2023 |470804 hp deudora subvenciones kit digital 2023/.../...
text | es | | entidad pública empresarial red.es | subvencion 2023/.../...
text | es | | | subvenciones | | 0,00 | | 0,00 € | 1.997,00 € | 05/07/2023 asiento manual para poder cuadrar el pago de las facturas (el iva se paga directamente al agente digitalizador): |cuenta | empresa | etiqueta | impuesto (cuota) | impuestos | cuenta analítica | monto moneda | moneda | debe | haber | fecha vencimiento |-- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | | | | | | | | | 1.997,00 | 1.997,00 | |4100156 agente digitalizador sl | agente digitalizador sl | traspaso saldo proveedor subvención kit digital 2023/.../...
text | es | para conciliar el pago de facturas | | | | 0,00 | | 1.997,00 € | 0,00 € | 05/07/2023 |430041 entidad pública empresarial red.es | entidad pública empresarial red.es | traspaso saldo proveedor subvención kit digital 2023/.../...
text | es | para conciliar el pago de facturas | | | | 0,00 | | 0,00 € | 1.997,00 € | 05/07/2023 .
text | es | hola, miquel, lo que pones es de cara a la empresa receptora del kd, ¿verdad?
text | es | el que vaya a la cuenta 4300 no me cuadra.
text | es | @albertcabedo te has encontrado con este caso? .
text | es | @pedrobaeza si, esto es para la empresa receptora del kd.
text | es | por lo que nos ha explicado nuestra gestoría, hay que tener en cuenta que existen dos movimientos: - la empresa que solicita el kid obtiene una subvención de 2.000€ de la entidad pública empresarial red.es.
text | es | por tanto, a efectos prácticos, red.es es un deudor (de ahí la 4300, que en este caso sirve de cuenta puente) que le debe 2.000€ de una subvención a la empresa.
text | es | por eso yo hago una factura en el diario de subvenciones y le pongo impuesto s_sub - el agente digitalizador, el proveedor de servicios, que hace una factura a la empresa por 2.000€ + iva, como es un activo digital hay que imputarlo a la 206 el iva no es subvencionable y hay que pagarlo al proveedor, en cambio los 2.000€ que cuesta el kd los cobra el agente directamente de red.es al presentar la justificación.
text | es | por tanto, la factura del cliente red.es hay que cuadrarla contra la base de la factura de proveedor del agente y de aquí el asiento de la 4100 contra 4300, para conciliar ambas facturas y marcarlas como pagadas.
text | es | esto pasará en las subvenciones en que el proveedor cobra directamente la subvención concedida a la empresa, sin que la empresa vea el dinero en su cuenta bancaria.
text | es | yo creo que no debe ir contra la 4300, si no que con una cuenta de subvenciones, y también el que tiene que declarar el kd en el 347 en todo caso es el agente digitalizador, no el cliente final, pero a ver si algún otro fiscalista/contable nos puede decir.
text | es | hola, nosotros tras varias consultas a hacienda no han explicado que el agente declara normal y el beneficiario declara normal pero a más a más debe de poner las bases de los kits digitales en la casilla 120 contra el ministerio de asuntos económicos y transformación digital > el 4 mar 2024, a las 20:13, pedro m.
text | und | baeza ***@***.***
text | es | > escribió: > > > yo creo que no debe ir contra la 4300, si no que con una cuenta de subvenciones, y también el que tiene que declarar el kd en el 347 en todo caso es el agente digitalizador, no el cliente final, pero a ver si algún otro fiscalista/contable nos puede decir.
text | es | hola, josep, ¿la casilla 120 de qué? .
text | es | del modelo 347 > el 5 mar 2024, a las 9:21, pedro m.
text | es | disculpa, me liado de 120.
text | es | se debe de añadir un registro de la siguiente forma según lo nos explicaron en hacienda.
text | es | el agente lo declara normal el beneficiario declara normal la facturas del agente y añade un registro contra el ministerio por la base total de las ayudas.
text | es | ￼ > el 5 mar 2024, a las 9:49, pedro m.
text | es | @pedrobaeza respecto a quién debe declarar la subvención en el 347, en todas las subvenciones es el beneficiario de la subvención.
text | es | en el caso el kd, cuando entras en el portal, ahí pone que el beneficiario es la empresa que recibe los servicios del agente digitalizador.
text | es | pasa lo mismo con los cupones de industria 4.0 u otras subvenciones en las que la empresa beneficiaria está obligada a gastarse el dinero en unos proveedores certificados en las competencias para las que se ha solicitado la subvención.
text | es | por tanto quién debe declarar la subvención en el 347 es la empresa que recibe el dinero, y además debe activarla en sus cuentas y declarar el ingreso en las 740 o 746.
text | es | el kd es un poco complejo porqué el ingreso que se debe declarar es la parte amortizada.
text | es | en otras subvenciones es más sencillo, por ejemplo los next generation que no son amortizables, deben declararse todo el importe recibido en el año en curso (criterio de caja) como un ingreso, aunque debe activarse el total recibido.
text | es | por ejemplo si se reciben 100k para un proyecto de 2 años, el primer año se activan los 100k, pero se declaran 50k de ingreso.
text | es | respecto la 4300, eso mejor un fiscalista, porque aunque el nuestro nos ha dicho que no está mal hecho, no es muy "elegante", a lo mejor hay quien tiene una mejor fórmula para hacerlo.
text | es | hablando con otras empresas que se dedican mucho a subvenciones, nos han comentado que ellos también tienen un diario de subvenciones, aunque no crean facturas como tales, pero sí imputan ahí los movimientos.
text | es | en cualquier caso, coincido en que es necesario un tipo de impuesto s_sub que recoja los importes de las subvenciones en el 347.
text | es | ok, creo que queda bastante claro y documentado en este hilo.
text | es | a ver si alguien recoge el testigo y se pone hacerlo.
text | es | si no, esto podría ser una tarea para los spanish oca days de tenerife en mayo.
Detalles: total_items: 44 | code_items: 0 | spanish_items: 43 | english_items: 0
Dato borrado: text | und | baeza ***@***.***
recomposed_text: caso bastante especial sin duda... creo que no habría que hacer una factura, si no un asiento, pero efectivamente haría falta un impuesto nuevo con cuota 0 y mapearlo en el 347 si no hay ninguno de los existentes que pueda valer. sí, un caso especial, y con el kit digital creo que será un problema para mucha gente, pues hay que informarlo en el 347 cuando supere los 3.000€... con meter el impuesto en el apunte de la 4708 también he probado y no funciona bien, no sé si hice algo mal, al poner el impuesto directamente en el apunte contable, a parte que hay que poner igualmente la empresa que otorga la subvención y por tanto y crear el cliente igualmente, con su cif y su dirección correcta (en el caso del kit digital sería entidad pública empresarial red.es), en el 347 el importe global lo pone correcto, pero en el desglose trimestral lo pone en negativo y considera el apunte como el de una rectificativa. por otro lado en mi caso la factura ayuda mucho para saber cuánto falta por cobrar de la subvención y poner claridad en el asunto, es una factura que hay que cobrar, tienes un sitio donde sabes todas las subvenciones que has recibido, tienes el control en cuentas de clientes, etc... --- el asiento del kit precisamente es un poco complejo, lo pongo aquí por si da alguna pista (disclaimer!! esto es según lo que me ha recomendado a mi la gestoría, como dice gpt, mejor consultar con un experto en contabilidad antes de tocar nada :) asiento de la factura del proveedor: |cuenta | empresa | etiqueta | impuesto (cuota) | impuestos | cuenta analítica | monto moneda | moneda | debe | haber | fecha vencimiento |-- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | | | | | | | | | 2.416,37 | 2.416,37 | |4100156 agente digitalizador sl | agente digitalizador sl | / | | | | 0,00 | | 0,00 € | 2.416,37 € | 01/07/2023 |472000 hacienda pública. iva soportado | agente digitalizador sl | 21% iva soportado (servicios corrientes) | 21% iva soportado (servicios corrientes) | | | 0,00 | | 419,37 € | 0,00 € | 01/07/2023 |206000 aplicaciones informáticas | agente digitalizador sl | kit digital | | 21% iva soportado (servicios corrientes) | | 0,00 | | 1.997,00 € | 0,00 € | 01/07/2023 asiento de factura de la subvención, teóricamente se podría hacer a mano, pero entonces al menos en mi caso, el 347 lo considera una factura rectificativa: |cuenta | empresa | etiqueta | impuesto (cuota) | impuestos | cuenta analítica | monto moneda | moneda | debe | haber | fecha vencimiento |-- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | | | | | | | | | 1.997,00 | 1.997,00 | |430041 entidad pública empresarial red.es | entidad pública empresarial red.es | / | | | | 0,00 | | 1.997,00 € | 0,00 € | 05/07/2023 |470804 hp deudora subvenciones kit digital 2023/.../... | entidad pública empresarial red.es | subvencion 2023/.../... | | subvenciones | | 0,00 | | 0,00 € | 1.997,00 € | 05/07/2023 asiento manual para poder cuadrar el pago de las facturas (el iva se paga directamente al agente digitalizador): |cuenta | empresa | etiqueta | impuesto (cuota) | impuestos | cuenta analítica | monto moneda | moneda | debe | haber | fecha vencimiento |-- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | | | | | | | | | 1.997,00 | 1.997,00 | |4100156 agente digitalizador sl | agente digitalizador sl | traspaso saldo proveedor subvención kit digital 2023/.../... para conciliar el pago de facturas | | | | 0,00 | | 1.997,00 € | 0,00 € | 05/07/2023 |430041 entidad pública empresarial red.es | entidad pública empresarial red.es | traspaso saldo proveedor subvención kit digital 2023/.../... para conciliar el pago de facturas | | | | 0,00 | | 0,00 € | 1.997,00 € | 05/07/2023 . hola, miquel, lo que pones es de cara a la empresa receptora del kd, ¿verdad? el que vaya a la cuenta 4300 no me cuadra. @albertcabedo te has encontrado con este caso? . @pedrobaeza si, esto es para la empresa receptora del kd. por lo que nos ha explicado nuestra gestoría, hay que tener en cuenta que existen dos movimientos: - la empresa que solicita el kid obtiene una subvención de 2.000€ de la entidad pública empresarial red.es. por tanto, a efectos prácticos, red.es es un deudor (de ahí la 4300, que en este caso sirve de cuenta puente) que le debe 2.000€ de una subvención a la empresa. por eso yo hago una factura en el diario de subvenciones y le pongo impuesto s_sub - el agente digitalizador, el proveedor de servicios, que hace una factura a la empresa por 2.000€ + iva, como es un activo digital hay que imputarlo a la 206 el iva no es subvencionable y hay que pagarlo al proveedor, en cambio los 2.000€ que cuesta el kd los cobra el agente directamente de red.es al presentar la justificación. por tanto, la factura del cliente red.es hay que cuadrarla contra la base de la factura de proveedor del agente y de aquí el asiento de la 4100 contra 4300, para conciliar ambas facturas y marcarlas como pagadas. esto pasará en las subvenciones en que el proveedor cobra directamente la subvención concedida a la empresa, sin que la empresa vea el dinero en su cuenta bancaria. yo creo que no debe ir contra la 4300, si no que con una cuenta de subvenciones, y también el que tiene que declarar el kd en el 347 en todo caso es el agente digitalizador, no el cliente final, pero a ver si algún otro fiscalista/contable nos puede decir. hola, nosotros tras varias consultas a hacienda no han explicado que el agente declara normal y el beneficiario declara normal pero a más a más debe de poner las bases de los kits digitales en la casilla 120 contra el ministerio de asuntos económicos y transformación digital > el 4 mar 2024, a las 20:13, pedro m. > escribió: > > > yo creo que no debe ir contra la 4300, si no que con una cuenta de subvenciones, y también el que tiene que declarar el kd en el 347 en todo caso es el agente digitalizador, no el cliente final, pero a ver si algún otro fiscalista/contable nos puede decir. hola, josep, ¿la casilla 120 de qué? . del modelo 347 > el 5 mar 2024, a las 9:21, pedro m. disculpa, me liado de 120. se debe de añadir un registro de la siguiente forma según lo nos explicaron en hacienda. el agente lo declara normal el beneficiario declara normal la facturas del agente y añade un registro contra el ministerio por la base total de las ayudas. ￼ > el 5 mar 2024, a las 9:49, pedro m. @pedrobaeza respecto a quién debe declarar la subvención en el 347, en todas las subvenciones es el beneficiario de la subvención. en el caso el kd, cuando entras en el portal, ahí pone que el beneficiario es la empresa que recibe los servicios del agente digitalizador. pasa lo mismo con los cupones de industria 4.0 u otras subvenciones en las que la empresa beneficiaria está obligada a gastarse el dinero en unos proveedores certificados en las competencias para las que se ha solicitado la subvención. por tanto quién debe declarar la subvención en el 347 es la empresa que recibe el dinero, y además debe activarla en sus cuentas y declarar el ingreso en las 740 o 746. el kd es un poco complejo porqué el ingreso que se debe declarar es la parte amortizada. en otras subvenciones es más sencillo, por ejemplo los next generation que no son amortizables, deben declararse todo el importe recibido en el año en curso (criterio de caja) como un ingreso, aunque debe activarse el total recibido. por ejemplo si se reciben 100k para un proyecto de 2 años, el primer año se activan los 100k, pero se declaran 50k de ingreso. respecto la 4300, eso mejor un fiscalista, porque aunque el nuestro nos ha dicho que no está mal hecho, no es muy "elegante", a lo mejor hay quien tiene una mejor fórmula para hacerlo. hablando con otras empresas que se dedican mucho a subvenciones, nos han comentado que ellos también tienen un diario de subvenciones, aunque no crean facturas como tales, pero sí imputan ahí los movimientos. en cualquier caso, coincido en que es necesario un tipo de impuesto s_sub que recoja los importes de las subvenciones en el 347. ok, creo que queda bastante claro y documentado en este hilo. a ver si alguien recoge el testigo y se pone hacerlo. si no, esto podría ser una tarea para los spanish oca days de tenerife en mayo.

# Entrada procesada 2026-02-09T14:14:29.148040 UTC
code | code | el contacto hay que definirlo correctamente: ![image](https://github.com/oca/l10n-spain/assets/7165771/bcbf71bb-94ae-4f5b-9e54-8174e7d5f4f8) .
text | es | hola, disculpa @pedrobaeza como se decía al abrir el hilo facturae solicitan nombre y apellido aún habiéndolo marcado como "individual" (previamente ya habíamos probado esto que comentas).
text | es | cuando seleccionas "individual", tal y como se muestra en tu captura, sigue sin aparecer un campo donde añadir el apellido.
text | es | hemos probado a añadir ambos datos en el mismo campo pero el odoo no es capaz de separarlo.
text | es | ¿existe alguna solución? .
code | code | instalar `partner_firstname`.
Detalles: total_items: 6 | code_items: 2 | spanish_items: 4 | english_items: 0
Dato borrado: code | code | el contacto hay que definirlo correctamente: ![image](https://github.com/oca/l10n-spain/assets/7165771/bcbf71bb-94ae-4f5b-9e54-8174e7d5f4f8) .
Dato borrado: code | code | instalar `partner_firstname`.
recomposed_text: hola, disculpa @pedrobaeza como se decía al abrir el hilo facturae solicitan nombre y apellido aún habiéndolo marcado como "individual" (previamente ya habíamos probado esto que comentas). cuando seleccionas "individual", tal y como se muestra en tu captura, sigue sin aparecer un campo donde añadir el apellido. hemos probado a añadir ambos datos en el mismo campo pero el odoo no es capaz de separarlo. ¿existe alguna solución? .
__Recursividad__
text | es | hola, disculpa @pedrobaeza como se decía al abrir el hilo facturae solicitan nombre y apellido aún habiéndolo marcado como "individual" (previamente ya habíamos probado esto que comentas).
text | es | cuando seleccionas "individual", tal y como se muestra en tu captura, sigue sin aparecer un campo donde añadir el apellido.
text | es | hemos probado a añadir ambos datos en el mismo campo pero el odoo no es capaz de separarlo.
text | es | ¿existe alguna solución? .
Detalles: total_items: 4 | code_items: 0 | spanish_items: 4 | english_items: 0
recomposed_text: hola, disculpa @pedrobaeza como se decía al abrir el hilo facturae solicitan nombre y apellido aún habiéndolo marcado como "individual" (previamente ya habíamos probado esto que comentas). cuando seleccionas "individual", tal y como se muestra en tu captura, sigue sin aparecer un campo donde añadir el apellido. hemos probado a añadir ambos datos en el mismo campo pero el odoo no es capaz de separarlo. ¿existe alguna solución? .

# Entrada procesada 2026-02-09T14:14:29.167514 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:29.183196 UTC
text | es | @xabispacebiker nos acabamos de encontrar con este error y esa librería de js que genera el fichero en el tpv es una muerte, ¿has dado con la solucion?
text | es | gracias .
text | es | buenas @omar7r , finalmente pudimos identificar el problema en el proceso de generación de facturas ticketbai que ocurría bajo ciertas condiciones, como la pérdida de conexión a internet o una alta carga del sistema.
text | es | este problema se debía a una "race condition", donde múltiples procesos intentaban generar un número de factura al mismo tiempo.
text | es | como resultado, el mismo número de factura podía ser asignado a diferentes facturas, causando errores al enviar los datos a la agencia tributaria.
text | es | para resolver este problema, hemos implementado un mecanismo para evitar la generación concurrente del mismo número de factura.
text | es | esto es lo que hicimos: 1.
text | es | introducción de un flag: añadimos un flag (isgeneratinginvoice) para rastrear si un proceso de generación de factura ya está en curso.
code | code | 2.
text | es | control de acceso: antes de iniciar el proceso de generación de la factura, el sistema verifica este flag.
text | es | si ya se está generando una factura, el nuevo proceso esperará hasta que el actual termine.
code | code | 3.
text | es | reinicio del flag: una vez que la generación de la factura se completa, el flag se reinicia, permitiendo que el siguiente proceso continúe.
code | code | 4.
text | es | control de errores: mejoramos el control de errores para asegurar que el flag se reinicie incluso si ocurre un error durante el proceso de generación de la factura.
text | es | por el momento parece que el error se ha corregido.
code | code | .
text | es | muchas gracias por la respuesta ¿no tenéis ese parche público o?
text | es | habrá que mirar de hacer algo así, probé con el módulo de multidispositivos y de inicio parecía que no podía replicar el problema forzando la caída y recuperación de la conexión como antes y pensé que ya no sucedía, pero nada, sigue sucediendo y no logro encontrar el nuevo patrón para replicarlo...
code | code | .
text | es | @xabispacebiker saludos.
text | es | ¿como ha ido finalmente el fix? ¿
text | es | alguna posibilidad de compartirlo con la comunidad?
Detalles: total_items: 23 | code_items: 5 | spanish_items: 18 | english_items: 0
Dato borrado: code | code | 2.
Dato borrado: code | code | 3.
Dato borrado: code | code | 4.
Dato borrado: code | code | .
Dato borrado: code | code | .
recomposed_text: @xabispacebiker nos acabamos de encontrar con este error y esa librería de js que genera el fichero en el tpv es una muerte, ¿has dado con la solucion? gracias . buenas @omar7r , finalmente pudimos identificar el problema en el proceso de generación de facturas ticketbai que ocurría bajo ciertas condiciones, como la pérdida de conexión a internet o una alta carga del sistema. este problema se debía a una "race condition", donde múltiples procesos intentaban generar un número de factura al mismo tiempo. como resultado, el mismo número de factura podía ser asignado a diferentes facturas, causando errores al enviar los datos a la agencia tributaria. para resolver este problema, hemos implementado un mecanismo para evitar la generación concurrente del mismo número de factura. esto es lo que hicimos: 1. introducción de un flag: añadimos un flag (isgeneratinginvoice) para rastrear si un proceso de generación de factura ya está en curso. control de acceso: antes de iniciar el proceso de generación de la factura, el sistema verifica este flag. si ya se está generando una factura, el nuevo proceso esperará hasta que el actual termine. reinicio del flag: una vez que la generación de la factura se completa, el flag se reinicia, permitiendo que el siguiente proceso continúe. control de errores: mejoramos el control de errores para asegurar que el flag se reinicie incluso si ocurre un error durante el proceso de generación de la factura. por el momento parece que el error se ha corregido. muchas gracias por la respuesta ¿no tenéis ese parche público o? habrá que mirar de hacer algo así, probé con el módulo de multidispositivos y de inicio parecía que no podía replicar el problema forzando la caída y recuperación de la conexión como antes y pensé que ya no sucedía, pero nada, sigue sucediendo y no logro encontrar el nuevo patrón para replicarlo... @xabispacebiker saludos. ¿como ha ido finalmente el fix? ¿ alguna posibilidad de compartirlo con la comunidad?
__Recursividad__
text | es | @xabispacebiker nos acabamos de encontrar con este error y esa librería de js que genera el fichero en el tpv es una muerte, ¿has dado con la solucion?
text | es | gracias .
text | es | buenas @omar7r , finalmente pudimos identificar el problema en el proceso de generación de facturas ticketbai que ocurría bajo ciertas condiciones, como la pérdida de conexión a internet o una alta carga del sistema.
text | es | este problema se debía a una "race condition", donde múltiples procesos intentaban generar un número de factura al mismo tiempo.
text | es | como resultado, el mismo número de factura podía ser asignado a diferentes facturas, causando errores al enviar los datos a la agencia tributaria.
text | es | para resolver este problema, hemos implementado un mecanismo para evitar la generación concurrente del mismo número de factura.
text | es | esto es lo que hicimos: 1.
text | es | introducción de un flag: añadimos un flag (isgeneratinginvoice) para rastrear si un proceso de generación de factura ya está en curso.
text | es | control de acceso: antes de iniciar el proceso de generación de la factura, el sistema verifica este flag.
text | es | si ya se está generando una factura, el nuevo proceso esperará hasta que el actual termine.
text | es | reinicio del flag: una vez que la generación de la factura se completa, el flag se reinicia, permitiendo que el siguiente proceso continúe.
text | es | control de errores: mejoramos el control de errores para asegurar que el flag se reinicie incluso si ocurre un error durante el proceso de generación de la factura.
text | es | por el momento parece que el error se ha corregido.
text | es | muchas gracias por la respuesta ¿no tenéis ese parche público o?
text | es | habrá que mirar de hacer algo así, probé con el módulo de multidispositivos y de inicio parecía que no podía replicar el problema forzando la caída y recuperación de la conexión como antes y pensé que ya no sucedía, pero nada, sigue sucediendo y no logro encontrar el nuevo patrón para replicarlo...
text | es | @xabispacebiker saludos.
text | es | ¿como ha ido finalmente el fix? ¿
text | es | alguna posibilidad de compartirlo con la comunidad?
Detalles: total_items: 18 | code_items: 0 | spanish_items: 18 | english_items: 0
recomposed_text: @xabispacebiker nos acabamos de encontrar con este error y esa librería de js que genera el fichero en el tpv es una muerte, ¿has dado con la solucion? gracias . buenas @omar7r , finalmente pudimos identificar el problema en el proceso de generación de facturas ticketbai que ocurría bajo ciertas condiciones, como la pérdida de conexión a internet o una alta carga del sistema. este problema se debía a una "race condition", donde múltiples procesos intentaban generar un número de factura al mismo tiempo. como resultado, el mismo número de factura podía ser asignado a diferentes facturas, causando errores al enviar los datos a la agencia tributaria. para resolver este problema, hemos implementado un mecanismo para evitar la generación concurrente del mismo número de factura. esto es lo que hicimos: 1. introducción de un flag: añadimos un flag (isgeneratinginvoice) para rastrear si un proceso de generación de factura ya está en curso. control de acceso: antes de iniciar el proceso de generación de la factura, el sistema verifica este flag. si ya se está generando una factura, el nuevo proceso esperará hasta que el actual termine. reinicio del flag: una vez que la generación de la factura se completa, el flag se reinicia, permitiendo que el siguiente proceso continúe. control de errores: mejoramos el control de errores para asegurar que el flag se reinicie incluso si ocurre un error durante el proceso de generación de la factura. por el momento parece que el error se ha corregido. muchas gracias por la respuesta ¿no tenéis ese parche público o? habrá que mirar de hacer algo así, probé con el módulo de multidispositivos y de inicio parecía que no podía replicar el problema forzando la caída y recuperación de la conexión como antes y pensé que ya no sucedía, pero nada, sigue sucediendo y no logro encontrar el nuevo patrón para replicarlo... @xabispacebiker saludos. ¿como ha ido finalmente el fix? ¿ alguna posibilidad de compartirlo con la comunidad?

# Entrada procesada 2026-02-09T14:14:29.241976 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:29.245664 UTC
text | en | fast-tracking for fixing the important issue: /ocabot merge patch .
code | code | on my way to merge this fine pr!
prepared branch [18.0-ocabot-merge-pr-4807-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4807-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 142418562d7e8786e1d52b561ce3e5feb8126271.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 6 | code_items: 3 | spanish_items: 1 | english_items: 2
Dato borrado: text | en | fast-tracking for fixing the important issue: /ocabot merge patch .
Dato borrado: code | code | on my way to merge this fine pr!
prepared branch [18.0-ocabot-merge-pr-4807-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4807-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 142418562d7e8786e1d52b561ce3e5feb8126271.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

# Entrada procesada 2026-02-09T14:14:29.256309 UTC
text | es | revisa por favor lo comentado en otros hilos, y aparte de la ia, hay que revisar cis y demás.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: revisa por favor lo comentado en otros hilos, y aparte de la ia, hay que revisar cis y demás.
__Recursividad__
text | es | revisa por favor lo comentado en otros hilos, y aparte de la ia, hay que revisar cis y demás.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: revisa por favor lo comentado en otros hilos, y aparte de la ia, hay que revisar cis y demás.

# Entrada procesada 2026-02-09T14:14:29.268265 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:29.271752 UTC
text | es | hola, @desagia, gracias por contribuir con estos prs.
code | code | echa por favor un vistazo a https://github.com/oca/maintainer-tools/wiki/migration-to-version-19.0 (también indicado en [la issue de seguimiento de la migración](https://github.com/oca/l10n-spain/issues/4402)) sobre cómo hacer estas migraciones.
text | es | por otro lado, la migración de este módulo ya se encuentra propuesta en #4624, teniendo preferencia por orden de llegada.
text | es | revísala por favor para dar tu visto bueno.
text | es | cierro por tanto.
Detalles: total_items: 5 | code_items: 1 | spanish_items: 4 | english_items: 0
Dato borrado: code | code | echa por favor un vistazo a https://github.com/oca/maintainer-tools/wiki/migration-to-version-19.0 (también indicado en [la issue de seguimiento de la migración](https://github.com/oca/l10n-spain/issues/4402)) sobre cómo hacer estas migraciones.
recomposed_text: hola, @desagia, gracias por contribuir con estos prs. por otro lado, la migración de este módulo ya se encuentra propuesta en #4624, teniendo preferencia por orden de llegada. revísala por favor para dar tu visto bueno. cierro por tanto.
__Recursividad__
text | es | hola, @desagia, gracias por contribuir con estos prs.
text | es | por otro lado, la migración de este módulo ya se encuentra propuesta en #4624, teniendo preferencia por orden de llegada.
text | es | revísala por favor para dar tu visto bueno.
text | es | cierro por tanto.
Detalles: total_items: 4 | code_items: 0 | spanish_items: 4 | english_items: 0
recomposed_text: hola, @desagia, gracias por contribuir con estos prs. por otro lado, la migración de este módulo ya se encuentra propuesta en #4624, teniendo preferencia por orden de llegada. revísala por favor para dar tu visto bueno. cierro por tanto.

# Entrada procesada 2026-02-09T14:14:29.289487 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
text | es | se puede mergear @pedrobaeza ? .
text | es | /ocabot merge patch .
code | code | this pr looks fantastic, let's merge it!
prepared branch [16.0-ocabot-merge-pr-4801-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4801-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at e0dc8657a2c0be68cac93f69a7266ae50787a8cb.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 8 | code_items: 3 | spanish_items: 3 | english_items: 2
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | this pr looks fantastic, let's merge it!
prepared branch [16.0-ocabot-merge-pr-4801-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4801-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at e0dc8657a2c0be68cac93f69a7266ae50787a8cb.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: se puede mergear @pedrobaeza ? . /ocabot merge patch . corazón rojo
__Recursividad__
text | es | se puede mergear @pedrobaeza ? .
text | es | /ocabot merge patch .
text | es | corazón rojo
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: se puede mergear @pedrobaeza ? . /ocabot merge patch . corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:29.289487
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:29.302074 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
text | en | hey, thanks for contributing!
text | en | proceeding to merge this for you.
code | code | prepared branch [17.0-ocabot-merge-pr-4799-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4799-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
text | en | hey, thanks for contributing!
text | en | proceeding to merge this for you.
code | code | prepared branch [17.0-ocabot-merge-pr-4799-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4799-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at c2101283914d159dbd01fb599ceba2063ec3ce0e.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 12 | code_items: 5 | spanish_items: 1 | english_items: 6
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: text | en | hey, thanks for contributing!
Dato borrado: text | en | proceeding to merge this for you.
Dato borrado: code | code | prepared branch [17.0-ocabot-merge-pr-4799-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4799-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: text | en | hey, thanks for contributing!
Dato borrado: text | en | proceeding to merge this for you.
Dato borrado: code | code | prepared branch [17.0-ocabot-merge-pr-4799-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4799-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at c2101283914d159dbd01fb599ceba2063ec3ce0e.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:29.302074
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:29.314372 UTC
text | es | parche directo /ocabot merge patch .
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [18.0-ocabot-merge-pr-4798-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4798-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 18.0-ocabot-merge-pr-4798-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/a91c57db7e96f1872d6b9510035c50dd2bcc5272).
text | en | after fixing the problem, you can re-issue a merge command.
code | code | please refrain from merging manually as it will most probably make the target branch red.
code | code | .
text | es | si es solo para evitar que sea visible no sería mejor a nivel de vista?
text | es | pareciera que algo de la lógica está siendo alterada con el cambio .
text | es | tengo que revisar si es que se debe a que los tests no están bien planteados o qué, pero lo suyo es que la variable universal `sii_enabled` refleje lo correcto para estos casos, no que se controle "de chiripa" por rebote del resto de código.
Detalles: total_items: 11 | code_items: 5 | spanish_items: 4 | english_items: 2
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [18.0-ocabot-merge-pr-4798-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4798-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 18.0-ocabot-merge-pr-4798-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/a91c57db7e96f1872d6b9510035c50dd2bcc5272).
Dato borrado: text | en | after fixing the problem, you can re-issue a merge command.
Dato borrado: code | code | please refrain from merging manually as it will most probably make the target branch red.
Dato borrado: code | code | .
recomposed_text: parche directo /ocabot merge patch . si es solo para evitar que sea visible no sería mejor a nivel de vista? pareciera que algo de la lógica está siendo alterada con el cambio . tengo que revisar si es que se debe a que los tests no están bien planteados o qué, pero lo suyo es que la variable universal `sii_enabled` refleje lo correcto para estos casos, no que se controle "de chiripa" por rebote del resto de código.
__Recursividad__
text | es | parche directo /ocabot merge patch .
text | es | si es solo para evitar que sea visible no sería mejor a nivel de vista?
text | es | pareciera que algo de la lógica está siendo alterada con el cambio .
text | es | tengo que revisar si es que se debe a que los tests no están bien planteados o qué, pero lo suyo es que la variable universal `sii_enabled` refleje lo correcto para estos casos, no que se controle "de chiripa" por rebote del resto de código.
Detalles: total_items: 4 | code_items: 0 | spanish_items: 4 | english_items: 0
recomposed_text: parche directo /ocabot merge patch . si es solo para evitar que sea visible no sería mejor a nivel de vista? pareciera que algo de la lógica está siendo alterada con el cambio . tengo que revisar si es que se debe a que los tests no están bien planteados o qué, pero lo suyo es que la variable universal `sii_enabled` refleje lo correcto para estos casos, no que se controle "de chiripa" por rebote del resto de código.

# Entrada procesada 2026-02-09T14:14:29.341048 UTC
text | es | @haraldpanten @almumu @etobella @omar7r este cambio proviene de un error inicial en el sii del pos cuando se mezclan bienes y servicios, que me ha llevado a tirar del hilo y ver que básicamente se estaba haciendo desglose en cuanto se mezclaban bienes y servicios, cuando según parece, eso no es necesario salvo unos pocos casos, como intra o extra-comunitario.
text | es | de ahí la gran cantidad de cambios.
text | es | voy a seguir probándolo en casos reales, pero por el momento todo es correcto.
text | es | a ver qué os parece, que con esto la estructura enviada es más simple y menos liosa.
code | code | .
text | es | gracias pedro, le echaremos un ojo junto con @valentinvinagre y te damos feedback.
text | es | de momento no fusiones manos en oración .
text | es | sí, no voy a fusionarlo mientras no haya un poco de pruebas de varios.
Detalles: total_items: 8 | code_items: 1 | spanish_items: 7 | english_items: 0
Dato borrado: code | code | .
recomposed_text: @haraldpanten @almumu @etobella @omar7r este cambio proviene de un error inicial en el sii del pos cuando se mezclan bienes y servicios, que me ha llevado a tirar del hilo y ver que básicamente se estaba haciendo desglose en cuanto se mezclaban bienes y servicios, cuando según parece, eso no es necesario salvo unos pocos casos, como intra o extra-comunitario. de ahí la gran cantidad de cambios. voy a seguir probándolo en casos reales, pero por el momento todo es correcto. a ver qué os parece, que con esto la estructura enviada es más simple y menos liosa. gracias pedro, le echaremos un ojo junto con @valentinvinagre y te damos feedback. de momento no fusiones manos en oración . sí, no voy a fusionarlo mientras no haya un poco de pruebas de varios.
__Recursividad__
text | es | @haraldpanten @almumu @etobella @omar7r este cambio proviene de un error inicial en el sii del pos cuando se mezclan bienes y servicios, que me ha llevado a tirar del hilo y ver que básicamente se estaba haciendo desglose en cuanto se mezclaban bienes y servicios, cuando según parece, eso no es necesario salvo unos pocos casos, como intra o extra-comunitario.
text | es | de ahí la gran cantidad de cambios.
text | es | voy a seguir probándolo en casos reales, pero por el momento todo es correcto.
text | es | a ver qué os parece, que con esto la estructura enviada es más simple y menos liosa.
text | es | gracias pedro, le echaremos un ojo junto con @valentinvinagre y te damos feedback.
text | es | de momento no fusiones manos en oración .
text | es | sí, no voy a fusionarlo mientras no haya un poco de pruebas de varios.
Detalles: total_items: 7 | code_items: 0 | spanish_items: 7 | english_items: 0
recomposed_text: @haraldpanten @almumu @etobella @omar7r este cambio proviene de un error inicial en el sii del pos cuando se mezclan bienes y servicios, que me ha llevado a tirar del hilo y ver que básicamente se estaba haciendo desglose en cuanto se mezclaban bienes y servicios, cuando según parece, eso no es necesario salvo unos pocos casos, como intra o extra-comunitario. de ahí la gran cantidad de cambios. voy a seguir probándolo en casos reales, pero por el momento todo es correcto. a ver qué os parece, que con esto la estructura enviada es más simple y menos liosa. gracias pedro, le echaremos un ojo junto con @valentinvinagre y te damos feedback. de momento no fusiones manos en oración . sí, no voy a fusionarlo mientras no haya un poco de pruebas de varios.

# Entrada procesada 2026-02-09T14:14:29.374343 UTC
text | es | gracias por la corrección @carlosdauden parece que ahora que se envían las rectificativas como tal el test no pasa porque el test no estaba bien planteado.
code | code | <img width="3769" height="1714" alt="image" src="https://github.com/user-attachments/assets/0ee2c39d-04e7-4f82-b508-d28c5b8504bf" /> ¿puedes corregir el test y aprobamos.? .
code | code | @sergio-teruel tests en verde, los tests se estaban asegurando de que la factura rectificativa estuviese mal comunicada :open_mouth: https://github.com/oca/l10n-spain/pull/3071#issuecomment-1580852786 .
text | es | ping @rodrigobm @soniaviciana
Detalles: total_items: 4 | code_items: 2 | spanish_items: 2 | english_items: 0
Dato borrado: code | code | <img width="3769" height="1714" alt="image" src="https://github.com/user-attachments/assets/0ee2c39d-04e7-4f82-b508-d28c5b8504bf" /> ¿puedes corregir el test y aprobamos.? .
Dato borrado: code | code | @sergio-teruel tests en verde, los tests se estaban asegurando de que la factura rectificativa estuviese mal comunicada :open_mouth: https://github.com/oca/l10n-spain/pull/3071#issuecomment-1580852786 .
recomposed_text: gracias por la corrección @carlosdauden parece que ahora que se envían las rectificativas como tal el test no pasa porque el test no estaba bien planteado. ping @rodrigobm @soniaviciana
__Recursividad__
text | es | gracias por la corrección @carlosdauden parece que ahora que se envían las rectificativas como tal el test no pasa porque el test no estaba bien planteado.
text | es | ping @rodrigobm @soniaviciana
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: gracias por la corrección @carlosdauden parece que ahora que se envían las rectificativas como tal el test no pasa porque el test no estaba bien planteado. ping @rodrigobm @soniaviciana

# Entrada procesada 2026-02-09T14:14:29.387991 UTC
code | code | this pr looks fantastic, let's merge it!
prepared branch [16.0-ocabot-merge-pr-4795-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4795-by-pedrobaeza-bump-minor), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at cc83ac9a2c90e99484f2f4a34d740a769ba2d5e7.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 5 | code_items: 3 | spanish_items: 1 | english_items: 1
Dato borrado: code | code | this pr looks fantastic, let's merge it!
prepared branch [16.0-ocabot-merge-pr-4795-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4795-by-pedrobaeza-bump-minor), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at cc83ac9a2c90e99484f2f4a34d740a769ba2d5e7.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

# Entrada procesada 2026-02-09T14:14:29.402824 UTC
text | en | hey, thanks for contributing!
text | en | proceeding to merge this for you.
code | code | prepared branch [17.0-ocabot-merge-pr-4794-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4794-by-pedrobaeza-bump-minor), awaiting test results.
code | code | .
code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 17.0-ocabot-merge-pr-4794-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/48b6018d3c0a48eba89506a3ee81d431e05b8f74).
text | en | after fixing the problem, you can re-issue a merge command.
code | code | please refrain from merging manually as it will most probably make the target branch red.
code | code | .
text | es | /ocabot merge minor .
code | code | on my way to merge this fine pr!
prepared branch [17.0-ocabot-merge-pr-4794-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4794-by-pedrobaeza-bump-minor), awaiting test results.
code | code | .
code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 17.0-ocabot-merge-pr-4794-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/860ac56e39bde542cc39caa5e1f5921754f4a0c8).
text | en | after fixing the problem, you can re-issue a merge command.
code | code | please refrain from merging manually as it will most probably make the target branch red.
code | code | .
text | es | /ocabot merge minor .
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [17.0-ocabot-merge-pr-4794-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4794-by-pedrobaeza-bump-minor), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 391a4f5fb86090dd94aed568c95023db035cde68.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 22 | code_items: 13 | spanish_items: 3 | english_items: 6
Dato borrado: text | en | hey, thanks for contributing!
Dato borrado: text | en | proceeding to merge this for you.
Dato borrado: code | code | prepared branch [17.0-ocabot-merge-pr-4794-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4794-by-pedrobaeza-bump-minor), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 17.0-ocabot-merge-pr-4794-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/48b6018d3c0a48eba89506a3ee81d431e05b8f74).
Dato borrado: text | en | after fixing the problem, you can re-issue a merge command.
Dato borrado: code | code | please refrain from merging manually as it will most probably make the target branch red.
Dato borrado: code | code | .
Dato borrado: code | code | on my way to merge this fine pr!
prepared branch [17.0-ocabot-merge-pr-4794-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4794-by-pedrobaeza-bump-minor), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 17.0-ocabot-merge-pr-4794-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/860ac56e39bde542cc39caa5e1f5921754f4a0c8).
Dato borrado: text | en | after fixing the problem, you can re-issue a merge command.
Dato borrado: code | code | please refrain from merging manually as it will most probably make the target branch red.
Dato borrado: code | code | .
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [17.0-ocabot-merge-pr-4794-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4794-by-pedrobaeza-bump-minor), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 391a4f5fb86090dd94aed568c95023db035cde68.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: /ocabot merge minor . /ocabot merge minor . corazón rojo
__Recursividad__
text | es | /ocabot merge minor .
text | es | /ocabot merge minor .
text | es | corazón rojo
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: /ocabot merge minor . /ocabot merge minor . corazón rojo

# Entrada procesada 2026-02-09T14:14:29.417738 UTC
text | en | hola @emiliopascual, @andrii9090, @rafaelbn,
some modules you are maintaining are being modified, check this out! .
code | code | on my way to merge this fine pr!
prepared branch [18.0-ocabot-merge-pr-4791-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4791-by-pedrobaeza-bump-minor), awaiting test results.
code | code | .
code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 18.0-ocabot-merge-pr-4791-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/5c3cff50b276156a971fa0f627136c4303e833fb).
text | en | after fixing the problem, you can re-issue a merge command.
code | code | please refrain from merging manually as it will most probably make the target branch red.
code | code | .
text | es | /ocabot merge minor .
code | code | this pr looks fantastic, let's merge it!
prepared branch [18.0-ocabot-merge-pr-4791-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4791-by-pedrobaeza-bump-minor), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 906962409a0b86583388ebf9b3eee7253cf4052e.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 13 | code_items: 8 | spanish_items: 2 | english_items: 3
Dato borrado: text | en | hola @emiliopascual, @andrii9090, @rafaelbn,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | on my way to merge this fine pr!
prepared branch [18.0-ocabot-merge-pr-4791-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4791-by-pedrobaeza-bump-minor), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 18.0-ocabot-merge-pr-4791-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/5c3cff50b276156a971fa0f627136c4303e833fb).
Dato borrado: text | en | after fixing the problem, you can re-issue a merge command.
Dato borrado: code | code | please refrain from merging manually as it will most probably make the target branch red.
Dato borrado: code | code | .
Dato borrado: code | code | this pr looks fantastic, let's merge it!
prepared branch [18.0-ocabot-merge-pr-4791-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4791-by-pedrobaeza-bump-minor), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 906962409a0b86583388ebf9b3eee7253cf4052e.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: /ocabot merge minor . corazón rojo
__Recursividad__
text | es | /ocabot merge minor .
text | es | corazón rojo
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: /ocabot merge minor . corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:29.417738
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:29.431763 UTC
code | code | on my way to merge this fine pr!
prepared branch [17.0-ocabot-merge-pr-4790-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4790-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 17.0-ocabot-merge-pr-4790-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/2ece3f2750f19de0803110dfffce85f8c1127db3).
text | en | after fixing the problem, you can re-issue a merge command.
code | code | please refrain from merging manually as it will most probably make the target branch red.
code | code | .
text | es | /ocabot merge patch .
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [17.0-ocabot-merge-pr-4790-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4790-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 17.0-ocabot-merge-pr-4790-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/577885ceea1282e10c33c1f8b4722f3701e6d4ac).
text | en | after fixing the problem, you can re-issue a merge command.
code | code | please refrain from merging manually as it will most probably make the target branch red.
code | code | .
text | es | /ocabot merge patch .
code | code | this pr looks fantastic, let's merge it!
prepared branch [17.0-ocabot-merge-pr-4790-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4790-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at a19ef6dd23558b3eb09bb9c28cbf4ed780a6f516.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 20 | code_items: 13 | spanish_items: 3 | english_items: 4
Dato borrado: code | code | on my way to merge this fine pr!
prepared branch [17.0-ocabot-merge-pr-4790-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4790-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 17.0-ocabot-merge-pr-4790-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/2ece3f2750f19de0803110dfffce85f8c1127db3).
Dato borrado: text | en | after fixing the problem, you can re-issue a merge command.
Dato borrado: code | code | please refrain from merging manually as it will most probably make the target branch red.
Dato borrado: code | code | .
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [17.0-ocabot-merge-pr-4790-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4790-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 17.0-ocabot-merge-pr-4790-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/577885ceea1282e10c33c1f8b4722f3701e6d4ac).
Dato borrado: text | en | after fixing the problem, you can re-issue a merge command.
Dato borrado: code | code | please refrain from merging manually as it will most probably make the target branch red.
Dato borrado: code | code | .
Dato borrado: code | code | this pr looks fantastic, let's merge it!
prepared branch [17.0-ocabot-merge-pr-4790-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4790-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at a19ef6dd23558b3eb09bb9c28cbf4ed780a6f516.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: /ocabot merge patch . /ocabot merge patch . corazón rojo
__Recursividad__
text | es | /ocabot merge patch .
text | es | /ocabot merge patch .
text | es | corazón rojo
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: /ocabot merge patch . /ocabot merge patch . corazón rojo

# Entrada procesada 2026-02-09T14:14:29.442455 UTC
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [18.0-ocabot-merge-pr-4789-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4789-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at b385ffae3cbdc3d19e5bf1762c9ca0f747d0bce6.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 6 | code_items: 3 | spanish_items: 1 | english_items: 2
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [18.0-ocabot-merge-pr-4789-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4789-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at b385ffae3cbdc3d19e5bf1762c9ca0f747d0bce6.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

# Entrada procesada 2026-02-09T14:14:29.454918 UTC
text | es | listo, lo he añadido a la constrain para que salte también si lo añadieran en la compañía directamente .
code | code | on my way to merge this fine pr!
prepared branch [17.0-ocabot-merge-pr-4788-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4788-by-pedrobaeza-bump-minor), awaiting test results.
code | code | .
code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 17.0-ocabot-merge-pr-4788-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/0e09b28007c5334c3d9316551b4ecedacbf7553d).
text | en | after fixing the problem, you can re-issue a merge command.
code | code | please refrain from merging manually as it will most probably make the target branch red.
code | code | .
text | es | /ocabot merge minor .
code | code | on my way to merge this fine pr!
prepared branch [17.0-ocabot-merge-pr-4788-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4788-by-pedrobaeza-bump-minor), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 4819579f190a945a6c78cb7d9468832edc996f71.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 13 | code_items: 8 | spanish_items: 3 | english_items: 2
Dato borrado: code | code | on my way to merge this fine pr!
prepared branch [17.0-ocabot-merge-pr-4788-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4788-by-pedrobaeza-bump-minor), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 17.0-ocabot-merge-pr-4788-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/0e09b28007c5334c3d9316551b4ecedacbf7553d).
Dato borrado: text | en | after fixing the problem, you can re-issue a merge command.
Dato borrado: code | code | please refrain from merging manually as it will most probably make the target branch red.
Dato borrado: code | code | .
Dato borrado: code | code | on my way to merge this fine pr!
prepared branch [17.0-ocabot-merge-pr-4788-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4788-by-pedrobaeza-bump-minor), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 4819579f190a945a6c78cb7d9468832edc996f71.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: listo, lo he añadido a la constrain para que salte también si lo añadieran en la compañía directamente . /ocabot merge minor . corazón rojo
__Recursividad__
text | es | listo, lo he añadido a la constrain para que salte también si lo añadieran en la compañía directamente .
text | es | /ocabot merge minor .
text | es | corazón rojo
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: listo, lo he añadido a la constrain para que salte también si lo añadieran en la compañía directamente . /ocabot merge minor . corazón rojo

# Entrada procesada 2026-02-09T14:14:29.466638 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:29.469497 UTC
text | en | hola @nicolasramos,
some modules you are maintaining are being modified, check this out! .
code | code | on my way to merge this fine pr!
prepared branch [17.0-ocabot-merge-pr-4786-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4786-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 8c3a8703afbdf736eabd820cb4ccbe22f27125c9.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 6 | code_items: 3 | spanish_items: 1 | english_items: 2
Dato borrado: text | en | hola @nicolasramos,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | on my way to merge this fine pr!
prepared branch [17.0-ocabot-merge-pr-4786-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4786-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 8c3a8703afbdf736eabd820cb4ccbe22f27125c9.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:29.469497
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:29.478579 UTC
text | en | hola @nicolasramos,
some modules you are maintaining are being modified, check this out! .
code | code | on my way to merge this fine pr!
prepared branch [16.0-ocabot-merge-pr-4785-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4785-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 9fe183b73261cc10acb65dd253a0de0abbacf898.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 6 | code_items: 3 | spanish_items: 1 | english_items: 2
Dato borrado: text | en | hola @nicolasramos,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | on my way to merge this fine pr!
prepared branch [16.0-ocabot-merge-pr-4785-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4785-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 9fe183b73261cc10acb65dd253a0de0abbacf898.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:29.478579
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:29.501557 UTC
text | es | en este caso, como son pocos cambios, creo que se podrían codificar en la misma configuración de exportación boe con una fórmula similar a `object.convocation_bdsn if year > 2023 else ""` .
text | es | > en este caso, como son pocos cambios, creo que se podrían codificar en la misma configuración de exportación boe con una fórmula similar a `object.convocation_bdsn if year > 2023 else ""` lo intenté así, pero el nuevo campo es númerico y si es antes de 2023 tendría que poner espacios en blanco pero un campo númerico te pondrá 0.
text | es | si le fuerzas a que ponga los espacios en blanco saltará un error que un campo numérico no puede poner un string.
code | code | .
text | es | pero aunque sea numérico, puedes poner que en el formato boe sea texto, y te convierte el número y ya está.
text | es | de hecho, no sé si deberías poner `fields.integer` o `fields.char` en el campo, porque muchas veces acostumbran a poner un 0 delante, y eso lo quitaría siendo integer.
code | code | .
text | es | > pero aunque sea numérico, puedes poner que en el formato boe sea texto, y te convierte el número y ya está.
text | es | de hecho, no sé si deberías poner `fields.integer` o `fields.char` en el campo, porque muchas veces acostumbran a poner un 0 delante, y eso lo quitaría siendo integer.
text | es | tenías razón, pasandolo a `char` se ha reducido bastante.
text | es | gracias por el aporte.
text | es | ¿puedes volver a echarle un ojo? .
text | es | error en los tests de facturae .
text | en | hey, thanks for contributing!
text | en | proceeding to merge this for you.
code | code | prepared branch [18.0-ocabot-merge-pr-4784-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4784-by-pedrobaeza-bump-minor), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at bef87df366d00c757008e85feb707859f084a39d.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 20 | code_items: 5 | spanish_items: 12 | english_items: 3
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: text | en | hey, thanks for contributing!
Dato borrado: text | en | proceeding to merge this for you.
Dato borrado: code | code | prepared branch [18.0-ocabot-merge-pr-4784-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4784-by-pedrobaeza-bump-minor), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at bef87df366d00c757008e85feb707859f084a39d.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: en este caso, como son pocos cambios, creo que se podrían codificar en la misma configuración de exportación boe con una fórmula similar a `object.convocation_bdsn if year > 2023 else ""` . > en este caso, como son pocos cambios, creo que se podrían codificar en la misma configuración de exportación boe con una fórmula similar a `object.convocation_bdsn if year > 2023 else ""` lo intenté así, pero el nuevo campo es númerico y si es antes de 2023 tendría que poner espacios en blanco pero un campo númerico te pondrá 0. si le fuerzas a que ponga los espacios en blanco saltará un error que un campo numérico no puede poner un string. pero aunque sea numérico, puedes poner que en el formato boe sea texto, y te convierte el número y ya está. de hecho, no sé si deberías poner `fields.integer` o `fields.char` en el campo, porque muchas veces acostumbran a poner un 0 delante, y eso lo quitaría siendo integer. > pero aunque sea numérico, puedes poner que en el formato boe sea texto, y te convierte el número y ya está. de hecho, no sé si deberías poner `fields.integer` o `fields.char` en el campo, porque muchas veces acostumbran a poner un 0 delante, y eso lo quitaría siendo integer. tenías razón, pasandolo a `char` se ha reducido bastante. gracias por el aporte. ¿puedes volver a echarle un ojo? . error en los tests de facturae . corazón rojo
__Recursividad__
text | es | en este caso, como son pocos cambios, creo que se podrían codificar en la misma configuración de exportación boe con una fórmula similar a `object.convocation_bdsn if year > 2023 else ""` .
text | es | > en este caso, como son pocos cambios, creo que se podrían codificar en la misma configuración de exportación boe con una fórmula similar a `object.convocation_bdsn if year > 2023 else ""` lo intenté así, pero el nuevo campo es númerico y si es antes de 2023 tendría que poner espacios en blanco pero un campo númerico te pondrá 0.
text | es | si le fuerzas a que ponga los espacios en blanco saltará un error que un campo numérico no puede poner un string.
text | es | pero aunque sea numérico, puedes poner que en el formato boe sea texto, y te convierte el número y ya está.
text | es | de hecho, no sé si deberías poner `fields.integer` o `fields.char` en el campo, porque muchas veces acostumbran a poner un 0 delante, y eso lo quitaría siendo integer.
text | es | > pero aunque sea numérico, puedes poner que en el formato boe sea texto, y te convierte el número y ya está.
text | es | de hecho, no sé si deberías poner `fields.integer` o `fields.char` en el campo, porque muchas veces acostumbran a poner un 0 delante, y eso lo quitaría siendo integer.
text | es | tenías razón, pasandolo a `char` se ha reducido bastante.
text | es | gracias por el aporte.
text | es | ¿puedes volver a echarle un ojo? .
text | es | error en los tests de facturae .
text | es | corazón rojo
Detalles: total_items: 12 | code_items: 0 | spanish_items: 12 | english_items: 0
recomposed_text: en este caso, como son pocos cambios, creo que se podrían codificar en la misma configuración de exportación boe con una fórmula similar a `object.convocation_bdsn if year > 2023 else ""` . > en este caso, como son pocos cambios, creo que se podrían codificar en la misma configuración de exportación boe con una fórmula similar a `object.convocation_bdsn if year > 2023 else ""` lo intenté así, pero el nuevo campo es númerico y si es antes de 2023 tendría que poner espacios en blanco pero un campo númerico te pondrá 0. si le fuerzas a que ponga los espacios en blanco saltará un error que un campo numérico no puede poner un string. pero aunque sea numérico, puedes poner que en el formato boe sea texto, y te convierte el número y ya está. de hecho, no sé si deberías poner `fields.integer` o `fields.char` en el campo, porque muchas veces acostumbran a poner un 0 delante, y eso lo quitaría siendo integer. > pero aunque sea numérico, puedes poner que en el formato boe sea texto, y te convierte el número y ya está. de hecho, no sé si deberías poner `fields.integer` o `fields.char` en el campo, porque muchas veces acostumbran a poner un 0 delante, y eso lo quitaría siendo integer. tenías razón, pasandolo a `char` se ha reducido bastante. gracias por el aporte. ¿puedes volver a echarle un ojo? . error en los tests de facturae . corazón rojo

# Entrada procesada 2026-02-09T14:14:29.547719 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
text | es | hola @desagia , por favor, tienes que hacer un pr para cada módulo.
text | es | y verifica que pasan todos los test.
text | es | ¡muchas gracias!
text | es | saludos .
text | es | cierro al seguir las líneas guía, y además, ser algo directo desde la ia,que no pasa los cis de comprobación.
text | es | gracias igualmente por la contribución.
Detalles: total_items: 7 | code_items: 0 | spanish_items: 6 | english_items: 1
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
recomposed_text: hola @desagia , por favor, tienes que hacer un pr para cada módulo. y verifica que pasan todos los test. ¡muchas gracias! saludos . cierro al seguir las líneas guía, y además, ser algo directo desde la ia,que no pasa los cis de comprobación. gracias igualmente por la contribución.
__Recursividad__
text | es | hola @desagia , por favor, tienes que hacer un pr para cada módulo.
text | es | y verifica que pasan todos los test.
text | es | ¡muchas gracias!
text | es | saludos .
text | es | cierro al seguir las líneas guía, y además, ser algo directo desde la ia,que no pasa los cis de comprobación.
text | es | gracias igualmente por la contribución.
Detalles: total_items: 6 | code_items: 0 | spanish_items: 6 | english_items: 0
recomposed_text: hola @desagia , por favor, tienes que hacer un pr para cada módulo. y verifica que pasan todos los test. ¡muchas gracias! saludos . cierro al seguir las líneas guía, y además, ser algo directo desde la ia,que no pasa los cis de comprobación. gracias igualmente por la contribución.

__Corrector Ortográfico__2026-02-09T14:14:29.547719
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:29.563344 UTC
text | en | hola @hildickethan,
some modules you are maintaining are being modified, check this out!
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 1
Dato borrado: text | en | hola @hildickethan,
some modules you are maintaining are being modified, check this out!
recomposed_text:
__Recursividad__
Detalles: total_items: 0 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text:

__Corrector Ortográfico__2026-02-09T14:14:29.563344
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:29.564085 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:29.572114 UTC
text | es | @mbaena ya me avisas cuando esté para revisar .
text | es | @pedrobaeza listo para revisar ya lo estamos utilizando en producción para el modelo 190 (ejercicio 2025), sin incidencias hasta ahora.
code | code | .
text | bilingual | hola, @mbaena, disculpa si no me he expresado bien.
text | es | no quería que el formato de 2025 lo convirtieras a xml, si no que no cambiaras el de 2017.
text | es | el de 2025 por supuesto que puede quedarse en csv y que ya vaya de la "forma nueva" más eficiente.
text | es | es no tener que convertir el anterior formato a csv, ya que el mismo está en xml.
code | code | .
text | es | hola, @pedrobaeza creo que esto era lo que indicabas, mantener xml anterior e incorporar nuevo en csv.
text | es | probado en real.
code | code | .
text | en | hey, thanks for contributing!
text | en | proceeding to merge this for you.
code | code | prepared branch [17.0-ocabot-merge-pr-4780-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4780-by-pedrobaeza-bump-minor), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at b14f68f26743cc47e70e4413aea587b0556583f8.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 18 | code_items: 6 | spanish_items: 8 | english_items: 3
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: text | en | hey, thanks for contributing!
Dato borrado: text | en | proceeding to merge this for you.
Dato borrado: code | code | prepared branch [17.0-ocabot-merge-pr-4780-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4780-by-pedrobaeza-bump-minor), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at b14f68f26743cc47e70e4413aea587b0556583f8.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: @mbaena ya me avisas cuando esté para revisar . @pedrobaeza listo para revisar ya lo estamos utilizando en producción para el modelo 190 (ejercicio 2025), sin incidencias hasta ahora. hola, @mbaena, disculpa si no me he expresado bien. no quería que el formato de 2025 lo convirtieras a xml, si no que no cambiaras el de 2017. el de 2025 por supuesto que puede quedarse en csv y que ya vaya de la "forma nueva" más eficiente. es no tener que convertir el anterior formato a csv, ya que el mismo está en xml. hola, @pedrobaeza creo que esto era lo que indicabas, mantener xml anterior e incorporar nuevo en csv. probado en real. corazón rojo
__Recursividad__
text | es | @mbaena ya me avisas cuando esté para revisar .
text | es | @pedrobaeza listo para revisar ya lo estamos utilizando en producción para el modelo 190 (ejercicio 2025), sin incidencias hasta ahora.
text | bilingual | hola, @mbaena, disculpa si no me he expresado bien.
text | es | no quería que el formato de 2025 lo convirtieras a xml, si no que no cambiaras el de 2017.
text | es | el de 2025 por supuesto que puede quedarse en csv y que ya vaya de la "forma nueva" más eficiente.
text | es | es no tener que convertir el anterior formato a csv, ya que el mismo está en xml.
text | es | hola, @pedrobaeza creo que esto era lo que indicabas, mantener xml anterior e incorporar nuevo en csv.
text | es | probado en real.
text | es | corazón rojo
Detalles: total_items: 9 | code_items: 0 | spanish_items: 8 | english_items: 0
recomposed_text: @mbaena ya me avisas cuando esté para revisar . @pedrobaeza listo para revisar ya lo estamos utilizando en producción para el modelo 190 (ejercicio 2025), sin incidencias hasta ahora. hola, @mbaena, disculpa si no me he expresado bien. no quería que el formato de 2025 lo convirtieras a xml, si no que no cambiaras el de 2017. el de 2025 por supuesto que puede quedarse en csv y que ya vaya de la "forma nueva" más eficiente. es no tener que convertir el anterior formato a csv, ya que el mismo está en xml. hola, @pedrobaeza creo que esto era lo que indicabas, mantener xml anterior e incorporar nuevo en csv. probado en real. corazón rojo

# Entrada procesada 2026-02-09T14:14:29.598966 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [16.0-ocabot-merge-pr-4779-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4779-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 6dd2d21f10fdd6871202be5503bb088d29f278b3.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 7 | code_items: 3 | spanish_items: 1 | english_items: 3
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [16.0-ocabot-merge-pr-4779-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4779-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 6dd2d21f10fdd6871202be5503bb088d29f278b3.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:29.598966
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:29.608118 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
code | code | on my way to merge this fine pr!
prepared branch [17.0-ocabot-merge-pr-4778-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4778-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at ade22074857513c175aea049022f0d5b8365b85e.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 6 | code_items: 3 | spanish_items: 1 | english_items: 2
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | on my way to merge this fine pr!
prepared branch [17.0-ocabot-merge-pr-4778-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4778-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at ade22074857513c175aea049022f0d5b8365b85e.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:29.608118
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:29.615854 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:29.619598 UTC
text | en | hola @emiliopascual, @andrii9090, @rafaelbn,
some modules you are maintaining are being modified, check this out! .
text | es | puedes intentarlo de nuevo @pedrobaeza? .
text | es | /ocabot merge minor .
code | code | on my way to merge this fine pr!
prepared branch [18.0-ocabot-merge-pr-4776-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4776-by-pedrobaeza-bump-minor), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 6c19cdfb1bd0dee79949c27efdb6ed7d4f564753.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 8 | code_items: 3 | spanish_items: 3 | english_items: 2
Dato borrado: text | en | hola @emiliopascual, @andrii9090, @rafaelbn,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | on my way to merge this fine pr!
prepared branch [18.0-ocabot-merge-pr-4776-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4776-by-pedrobaeza-bump-minor), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 6c19cdfb1bd0dee79949c27efdb6ed7d4f564753.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: puedes intentarlo de nuevo @pedrobaeza? . /ocabot merge minor . corazón rojo
__Recursividad__
text | es | puedes intentarlo de nuevo @pedrobaeza? .
text | es | /ocabot merge minor .
text | es | corazón rojo
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: puedes intentarlo de nuevo @pedrobaeza? . /ocabot merge minor . corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:29.619598
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:29.630646 UTC
code | code | hola @andrii9090, @rafaelbn,
some modules you are maintaining are being modified, check this out! .
code | code | buenas tardes @emiliopascual como nos habían dicho que no tenían pensado incorporarlo ya estábamos realizado la implementación de la página 12 en https://github.com/oca/l10n-spain/pull/4776.
text | es | estábamos pendientes de que el cliente subiera el fichero a la aeat para proponerlo y ha pasado sin problema con múltiples actividades .
code | code | cierro en favor de https://github.com/oca/l10n-spain/pull/4776
Detalles: total_items: 4 | code_items: 3 | spanish_items: 1 | english_items: 0
Dato borrado: code | code | hola @andrii9090, @rafaelbn,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | buenas tardes @emiliopascual como nos habían dicho que no tenían pensado incorporarlo ya estábamos realizado la implementación de la página 12 en https://github.com/oca/l10n-spain/pull/4776.
Dato borrado: code | code | cierro en favor de https://github.com/oca/l10n-spain/pull/4776
recomposed_text: estábamos pendientes de que el cliente subiera el fichero a la aeat para proponerlo y ha pasado sin problema con múltiples actividades .
__Recursividad__
text | es | estábamos pendientes de que el cliente subiera el fichero a la aeat para proponerlo y ha pasado sin problema con múltiples actividades .
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: estábamos pendientes de que el cliente subiera el fichero a la aeat para proponerlo y ha pasado sin problema con múltiples actividades .

__Corrector Ortográfico__2026-02-09T14:14:29.630646
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:29.644404 UTC
text | es | @haraldpanten @pedrobaeza .
text | en | hey, thanks for contributing!
text | en | proceeding to merge this for you.
code | code | prepared branch [18.0-ocabot-merge-pr-4774-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4774-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | it looks like something changed on `18.0` in the meantime.
code | code | let me try again (no action is required from you).
code | code | prepared branch [18.0-ocabot-merge-pr-4774-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4774-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at a67f120b425499f87df1dcdcb4da193417c157c0.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 12 | code_items: 7 | spanish_items: 2 | english_items: 3
Dato borrado: text | en | hey, thanks for contributing!
Dato borrado: text | en | proceeding to merge this for you.
Dato borrado: code | code | prepared branch [18.0-ocabot-merge-pr-4774-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4774-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | it looks like something changed on `18.0` in the meantime.
Dato borrado: code | code | let me try again (no action is required from you).
Dato borrado: code | code | prepared branch [18.0-ocabot-merge-pr-4774-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4774-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at a67f120b425499f87df1dcdcb4da193417c157c0.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: @haraldpanten @pedrobaeza . corazón rojo
__Recursividad__
text | es | @haraldpanten @pedrobaeza .
text | es | corazón rojo
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: @haraldpanten @pedrobaeza . corazón rojo

# Entrada procesada 2026-02-09T14:14:29.676026 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
text | es | > esos impuestos ya están presentes en otras casillas, como por ejemplo el `p_iva4_sp_ex` en la 190 y 191, así que dudo que vayan ahí.
text | es | además, por el nombre, parecen ser de exportación, no de isp.
text | es | la casilla 523 es una casilla de caracter puramente informativo o estadístico.
text | es | está englobada en la sección 11.
code | code | operaciones específicas el cual tiene el siguiente apunte: <img width="629" height="98" alt="image" src="https://github.com/user-attachments/assets/4d09c35f-738f-4922-970f-071af0ec5f77" /> según entiendo la casilla 523 es igual que la casilla 27 pero incluyendo sólo los servicios.
code | code | .
text | es | a ver si @albertcabedo o @acysos nos puede confirmar, pero lo dicho, el impuesto `p_iva4_sp_ex` no tiene pinta de ir ahí.
code | code | .
text | es | ahora veo #4771 de nuevo y efectivamente ahí está metido ese impuesto bajo el epígrafe `iva devengado en otros supuestos de inversión del sujeto pasivo`, con lo que sí es isp, pero la cuestión es si aquí va también lo mismo, o lo del artículo 84 son otros supuestos.
code | code | .
text | es | la casila 27 y 28 también también vienen bajo el supuesto del articulo 84.
code | code | <img width="962" height="130" alt="image" src="https://github.com/user-attachments/assets/ddc622db-6ac9-427d-9791-f1ed8527d31b" /> lo único que aquí especifica también el 4º que tiene que ver con la entrega de gas, electricidad, ...
code | code | según https://www.boe.es/buscar/pdf/1992/boe-a-1992-28740-consolidado.pdf <img width="907" height="219" alt="image" src="https://github.com/user-attachments/assets/b87bf8ef-f094-4a39-bc94-2918421f8a57" /> creo que esto último no influye para el mapeo de los impuestos de la casilla.
code | code | .
text | es | he estado mirando documentación y estoy de acuerdo con los dos pero no sé como se tendría que hacer como dice @emiliopascual, en la casilla 523 tiene que ir el impuesto "iva 21% compra con inversión del sujeto pasivo nacional" pero tiene razón @pedrobaeza que solo tiene que ser de **servicios** la isp también se aplica en servicios en el caso de que el prestador del servicio esté fuera de españa pero el destinatario del servicio si está establecido en españa.
text | en | el proveedor no repercute iva pero el cliente aplica isp servicios [(artículo 84 de la ley 37/1992)](https://www.boe.es/buscar/pdf/1992/boe-a-1992-28740-consolidado.pdf) supongo que ese impuesto habrá que distinguirlo entre bienes y servicios, ¿no? ¿
text | es | podéis revisarlo @albertcabedo @rafaelbn @acysos @haraldpanten? .
code | code | sí, fijaros en esta anotación en el sii: https://github.com/oca/l10n-spain/blob/142418562d7e8786e1d52b561ce3e5feb8126271/l10n_es_aeat_sii_oca/models/sii_mixin.py#l598 ya habíamos detectado previamente que no había isp de servicios, y eso influye en varios aspectos como éste o en el propio sii, que habría que poner una clave distinta.
text | es | por el momento, yo no incluiría el actual impuesto de isp, ya que entonces duplicaría los importes.
text | es | aunque sea un servicio, que esté en lo de bienes, pero no en los 2.
text | es | el siguiente paso sería crear un impuesto extra en `l10n_es` de isp servicios, y ya empezar a mapearlo a los diversos sitios.
code | code | .
text | es | tenéis razón.
text | es | he quitado los impuestos isp de la casilla 523.
text | es | me apunto para el futuro crear los impuestos de servicios de isp en `l10n_es`.
code | code | .
code | code | on my way to merge this fine pr!
prepared branch [18.0-ocabot-merge-pr-4773-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4773-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at aa882e7c23c8e89f7478b5911ae6885f57e2a469.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 32 | code_items: 13 | spanish_items: 16 | english_items: 3
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | operaciones específicas el cual tiene el siguiente apunte: <img width="629" height="98" alt="image" src="https://github.com/user-attachments/assets/4d09c35f-738f-4922-970f-071af0ec5f77" /> según entiendo la casilla 523 es igual que la casilla 27 pero incluyendo sólo los servicios.
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | <img width="962" height="130" alt="image" src="https://github.com/user-attachments/assets/ddc622db-6ac9-427d-9791-f1ed8527d31b" /> lo único que aquí especifica también el 4º que tiene que ver con la entrega de gas, electricidad, ...
Dato borrado: code | code | según https://www.boe.es/buscar/pdf/1992/boe-a-1992-28740-consolidado.pdf <img width="907" height="219" alt="image" src="https://github.com/user-attachments/assets/b87bf8ef-f094-4a39-bc94-2918421f8a57" /> creo que esto último no influye para el mapeo de los impuestos de la casilla.
Dato borrado: code | code | .
Dato borrado: text | en | el proveedor no repercute iva pero el cliente aplica isp servicios [(artículo 84 de la ley 37/1992)](https://www.boe.es/buscar/pdf/1992/boe-a-1992-28740-consolidado.pdf) supongo que ese impuesto habrá que distinguirlo entre bienes y servicios, ¿no? ¿
Dato borrado: code | code | sí, fijaros en esta anotación en el sii: https://github.com/oca/l10n-spain/blob/142418562d7e8786e1d52b561ce3e5feb8126271/l10n_es_aeat_sii_oca/models/sii_mixin.py#l598 ya habíamos detectado previamente que no había isp de servicios, y eso influye en varios aspectos como éste o en el propio sii, que habría que poner una clave distinta.
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | on my way to merge this fine pr!
prepared branch [18.0-ocabot-merge-pr-4773-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4773-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at aa882e7c23c8e89f7478b5911ae6885f57e2a469.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: > esos impuestos ya están presentes en otras casillas, como por ejemplo el `p_iva4_sp_ex` en la 190 y 191, así que dudo que vayan ahí. además, por el nombre, parecen ser de exportación, no de isp. la casilla 523 es una casilla de caracter puramente informativo o estadístico. está englobada en la sección 11. a ver si @albertcabedo o @acysos nos puede confirmar, pero lo dicho, el impuesto `p_iva4_sp_ex` no tiene pinta de ir ahí. ahora veo #4771 de nuevo y efectivamente ahí está metido ese impuesto bajo el epígrafe `iva devengado en otros supuestos de inversión del sujeto pasivo`, con lo que sí es isp, pero la cuestión es si aquí va también lo mismo, o lo del artículo 84 son otros supuestos. la casila 27 y 28 también también vienen bajo el supuesto del articulo 84. he estado mirando documentación y estoy de acuerdo con los dos pero no sé como se tendría que hacer como dice @emiliopascual, en la casilla 523 tiene que ir el impuesto "iva 21% compra con inversión del sujeto pasivo nacional" pero tiene razón @pedrobaeza que solo tiene que ser de **servicios** la isp también se aplica en servicios en el caso de que el prestador del servicio esté fuera de españa pero el destinatario del servicio si está establecido en españa. podéis revisarlo @albertcabedo @rafaelbn @acysos @haraldpanten? . por el momento, yo no incluiría el actual impuesto de isp, ya que entonces duplicaría los importes. aunque sea un servicio, que esté en lo de bienes, pero no en los 2. el siguiente paso sería crear un impuesto extra en `l10n_es` de isp servicios, y ya empezar a mapearlo a los diversos sitios. tenéis razón. he quitado los impuestos isp de la casilla 523. me apunto para el futuro crear los impuestos de servicios de isp en `l10n_es`. corazón rojo
__Recursividad__
text | es | > esos impuestos ya están presentes en otras casillas, como por ejemplo el `p_iva4_sp_ex` en la 190 y 191, así que dudo que vayan ahí.
text | es | además, por el nombre, parecen ser de exportación, no de isp.
text | es | la casilla 523 es una casilla de caracter puramente informativo o estadístico.
text | es | está englobada en la sección 11.
text | es | a ver si @albertcabedo o @acysos nos puede confirmar, pero lo dicho, el impuesto `p_iva4_sp_ex` no tiene pinta de ir ahí.
text | es | ahora veo #4771 de nuevo y efectivamente ahí está metido ese impuesto bajo el epígrafe `iva devengado en otros supuestos de inversión del sujeto pasivo`, con lo que sí es isp, pero la cuestión es si aquí va también lo mismo, o lo del artículo 84 son otros supuestos.
text | es | la casila 27 y 28 también también vienen bajo el supuesto del articulo 84.
text | es | he estado mirando documentación y estoy de acuerdo con los dos pero no sé como se tendría que hacer como dice @emiliopascual, en la casilla 523 tiene que ir el impuesto "iva 21% compra con inversión del sujeto pasivo nacional" pero tiene razón @pedrobaeza que solo tiene que ser de **servicios** la isp también se aplica en servicios en el caso de que el prestador del servicio esté fuera de españa pero el destinatario del servicio si está establecido en españa.
text | es | podéis revisarlo @albertcabedo @rafaelbn @acysos @haraldpanten? .
text | es | por el momento, yo no incluiría el actual impuesto de isp, ya que entonces duplicaría los importes.
text | es | aunque sea un servicio, que esté en lo de bienes, pero no en los 2.
text | es | el siguiente paso sería crear un impuesto extra en `l10n_es` de isp servicios, y ya empezar a mapearlo a los diversos sitios.
text | es | tenéis razón.
text | es | he quitado los impuestos isp de la casilla 523.
text | es | me apunto para el futuro crear los impuestos de servicios de isp en `l10n_es`.
text | es | corazón rojo
Detalles: total_items: 16 | code_items: 0 | spanish_items: 16 | english_items: 0
recomposed_text: > esos impuestos ya están presentes en otras casillas, como por ejemplo el `p_iva4_sp_ex` en la 190 y 191, así que dudo que vayan ahí. además, por el nombre, parecen ser de exportación, no de isp. la casilla 523 es una casilla de caracter puramente informativo o estadístico. está englobada en la sección 11. a ver si @albertcabedo o @acysos nos puede confirmar, pero lo dicho, el impuesto `p_iva4_sp_ex` no tiene pinta de ir ahí. ahora veo #4771 de nuevo y efectivamente ahí está metido ese impuesto bajo el epígrafe `iva devengado en otros supuestos de inversión del sujeto pasivo`, con lo que sí es isp, pero la cuestión es si aquí va también lo mismo, o lo del artículo 84 son otros supuestos. la casila 27 y 28 también también vienen bajo el supuesto del articulo 84. he estado mirando documentación y estoy de acuerdo con los dos pero no sé como se tendría que hacer como dice @emiliopascual, en la casilla 523 tiene que ir el impuesto "iva 21% compra con inversión del sujeto pasivo nacional" pero tiene razón @pedrobaeza que solo tiene que ser de **servicios** la isp también se aplica en servicios en el caso de que el prestador del servicio esté fuera de españa pero el destinatario del servicio si está establecido en españa. podéis revisarlo @albertcabedo @rafaelbn @acysos @haraldpanten? . por el momento, yo no incluiría el actual impuesto de isp, ya que entonces duplicaría los importes. aunque sea un servicio, que esté en lo de bienes, pero no en los 2. el siguiente paso sería crear un impuesto extra en `l10n_es` de isp servicios, y ya empezar a mapearlo a los diversos sitios. tenéis razón. he quitado los impuestos isp de la casilla 523. me apunto para el futuro crear los impuestos de servicios de isp en `l10n_es`. corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:29.676026
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:29.733649 UTC
text | es | @haraldpanten could u review?
text | es | thanks gato sonriendo con ojos sonrientes .
text | en | hey, thanks for contributing!
text | en | proceeding to merge this for you.
code | code | prepared branch [17.0-ocabot-merge-pr-4772-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4772-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
text | es | /ocabot merge patch .
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [17.0-ocabot-merge-pr-4772-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4772-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 5a70778400a2712ca097c6344c0e71b1a7783ea7.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 13 | code_items: 5 | spanish_items: 4 | english_items: 4
Dato borrado: text | en | hey, thanks for contributing!
Dato borrado: text | en | proceeding to merge this for you.
Dato borrado: code | code | prepared branch [17.0-ocabot-merge-pr-4772-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4772-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [17.0-ocabot-merge-pr-4772-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4772-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 5a70778400a2712ca097c6344c0e71b1a7783ea7.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: @haraldpanten could u review? thanks gato sonriendo con ojos sonrientes . /ocabot merge patch . corazón rojo
__Recursividad__
text | es | @haraldpanten could u review?
text | es | thanks gato sonriendo con ojos sonrientes .
text | es | /ocabot merge patch .
text | es | corazón rojo
Detalles: total_items: 4 | code_items: 0 | spanish_items: 4 | english_items: 0
recomposed_text: @haraldpanten could u review? thanks gato sonriendo con ojos sonrientes . /ocabot merge patch . corazón rojo

# Entrada procesada 2026-02-09T14:14:29.754397 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
text | es | ¿qué caso de impuesto tiene valores en otra cuenta contable? .
text | es | todos los impuestos en la casilla 28 tienen la cuenta 472 y la 477 menos p_iva0_ic_sc.
text | es | si lee la 472, estar cogiendolo del iva deducible, algo incorrecto.
text | es | además si tienes prorrata la cantidad será incorrecta.
text | es | en cuanto al p_iva0_ic_sc no tiene ninguna cuenta, pero como el porcentaje es 0, no está generando cuota.
code | code | .
text | es | vale, el título me despistó que pusiera 347.
text | es | es el 390...
text | es | cámbialo, por favor.
code | code | .
text | es | > vale, el título me despistó que pusiera 347.
text | es | es el 390...
text | es | cámbialo, por favor.
text | es | si, perdón, estoy trabajando también en el nuevo modelo de registro del 347 y se me fue la cabeza.
text | es | gracias por el apunte.
code | code | .
text | es | ahora has puesto 349, pero es el 390 :wink: .
code | code | on my way to merge this fine pr!
prepared branch [18.0-ocabot-merge-pr-4771-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4771-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 9983791d08b480de1482eaf3f04de2f414fcffc6.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 23 | code_items: 6 | spanish_items: 15 | english_items: 2
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | on my way to merge this fine pr!
prepared branch [18.0-ocabot-merge-pr-4771-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4771-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 9983791d08b480de1482eaf3f04de2f414fcffc6.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: ¿qué caso de impuesto tiene valores en otra cuenta contable? . todos los impuestos en la casilla 28 tienen la cuenta 472 y la 477 menos p_iva0_ic_sc. si lee la 472, estar cogiendolo del iva deducible, algo incorrecto. además si tienes prorrata la cantidad será incorrecta. en cuanto al p_iva0_ic_sc no tiene ninguna cuenta, pero como el porcentaje es 0, no está generando cuota. vale, el título me despistó que pusiera 347. es el 390... cámbialo, por favor. > vale, el título me despistó que pusiera 347. es el 390... cámbialo, por favor. si, perdón, estoy trabajando también en el nuevo modelo de registro del 347 y se me fue la cabeza. gracias por el apunte. ahora has puesto 349, pero es el 390 :wink: . corazón rojo
__Recursividad__
text | es | ¿qué caso de impuesto tiene valores en otra cuenta contable? .
text | es | todos los impuestos en la casilla 28 tienen la cuenta 472 y la 477 menos p_iva0_ic_sc.
text | es | si lee la 472, estar cogiendolo del iva deducible, algo incorrecto.
text | es | además si tienes prorrata la cantidad será incorrecta.
text | es | en cuanto al p_iva0_ic_sc no tiene ninguna cuenta, pero como el porcentaje es 0, no está generando cuota.
text | es | vale, el título me despistó que pusiera 347.
text | es | es el 390...
text | es | cámbialo, por favor.
text | es | > vale, el título me despistó que pusiera 347.
text | es | es el 390...
text | es | cámbialo, por favor.
text | es | si, perdón, estoy trabajando también en el nuevo modelo de registro del 347 y se me fue la cabeza.
text | es | gracias por el apunte.
text | es | ahora has puesto 349, pero es el 390 :wink: .
text | es | corazón rojo
Detalles: total_items: 15 | code_items: 0 | spanish_items: 15 | english_items: 0
recomposed_text: ¿qué caso de impuesto tiene valores en otra cuenta contable? . todos los impuestos en la casilla 28 tienen la cuenta 472 y la 477 menos p_iva0_ic_sc. si lee la 472, estar cogiendolo del iva deducible, algo incorrecto. además si tienes prorrata la cantidad será incorrecta. en cuanto al p_iva0_ic_sc no tiene ninguna cuenta, pero como el porcentaje es 0, no está generando cuota. vale, el título me despistó que pusiera 347. es el 390... cámbialo, por favor. > vale, el título me despistó que pusiera 347. es el 390... cámbialo, por favor. si, perdón, estoy trabajando también en el nuevo modelo de registro del 347 y se me fue la cabeza. gracias por el apunte. ahora has puesto 349, pero es el 390 :wink: . corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:29.754397
'hi' se corrige por 'hola'
'estáría' se corrige por 'estar'

# Entrada procesada 2026-02-09T14:14:29.791005 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
text | es | hola, las casillas 60 y 61 es solo para las compensaciones, la rectificativas o deducciones por rectificación van a la siempre a las casillas 639 y 62, aunque sean del régimen especial de agricultura, ganadería y pesca.
text | es | https://sede.agenciatributaria.gob.es/static_files/sede/procedimiento_ayuda/g412/instrucciones_modelo_390-2025.pdf necesitamos una consulta vinculante con aeat que indiquen ellos que se puede poner con símbolo negativo en las casillas 60 y 61, ya que estas casillas solo aceptan símbolo positivo.
text | es | saludos .
text | es | hola, tiene todo el sentido lo que indica @acysos, gracias por la aclaración.
code | code | la mejora propuesta del modelo 390 está basada en cómo se gestionan las compensaciones del reagp en el modelo 303, donde todas las compensaciones se agregan en la casilla 42, según el mapeo actual: https://github.com/oca/l10n-spain/blob/163c6de6b6329c766d37aaebd590afa051bb4658/l10n_es_aeat_mod303/data/2024-10/l10n.es.aeat.map.tax.line.csv#l38 el problema que habíamos detectado es un descuadre entre los totales del modelo 390 y lo declarado en los modelos 303, ya que la implementación actual del 390 no estaba teniendo en cuenta las rectificaciones.
Detalles: total_items: 6 | code_items: 1 | spanish_items: 4 | english_items: 1
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | la mejora propuesta del modelo 390 está basada en cómo se gestionan las compensaciones del reagp en el modelo 303, donde todas las compensaciones se agregan en la casilla 42, según el mapeo actual: https://github.com/oca/l10n-spain/blob/163c6de6b6329c766d37aaebd590afa051bb4658/l10n_es_aeat_mod303/data/2024-10/l10n.es.aeat.map.tax.line.csv#l38 el problema que habíamos detectado es un descuadre entre los totales del modelo 390 y lo declarado en los modelos 303, ya que la implementación actual del 390 no estaba teniendo en cuenta las rectificaciones.
recomposed_text: hola, las casillas 60 y 61 es solo para las compensaciones, la rectificativas o deducciones por rectificación van a la siempre a las casillas 639 y 62, aunque sean del régimen especial de agricultura, ganadería y pesca. https://sede.agenciatributaria.gob.es/static_files/sede/procedimiento_ayuda/g412/instrucciones_modelo_390-2025.pdf necesitamos una consulta vinculante con aeat que indiquen ellos que se puede poner con símbolo negativo en las casillas 60 y 61, ya que estas casillas solo aceptan símbolo positivo. saludos . hola, tiene todo el sentido lo que indica @acysos, gracias por la aclaración.
__Recursividad__
text | es | hola, las casillas 60 y 61 es solo para las compensaciones, la rectificativas o deducciones por rectificación van a la siempre a las casillas 639 y 62, aunque sean del régimen especial de agricultura, ganadería y pesca.
text | es | https://sede.agenciatributaria.gob.es/static_files/sede/procedimiento_ayuda/g412/instrucciones_modelo_390-2025.pdf necesitamos una consulta vinculante con aeat que indiquen ellos que se puede poner con símbolo negativo en las casillas 60 y 61, ya que estas casillas solo aceptan símbolo positivo.
text | es | saludos .
text | es | hola, tiene todo el sentido lo que indica @acysos, gracias por la aclaración.
Detalles: total_items: 4 | code_items: 0 | spanish_items: 4 | english_items: 0
recomposed_text: hola, las casillas 60 y 61 es solo para las compensaciones, la rectificativas o deducciones por rectificación van a la siempre a las casillas 639 y 62, aunque sean del régimen especial de agricultura, ganadería y pesca. https://sede.agenciatributaria.gob.es/static_files/sede/procedimiento_ayuda/g412/instrucciones_modelo_390-2025.pdf necesitamos una consulta vinculante con aeat que indiquen ellos que se puede poner con símbolo negativo en las casillas 60 y 61, ya que estas casillas solo aceptan símbolo positivo. saludos . hola, tiene todo el sentido lo que indica @acysos, gracias por la aclaración.

__Corrector Ortográfico__2026-02-09T14:14:29.791005
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:29.814635 UTC
code | code | this pr looks fantastic, let's merge it!
prepared branch [17.0-ocabot-merge-pr-4769-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4769-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at b1c99e6fa3f6599f03f2643884399d5e45c46d9d.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 5 | code_items: 3 | spanish_items: 1 | english_items: 1
Dato borrado: code | code | this pr looks fantastic, let's merge it!
prepared branch [17.0-ocabot-merge-pr-4769-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4769-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at b1c99e6fa3f6599f03f2643884399d5e45c46d9d.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

# Entrada procesada 2026-02-09T14:14:29.822259 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out!
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 1
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out!
recomposed_text:
__Recursividad__
Detalles: total_items: 0 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text:

__Corrector Ortográfico__2026-02-09T14:14:29.822259
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:29.825624 UTC
text | es | @christian-ramos-tecnativa puedes por favor mirar el error de `l10n_es_pos_sii`.
code | code | .
code | code | arreglado en https://github.com/oca/l10n-spain/pull/4769 .
code | code | this pr looks fantastic, let's merge it!
prepared branch [17.0-ocabot-merge-pr-4767-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4767-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 163c6de6b6329c766d37aaebd590afa051bb4658.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 8 | code_items: 5 | spanish_items: 2 | english_items: 1
Dato borrado: code | code | .
Dato borrado: code | code | arreglado en https://github.com/oca/l10n-spain/pull/4769 .
Dato borrado: code | code | this pr looks fantastic, let's merge it!
prepared branch [17.0-ocabot-merge-pr-4767-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4767-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 163c6de6b6329c766d37aaebd590afa051bb4658.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: @christian-ramos-tecnativa puedes por favor mirar el error de `l10n_es_pos_sii`. corazón rojo
__Recursividad__
text | es | @christian-ramos-tecnativa puedes por favor mirar el error de `l10n_es_pos_sii`.
text | es | corazón rojo
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: @christian-ramos-tecnativa puedes por favor mirar el error de `l10n_es_pos_sii`. corazón rojo

# Entrada procesada 2026-02-09T14:14:29.836428 UTC
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [16.0-ocabot-merge-pr-4766-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4766-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at d10f01df85b9a9610eb7286cfd41b23dd26ee50b.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 6 | code_items: 3 | spanish_items: 1 | english_items: 2
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [16.0-ocabot-merge-pr-4766-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4766-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at d10f01df85b9a9610eb7286cfd41b23dd26ee50b.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

# Entrada procesada 2026-02-09T14:14:29.852082 UTC
text | en | hola @emiliopascual, @rafaelbn,
some modules you are maintaining are being modified, check this out! .
text | es | estoy a favor de la comprobación, pero no me gusta nada hacer cosas que modifiquen la factura durante la validación.
text | es | ya que estás validando una factura que consideras correcta pero luego puede presentar datos distintos y esto puede confundir al usuario.
text | es | ¿no podríamos transformarlo en un raise directamente?
text | es | indicando en el error que pasando la factura a cancelado y a borrador de nuevo debería generar el vat correctamente .
text | es | he cambiado el código, ahora - si la empresa tiene prorrata configurada, - si las líneas de factura están sujetas a prorrata, - si los impuestos de la factura tienen `with_vat_prorate=true` - si no existe ninguna línea de apunte contable correspondiente a la prorrata.
text | es | en caso de cumplirse estas condiciones, salta un raise además, he establecido el campo `with_vat_prorate` de account.move.line como readonly en el caso de prorrata general, para evitar que el orm lo establezca a false por defecto durante el cálculo de las líneas de prorrata.
text | es | @emiliopascual puedes revisar de nuevo?
Detalles: total_items: 8 | code_items: 0 | spanish_items: 7 | english_items: 1
Dato borrado: text | en | hola @emiliopascual, @rafaelbn,
some modules you are maintaining are being modified, check this out! .
recomposed_text: estoy a favor de la comprobación, pero no me gusta nada hacer cosas que modifiquen la factura durante la validación. ya que estás validando una factura que consideras correcta pero luego puede presentar datos distintos y esto puede confundir al usuario. ¿no podríamos transformarlo en un raise directamente? indicando en el error que pasando la factura a cancelado y a borrador de nuevo debería generar el vat correctamente . he cambiado el código, ahora - si la empresa tiene prorrata configurada, - si las líneas de factura están sujetas a prorrata, - si los impuestos de la factura tienen `with_vat_prorate=true` - si no existe ninguna línea de apunte contable correspondiente a la prorrata. en caso de cumplirse estas condiciones, salta un raise además, he establecido el campo `with_vat_prorate` de account.move.line como readonly en el caso de prorrata general, para evitar que el orm lo establezca a false por defecto durante el cálculo de las líneas de prorrata. @emiliopascual puedes revisar de nuevo?
__Recursividad__
text | es | estoy a favor de la comprobación, pero no me gusta nada hacer cosas que modifiquen la factura durante la validación.
text | es | ya que estás validando una factura que consideras correcta pero luego puede presentar datos distintos y esto puede confundir al usuario.
text | es | ¿no podríamos transformarlo en un raise directamente?
text | es | indicando en el error que pasando la factura a cancelado y a borrador de nuevo debería generar el vat correctamente .
text | es | he cambiado el código, ahora - si la empresa tiene prorrata configurada, - si las líneas de factura están sujetas a prorrata, - si los impuestos de la factura tienen `with_vat_prorate=true` - si no existe ninguna línea de apunte contable correspondiente a la prorrata.
text | es | en caso de cumplirse estas condiciones, salta un raise además, he establecido el campo `with_vat_prorate` de account.move.line como readonly en el caso de prorrata general, para evitar que el orm lo establezca a false por defecto durante el cálculo de las líneas de prorrata.
text | es | @emiliopascual puedes revisar de nuevo?
Detalles: total_items: 7 | code_items: 0 | spanish_items: 7 | english_items: 0
recomposed_text: estoy a favor de la comprobación, pero no me gusta nada hacer cosas que modifiquen la factura durante la validación. ya que estás validando una factura que consideras correcta pero luego puede presentar datos distintos y esto puede confundir al usuario. ¿no podríamos transformarlo en un raise directamente? indicando en el error que pasando la factura a cancelado y a borrador de nuevo debería generar el vat correctamente . he cambiado el código, ahora - si la empresa tiene prorrata configurada, - si las líneas de factura están sujetas a prorrata, - si los impuestos de la factura tienen `with_vat_prorate=true` - si no existe ninguna línea de apunte contable correspondiente a la prorrata. en caso de cumplirse estas condiciones, salta un raise además, he establecido el campo `with_vat_prorate` de account.move.line como readonly en el caso de prorrata general, para evitar que el orm lo establezca a false por defecto durante el cálculo de las líneas de prorrata. @emiliopascual puedes revisar de nuevo?

__Corrector Ortográfico__2026-02-09T14:14:29.852082
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:29.891923 UTC
text | und | great! .
text | es | exacto, al ser `report.${nombre del report}`, odoo lo coge automáticamente.
code | code | .
text | es | anda, esas "black magic"...
text | es | pon porfa un comentario al lado de la línea `_name` para recordar eso.
code | code | .
code | code | this pr looks fantastic, let's merge it!
prepared branch [18.0-ocabot-merge-pr-4764-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4764-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 18.0-ocabot-merge-pr-4764-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/757e772df85ebb73470600c9a38952d2135229f7).
text | en | after fixing the problem, you can re-issue a merge command.
code | code | please refrain from merging manually as it will most probably make the target branch red.
code | code | .
text | es | /ocabot merge patch .
text | en | hey, thanks for contributing!
text | en | proceeding to merge this for you.
code | code | prepared branch [18.0-ocabot-merge-pr-4764-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4764-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 18.0-ocabot-merge-pr-4764-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/9ad35743e515b1e909db67100bb21c6ae9d66043).
text | en | after fixing the problem, you can re-issue a merge command.
code | code | please refrain from merging manually as it will most probably make the target branch red.
code | code | .
text | es | /ocabot merge patch .
code | code | on my way to merge this fine pr!
prepared branch [18.0-ocabot-merge-pr-4764-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4764-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at f4fa261ef499c55a9b4de78e119da7c996b0a0a9.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 27 | code_items: 15 | spanish_items: 6 | english_items: 5
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | this pr looks fantastic, let's merge it!
prepared branch [18.0-ocabot-merge-pr-4764-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4764-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 18.0-ocabot-merge-pr-4764-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/757e772df85ebb73470600c9a38952d2135229f7).
Dato borrado: text | en | after fixing the problem, you can re-issue a merge command.
Dato borrado: code | code | please refrain from merging manually as it will most probably make the target branch red.
Dato borrado: code | code | .
Dato borrado: text | en | hey, thanks for contributing!
Dato borrado: text | en | proceeding to merge this for you.
Dato borrado: code | code | prepared branch [18.0-ocabot-merge-pr-4764-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4764-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 18.0-ocabot-merge-pr-4764-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/9ad35743e515b1e909db67100bb21c6ae9d66043).
Dato borrado: text | en | after fixing the problem, you can re-issue a merge command.
Dato borrado: code | code | please refrain from merging manually as it will most probably make the target branch red.
Dato borrado: code | code | .
Dato borrado: code | code | on my way to merge this fine pr!
prepared branch [18.0-ocabot-merge-pr-4764-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4764-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at f4fa261ef499c55a9b4de78e119da7c996b0a0a9.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: great! . exacto, al ser `report.${nombre del report}`, odoo lo coge automáticamente. anda, esas "black magic"... pon porfa un comentario al lado de la línea `_name` para recordar eso. /ocabot merge patch . /ocabot merge patch . corazón rojo
__Recursividad__
text | und | great! .
text | es | exacto, al ser `report.${nombre del report}`, odoo lo coge automáticamente.
text | es | anda, esas "black magic"...
text | es | pon porfa un comentario al lado de la línea `_name` para recordar eso.
text | es | /ocabot merge patch .
text | es | /ocabot merge patch .
text | es | corazón rojo
Detalles: total_items: 7 | code_items: 0 | spanish_items: 6 | english_items: 0
Dato borrado: text | und | great! .
recomposed_text: exacto, al ser `report.${nombre del report}`, odoo lo coge automáticamente. anda, esas "black magic"... pon porfa un comentario al lado de la línea `_name` para recordar eso. /ocabot merge patch . /ocabot merge patch . corazón rojo

# Entrada procesada 2026-02-09T14:14:29.909105 UTC
text | en | hola @ao-landoo,
some modules you are maintaining are being modified, check this out! .
text | es | ping @bilbonet @luciaavanzosc @oihane @mariancuadranetkia .
text | en | hey, thanks for contributing!
text | en | proceeding to merge this for you.
code | code | prepared branch [16.0-ocabot-merge-pr-4763-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4763-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at ff164db495c98271469173900f3fab8049da0b2f.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 9 | code_items: 3 | spanish_items: 2 | english_items: 4
Dato borrado: text | en | hola @ao-landoo,
some modules you are maintaining are being modified, check this out! .
Dato borrado: text | en | hey, thanks for contributing!
Dato borrado: text | en | proceeding to merge this for you.
Dato borrado: code | code | prepared branch [16.0-ocabot-merge-pr-4763-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4763-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at ff164db495c98271469173900f3fab8049da0b2f.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: ping @bilbonet @luciaavanzosc @oihane @mariancuadranetkia . corazón rojo
__Recursividad__
text | es | ping @bilbonet @luciaavanzosc @oihane @mariancuadranetkia .
text | es | corazón rojo
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: ping @bilbonet @luciaavanzosc @oihane @mariancuadranetkia . corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:29.909105
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:29.920465 UTC
text | es | @shide puedes revisar este fix, ya que según parece, lo introdujiste tú? .
text | es | @emiliopascual @arantxasudon porfa, echadle un ojo .
code | code | @moduon mt-13491 .
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [18.0-ocabot-merge-pr-4762-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4762-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 26f707d16e71b36049f4383ecbaf7a1c4d2678f6.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 9 | code_items: 4 | spanish_items: 3 | english_items: 2
Dato borrado: code | code | @moduon mt-13491 .
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [18.0-ocabot-merge-pr-4762-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4762-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 26f707d16e71b36049f4383ecbaf7a1c4d2678f6.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: @shide puedes revisar este fix, ya que según parece, lo introdujiste tú? . @emiliopascual @arantxasudon porfa, echadle un ojo . corazón rojo
__Recursividad__
text | es | @shide puedes revisar este fix, ya que según parece, lo introdujiste tú? .
text | es | @emiliopascual @arantxasudon porfa, echadle un ojo .
text | es | corazón rojo
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: @shide puedes revisar este fix, ya que según parece, lo introdujiste tú? . @emiliopascual @arantxasudon porfa, echadle un ojo . corazón rojo

# Entrada procesada 2026-02-09T14:14:29.934938 UTC
code | code | > ¿no habría que cambiar el `freeze_time` de los tests para poner 2026? > > https://github.com/oca/l10n-spain/blob/163c6de6b6329c766d37aaebd590afa051bb4658/l10n_es_atc_mod417/tests/test_l10n_es_atc_mod417.py#l572 esta actualización es por trimestre, no es por cambio de año aún, a diferencia de la actualización en el pr https://github.com/oca/l10n-spain/pull/4757 donde sí tengo que cambiar la fecha de los test, porque ahí el jar valida el año.
text | es | imagino que en una próxima actualización, donde sí cambie el año, ahí sí se debe cambiar en los test, pero ahora no es necesario.
code | code | .
text | en | hey, thanks for contributing!
text | en | proceeding to merge this for you.
code | code | prepared branch [17.0-ocabot-merge-pr-4761-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4761-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 3aac26c68dfae7b98b9e9d9b1a07ee37f83aa884.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 10 | code_items: 5 | spanish_items: 2 | english_items: 3
Dato borrado: code | code | > ¿no habría que cambiar el `freeze_time` de los tests para poner 2026? > > https://github.com/oca/l10n-spain/blob/163c6de6b6329c766d37aaebd590afa051bb4658/l10n_es_atc_mod417/tests/test_l10n_es_atc_mod417.py#l572 esta actualización es por trimestre, no es por cambio de año aún, a diferencia de la actualización en el pr https://github.com/oca/l10n-spain/pull/4757 donde sí tengo que cambiar la fecha de los test, porque ahí el jar valida el año.
Dato borrado: code | code | .
Dato borrado: text | en | hey, thanks for contributing!
Dato borrado: text | en | proceeding to merge this for you.
Dato borrado: code | code | prepared branch [17.0-ocabot-merge-pr-4761-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4761-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 3aac26c68dfae7b98b9e9d9b1a07ee37f83aa884.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: imagino que en una próxima actualización, donde sí cambie el año, ahí sí se debe cambiar en los test, pero ahora no es necesario. corazón rojo
__Recursividad__
text | es | imagino que en una próxima actualización, donde sí cambie el año, ahí sí se debe cambiar en los test, pero ahora no es necesario.
text | es | corazón rojo
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: imagino que en una próxima actualización, donde sí cambie el año, ahí sí se debe cambiar en los test, pero ahora no es necesario. corazón rojo

# Entrada procesada 2026-02-09T14:14:29.948212 UTC
code | code | on my way to merge this fine pr!
prepared branch [15.0-ocabot-merge-pr-4759-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/15.0-ocabot-merge-pr-4759-by-pedrobaeza-bump-minor), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 4c3b798da72d7ba3c88466afd69721cab129dc27.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 5 | code_items: 3 | spanish_items: 1 | english_items: 1
Dato borrado: code | code | on my way to merge this fine pr!
prepared branch [15.0-ocabot-merge-pr-4759-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/15.0-ocabot-merge-pr-4759-by-pedrobaeza-bump-minor), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 4c3b798da72d7ba3c88466afd69721cab129dc27.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

# Entrada procesada 2026-02-09T14:14:29.956218 UTC
text | en | @eantones, can you please review it? .
text | en | @deeniiz also the ci is red, please check it out.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 0 | english_items: 2
Dato borrado: text | en | @eantones, can you please review it? .
Dato borrado: text | en | @deeniiz also the ci is red, please check it out.
recomposed_text:
__Recursividad__
Detalles: total_items: 0 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text:

# Entrada procesada 2026-02-09T14:14:29.957307 UTC
text | en | hola @nicolasramos,
some modules you are maintaining are being modified, check this out!
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 1
Dato borrado: text | en | hola @nicolasramos,
some modules you are maintaining are being modified, check this out!
recomposed_text:
__Recursividad__
Detalles: total_items: 0 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text:

__Corrector Ortográfico__2026-02-09T14:14:29.957307
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:29.958605 UTC
text | es | el modelo se calcula para una sola compañía, no para varias, por lo que no entiendo el parche.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: el modelo se calcula para una sola compañía, no para varias, por lo que no entiendo el parche.
__Recursividad__
text | es | el modelo se calcula para una sola compañía, no para varias, por lo que no entiendo el parche.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: el modelo se calcula para una sola compañía, no para varias, por lo que no entiendo el parche.

# Entrada procesada 2026-02-09T14:14:29.971265 UTC
text | es | @pedrobaeza puedes revisar el pr y si esta correcto le puedes dar el aprobado para que se fusione lo antes posible .
code | code | this pr looks fantastic, let's merge it!
prepared branch [18.0-ocabot-merge-pr-4755-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4755-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 1ab4e2fa97731392287419e900d86c27c31fe9e9.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 6 | code_items: 3 | spanish_items: 2 | english_items: 1
Dato borrado: code | code | this pr looks fantastic, let's merge it!
prepared branch [18.0-ocabot-merge-pr-4755-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4755-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 1ab4e2fa97731392287419e900d86c27c31fe9e9.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: @pedrobaeza puedes revisar el pr y si esta correcto le puedes dar el aprobado para que se fusione lo antes posible . corazón rojo
__Recursividad__
text | es | @pedrobaeza puedes revisar el pr y si esta correcto le puedes dar el aprobado para que se fusione lo antes posible .
text | es | corazón rojo
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: @pedrobaeza puedes revisar el pr y si esta correcto le puedes dar el aprobado para que se fusione lo antes posible . corazón rojo

# Entrada procesada 2026-02-09T14:14:29.989287 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
text | es | habría que comprobar si esto tiene algún efecto lateral fuera del sii.
text | es | creo recordar que el 349 también utiliza esto.
code | code | .
text | es | por lo que he comprobado del 349 se fuerza el `country_code` (que actualmente devuelve el) y se pasa por la función `_map_aeat_country_code` nuevamente, con este cambio no sería necesario, ya que sería `gr` desde la primera llamada.
text | es | además en los tests del 349 tiene partner con país grecia, por lo que habría saltado el ci en caso de que este cambio le afectara.
code | code | https://github.com/oca/l10n-spain/blob/36eda0438efb096ed8c040418fd10893a0e3fe1c/l10n_es_aeat_mod349/models/mod349.py#l432-l440 https://github.com/oca/l10n-spain/blob/36eda0438efb096ed8c040418fd10893a0e3fe1c/l10n_es_aeat_mod349/tests/test_l10n_es_aeat_mod349.py#l365-l367 .
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [17.0-ocabot-merge-pr-4754-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4754-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at ce7d74ffb8bbaff47df4c546c264726aeff554e8.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 13 | code_items: 5 | spanish_items: 5 | english_items: 3
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | .
Dato borrado: code | code | https://github.com/oca/l10n-spain/blob/36eda0438efb096ed8c040418fd10893a0e3fe1c/l10n_es_aeat_mod349/models/mod349.py#l432-l440 https://github.com/oca/l10n-spain/blob/36eda0438efb096ed8c040418fd10893a0e3fe1c/l10n_es_aeat_mod349/tests/test_l10n_es_aeat_mod349.py#l365-l367 .
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [17.0-ocabot-merge-pr-4754-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4754-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at ce7d74ffb8bbaff47df4c546c264726aeff554e8.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: habría que comprobar si esto tiene algún efecto lateral fuera del sii. creo recordar que el 349 también utiliza esto. por lo que he comprobado del 349 se fuerza el `country_code` (que actualmente devuelve el) y se pasa por la función `_map_aeat_country_code` nuevamente, con este cambio no sería necesario, ya que sería `gr` desde la primera llamada. además en los tests del 349 tiene partner con país grecia, por lo que habría saltado el ci en caso de que este cambio le afectara. corazón rojo
__Recursividad__
text | es | habría que comprobar si esto tiene algún efecto lateral fuera del sii.
text | es | creo recordar que el 349 también utiliza esto.
text | es | por lo que he comprobado del 349 se fuerza el `country_code` (que actualmente devuelve el) y se pasa por la función `_map_aeat_country_code` nuevamente, con este cambio no sería necesario, ya que sería `gr` desde la primera llamada.
text | es | además en los tests del 349 tiene partner con país grecia, por lo que habría saltado el ci en caso de que este cambio le afectara.
text | es | corazón rojo
Detalles: total_items: 5 | code_items: 0 | spanish_items: 5 | english_items: 0
recomposed_text: habría que comprobar si esto tiene algún efecto lateral fuera del sii. creo recordar que el 349 también utiliza esto. por lo que he comprobado del 349 se fuerza el `country_code` (que actualmente devuelve el) y se pasa por la función `_map_aeat_country_code` nuevamente, con este cambio no sería necesario, ya que sería `gr` desde la primera llamada. además en los tests del 349 tiene partner con país grecia, por lo que habría saltado el ci en caso de que este cambio le afectara. corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:29.989287
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.016758 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
code | code | this pr has the `approved` label and has been created more than 5 days ago.
text | en | it should therefore be ready to merge by a maintainer (or a psc member if the concerned addon has no declared maintainer).
text | und | robot .
text | es | fusiono en base a las reviews existentes.
text | es | /ocabot merge patch .
code | code | this pr looks fantastic, let's merge it!
prepared branch [17.0-ocabot-merge-pr-4753-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4753-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 2294e946f91bb5df26b363517db55bd49f28fa0b.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo .
text | es | llévalo por favor a 18
Detalles: total_items: 12 | code_items: 4 | spanish_items: 4 | english_items: 3
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | this pr has the `approved` label and has been created more than 5 days ago.
Dato borrado: text | en | it should therefore be ready to merge by a maintainer (or a psc member if the concerned addon has no declared maintainer).
Dato borrado: code | code | this pr looks fantastic, let's merge it!
prepared branch [17.0-ocabot-merge-pr-4753-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4753-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 2294e946f91bb5df26b363517db55bd49f28fa0b.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: robot . fusiono en base a las reviews existentes. /ocabot merge patch . corazón rojo . llévalo por favor a 18
__Recursividad__
text | und | robot .
text | es | fusiono en base a las reviews existentes.
text | es | /ocabot merge patch .
text | es | corazón rojo .
text | es | llévalo por favor a 18
Detalles: total_items: 5 | code_items: 0 | spanish_items: 4 | english_items: 0
Dato borrado: text | und | robot .
recomposed_text: fusiono en base a las reviews existentes. /ocabot merge patch . corazón rojo . llévalo por favor a 18

__Corrector Ortográfico__2026-02-09T14:14:30.016758
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.030737 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
text | es | /ocabot merge patch .
code | code | on my way to merge this fine pr!
prepared branch [18.0-ocabot-merge-pr-4752-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4752-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | it looks like something changed on `18.0` in the meantime.
code | code | let me try again (no action is required from you).
code | code | prepared branch [18.0-ocabot-merge-pr-4752-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4752-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at fc53612c021bc816bedecdf6d3a6b76db0afb0d2.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 11 | code_items: 7 | spanish_items: 2 | english_items: 2
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | on my way to merge this fine pr!
prepared branch [18.0-ocabot-merge-pr-4752-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4752-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | it looks like something changed on `18.0` in the meantime.
Dato borrado: code | code | let me try again (no action is required from you).
Dato borrado: code | code | prepared branch [18.0-ocabot-merge-pr-4752-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4752-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at fc53612c021bc816bedecdf6d3a6b76db0afb0d2.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: /ocabot merge patch . corazón rojo
__Recursividad__
text | es | /ocabot merge patch .
text | es | corazón rojo
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: /ocabot merge patch . corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:30.030737
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.051355 UTC
text | en | hola @ao-landoo,
some modules you are maintaining are being modified, check this out! .
code | code | <img width="1327" height="671" alt="image" src="https://github.com/user-attachments/assets/4d4551c7-e2e5-4def-b7bc-9d2b023af8e8" /> .
code | code | this pr has the `approved` label and has been created more than 5 days ago.
text | en | it should therefore be ready to merge by a maintainer (or a psc member if the concerned addon has no declared maintainer).
text | und | robot .
text | es | @pedrobaeza se podría mergear este?
text | es | o faltaría revisar algo? .
text | es | /ocabot merge patch .
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [16.0-ocabot-merge-pr-4751-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4751-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 1802baf4b9001442537a69d23e0b3532ea257c5d.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 14 | code_items: 5 | spanish_items: 4 | english_items: 4
Dato borrado: text | en | hola @ao-landoo,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | <img width="1327" height="671" alt="image" src="https://github.com/user-attachments/assets/4d4551c7-e2e5-4def-b7bc-9d2b023af8e8" /> .
Dato borrado: code | code | this pr has the `approved` label and has been created more than 5 days ago.
Dato borrado: text | en | it should therefore be ready to merge by a maintainer (or a psc member if the concerned addon has no declared maintainer).
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [16.0-ocabot-merge-pr-4751-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4751-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 1802baf4b9001442537a69d23e0b3532ea257c5d.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: robot . @pedrobaeza se podría mergear este? o faltaría revisar algo? . /ocabot merge patch . corazón rojo
__Recursividad__
text | und | robot .
text | es | @pedrobaeza se podría mergear este?
text | es | o faltaría revisar algo? .
text | es | /ocabot merge patch .
text | es | corazón rojo
Detalles: total_items: 5 | code_items: 0 | spanish_items: 4 | english_items: 0
Dato borrado: text | und | robot .
recomposed_text: @pedrobaeza se podría mergear este? o faltaría revisar algo? . /ocabot merge patch . corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:30.051355
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.072230 UTC
text | en | hola @ao-landoo,
some modules you are maintaining are being modified, check this out! .
code | code | <img width="1327" height="671" alt="image" src="https://github.com/user-attachments/assets/33baccee-6dff-4dde-944e-3e839631c190" /> .
text | es | @luciaavanzosc @oihane pueden dar un poco más de contexto @bilbonet.
code | code | .
text | es | lo han empezado a validar en álava y falla sino se cambia.
text | und | lgtm .
text | es | /ocabot merge patch .
code | code | this pr looks fantastic, let's merge it!
prepared branch [14.0-ocabot-merge-pr-4750-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/14.0-ocabot-merge-pr-4750-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at fd23732dee3a31ea7772a96ec338789f5a4b60df.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo .
text | es | @omar7r habrá que revisar si sólo es araba
Detalles: total_items: 13 | code_items: 5 | spanish_items: 5 | english_items: 2
Dato borrado: text | en | hola @ao-landoo,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | <img width="1327" height="671" alt="image" src="https://github.com/user-attachments/assets/33baccee-6dff-4dde-944e-3e839631c190" /> .
Dato borrado: code | code | .
Dato borrado: code | code | this pr looks fantastic, let's merge it!
prepared branch [14.0-ocabot-merge-pr-4750-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/14.0-ocabot-merge-pr-4750-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at fd23732dee3a31ea7772a96ec338789f5a4b60df.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: @luciaavanzosc @oihane pueden dar un poco más de contexto @bilbonet. lo han empezado a validar en álava y falla sino se cambia. lgtm . /ocabot merge patch . corazón rojo . @omar7r habrá que revisar si sólo es araba
__Recursividad__
text | es | @luciaavanzosc @oihane pueden dar un poco más de contexto @bilbonet.
text | es | lo han empezado a validar en álava y falla sino se cambia.
text | und | lgtm .
text | es | /ocabot merge patch .
text | es | corazón rojo .
text | es | @omar7r habrá que revisar si sólo es araba
Detalles: total_items: 6 | code_items: 0 | spanish_items: 5 | english_items: 0
Dato borrado: text | und | lgtm .
recomposed_text: @luciaavanzosc @oihane pueden dar un poco más de contexto @bilbonet. lo han empezado a validar en álava y falla sino se cambia. /ocabot merge patch . corazón rojo . @omar7r habrá que revisar si sólo es araba

__Corrector Ortográfico__2026-02-09T14:14:30.072230
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.086697 UTC
text | en | hola @ao-landoo,
some modules you are maintaining are being modified, check this out! .
text | und | lgtm!
Detalles: total_items: 2 | code_items: 0 | spanish_items: 0 | english_items: 1
Dato borrado: text | en | hola @ao-landoo,
some modules you are maintaining are being modified, check this out! .
recomposed_text: lgtm!
__Recursividad__
text | und | lgtm!
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | lgtm!
recomposed_text:

__Corrector Ortográfico__2026-02-09T14:14:30.086697
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.089543 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [18.0-ocabot-merge-pr-4748-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4748-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at bac2dc70f1955137d9948f68d27f3d7341fd9f9c.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 7 | code_items: 3 | spanish_items: 1 | english_items: 3
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [18.0-ocabot-merge-pr-4748-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4748-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at bac2dc70f1955137d9948f68d27f3d7341fd9f9c.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:30.089543
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.100586 UTC
text | es | @eduezerouali-tecnativa revisa bien el backport, que en el excel salen mezclados los datos en columnas que no corresponden.
code | code | <img width="2347" height="210" alt="image" src="https://github.com/user-attachments/assets/021bba9f-964b-4acc-9a2d-8731fe549d72" /> .
code | code | @pedrobaeza <img width="1756" height="194" alt="selección_054" src="https://github.com/user-attachments/assets/9b9c0c10-e077-4224-bb96-0e9c41e1a173" /> he hecho una prueba en local y se ejecuta bien, cosa que en runboat no.
text | es | el commit esta con los ultimos cambios.
code | code | .
text | es | /ocabot merge minor .
text | en | hey, thanks for contributing!
text | en | proceeding to merge this for you.
code | code | prepared branch [16.0-ocabot-merge-pr-4742-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4742-by-pedrobaeza-bump-minor), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at c0f1aad097c803f2e808c007629328a97cb1d6b3.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 13 | code_items: 6 | spanish_items: 4 | english_items: 3
Dato borrado: code | code | <img width="2347" height="210" alt="image" src="https://github.com/user-attachments/assets/021bba9f-964b-4acc-9a2d-8731fe549d72" /> .
Dato borrado: code | code | @pedrobaeza <img width="1756" height="194" alt="selección_054" src="https://github.com/user-attachments/assets/9b9c0c10-e077-4224-bb96-0e9c41e1a173" /> he hecho una prueba en local y se ejecuta bien, cosa que en runboat no.
Dato borrado: code | code | .
Dato borrado: text | en | hey, thanks for contributing!
Dato borrado: text | en | proceeding to merge this for you.
Dato borrado: code | code | prepared branch [16.0-ocabot-merge-pr-4742-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4742-by-pedrobaeza-bump-minor), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at c0f1aad097c803f2e808c007629328a97cb1d6b3.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: @eduezerouali-tecnativa revisa bien el backport, que en el excel salen mezclados los datos en columnas que no corresponden. el commit esta con los ultimos cambios. /ocabot merge minor . corazón rojo
__Recursividad__
text | es | @eduezerouali-tecnativa revisa bien el backport, que en el excel salen mezclados los datos en columnas que no corresponden.
text | es | el commit esta con los ultimos cambios.
text | es | /ocabot merge minor .
text | es | corazón rojo
Detalles: total_items: 4 | code_items: 0 | spanish_items: 4 | english_items: 0
recomposed_text: @eduezerouali-tecnativa revisa bien el backport, que en el excel salen mezclados los datos en columnas que no corresponden. el commit esta con los ultimos cambios. /ocabot merge minor . corazón rojo

# Entrada procesada 2026-02-09T14:14:30.114658 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
text | en | hey, thanks for contributing!
text | en | proceeding to merge this for you.
code | code | prepared branch [16.0-ocabot-merge-pr-4741-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4741-by-pedrobaeza-bump-minor), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 3af0494a8327b8903808c4ca24b9c8587a4f6697.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 8 | code_items: 3 | spanish_items: 1 | english_items: 4
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: text | en | hey, thanks for contributing!
Dato borrado: text | en | proceeding to merge this for you.
Dato borrado: code | code | prepared branch [16.0-ocabot-merge-pr-4741-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4741-by-pedrobaeza-bump-minor), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 3af0494a8327b8903808c4ca24b9c8587a4f6697.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:30.114658
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.124462 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
text | en | hey, thanks for contributing!
text | en | proceeding to merge this for you.
code | code | prepared branch [17.0-ocabot-merge-pr-4740-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4740-by-pedrobaeza-bump-minor), awaiting test results.
code | code | .
text | es | /ocabot merge minor .
code | code | this pr looks fantastic, let's merge it!
prepared branch [17.0-ocabot-merge-pr-4740-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4740-by-pedrobaeza-bump-minor), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 73dec24922ef39c6f9b3d4b40b7dc1e81dcf5319.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 11 | code_items: 5 | spanish_items: 2 | english_items: 4
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: text | en | hey, thanks for contributing!
Dato borrado: text | en | proceeding to merge this for you.
Dato borrado: code | code | prepared branch [17.0-ocabot-merge-pr-4740-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4740-by-pedrobaeza-bump-minor), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | this pr looks fantastic, let's merge it!
prepared branch [17.0-ocabot-merge-pr-4740-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4740-by-pedrobaeza-bump-minor), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 73dec24922ef39c6f9b3d4b40b7dc1e81dcf5319.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: /ocabot merge minor . corazón rojo
__Recursividad__
text | es | /ocabot merge minor .
text | es | corazón rojo
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: /ocabot merge minor . corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:30.124462
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.133855 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
code | code | on my way to merge this fine pr!
prepared branch [17.0-ocabot-merge-pr-4739-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4739-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 3dcd8a1e2c0454ef1641fdf9b1d6260056267108.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 6 | code_items: 3 | spanish_items: 1 | english_items: 2
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | on my way to merge this fine pr!
prepared branch [17.0-ocabot-merge-pr-4739-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4739-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 3dcd8a1e2c0454ef1641fdf9b1d6260056267108.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:30.133855
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.147116 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
text | en | hey, thanks for contributing!
text | en | proceeding to merge this for you.
code | code | prepared branch [17.0-ocabot-merge-pr-4738-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4738-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 17.0-ocabot-merge-pr-4738-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/ecaacf055c3a0b9c71e474fc9db9e653b10e95d4).
text | en | after fixing the problem, you can re-issue a merge command.
code | code | please refrain from merging manually as it will most probably make the target branch red.
code | code | .
text | es | /ocabot merge patch .
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [17.0-ocabot-merge-pr-4738-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4738-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 17.0-ocabot-merge-pr-4738-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/e3b9a06d5917ac9c41155c4be84491c429bbae84).
text | en | after fixing the problem, you can re-issue a merge command.
code | code | please refrain from merging manually as it will most probably make the target branch red.
code | code | .
text | es | /ocabot merge patch .
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [17.0-ocabot-merge-pr-4738-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4738-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at b85bd887eea3f65f39d58892b1e8f3a52ac8830b.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 24 | code_items: 13 | spanish_items: 3 | english_items: 8
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: text | en | hey, thanks for contributing!
Dato borrado: text | en | proceeding to merge this for you.
Dato borrado: code | code | prepared branch [17.0-ocabot-merge-pr-4738-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4738-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 17.0-ocabot-merge-pr-4738-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/ecaacf055c3a0b9c71e474fc9db9e653b10e95d4).
Dato borrado: text | en | after fixing the problem, you can re-issue a merge command.
Dato borrado: code | code | please refrain from merging manually as it will most probably make the target branch red.
Dato borrado: code | code | .
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [17.0-ocabot-merge-pr-4738-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4738-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 17.0-ocabot-merge-pr-4738-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/e3b9a06d5917ac9c41155c4be84491c429bbae84).
Dato borrado: text | en | after fixing the problem, you can re-issue a merge command.
Dato borrado: code | code | please refrain from merging manually as it will most probably make the target branch red.
Dato borrado: code | code | .
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [17.0-ocabot-merge-pr-4738-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4738-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at b85bd887eea3f65f39d58892b1e8f3a52ac8830b.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: /ocabot merge patch . /ocabot merge patch . corazón rojo
__Recursividad__
text | es | /ocabot merge patch .
text | es | /ocabot merge patch .
text | es | corazón rojo
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: /ocabot merge patch . /ocabot merge patch . corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:30.147116
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.157329 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
code | code | this pr looks fantastic, let's merge it!
prepared branch [19.0-ocabot-merge-pr-4737-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/19.0-ocabot-merge-pr-4737-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 9bf2a1d793c262765735f5c68b3a6549cf3bd39d.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 6 | code_items: 3 | spanish_items: 1 | english_items: 2
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | this pr looks fantastic, let's merge it!
prepared branch [19.0-ocabot-merge-pr-4737-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/19.0-ocabot-merge-pr-4737-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 9bf2a1d793c262765735f5c68b3a6549cf3bd39d.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:30.157329
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.165476 UTC
code | code | this pr looks fantastic, let's merge it!
prepared branch [16.0-ocabot-merge-pr-4736-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4736-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at e936d3af1229c954d2450bed3d4fc49755b40915.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 5 | code_items: 3 | spanish_items: 1 | english_items: 1
Dato borrado: code | code | this pr looks fantastic, let's merge it!
prepared branch [16.0-ocabot-merge-pr-4736-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4736-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at e936d3af1229c954d2450bed3d4fc49755b40915.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

# Entrada procesada 2026-02-09T14:14:30.172553 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:30.177208 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
text | en | hey, thanks for contributing!
text | en | proceeding to merge this for you.
code | code | prepared branch [18.0-ocabot-merge-pr-4734-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4734-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 18.0-ocabot-merge-pr-4734-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/a506c1c4022a9aa9fb138bebb7da1abb4a5c277e).
text | en | after fixing the problem, you can re-issue a merge command.
code | code | please refrain from merging manually as it will most probably make the target branch red.
code | code | .
text | es | /ocabot merge patch .
code | code | this pr looks fantastic, let's merge it!
prepared branch [18.0-ocabot-merge-pr-4734-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4734-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 889ffbd41b2a65471674d8901223740a8b0f3689.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 15 | code_items: 8 | spanish_items: 2 | english_items: 5
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: text | en | hey, thanks for contributing!
Dato borrado: text | en | proceeding to merge this for you.
Dato borrado: code | code | prepared branch [18.0-ocabot-merge-pr-4734-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4734-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 18.0-ocabot-merge-pr-4734-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/a506c1c4022a9aa9fb138bebb7da1abb4a5c277e).
Dato borrado: text | en | after fixing the problem, you can re-issue a merge command.
Dato borrado: code | code | please refrain from merging manually as it will most probably make the target branch red.
Dato borrado: code | code | .
Dato borrado: code | code | this pr looks fantastic, let's merge it!
prepared branch [18.0-ocabot-merge-pr-4734-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4734-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 889ffbd41b2a65471674d8901223740a8b0f3689.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: /ocabot merge patch . corazón rojo
__Recursividad__
text | es | /ocabot merge patch .
text | es | corazón rojo
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: /ocabot merge patch . corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:30.177208
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.186322 UTC
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [15.0-ocabot-merge-pr-4733-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/15.0-ocabot-merge-pr-4733-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 51b348ea328d20bb6d903d76c7dad24016d3fd55.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 6 | code_items: 3 | spanish_items: 1 | english_items: 2
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [15.0-ocabot-merge-pr-4733-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/15.0-ocabot-merge-pr-4733-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 51b348ea328d20bb6d903d76c7dad24016d3fd55.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

# Entrada procesada 2026-02-09T14:14:30.196265 UTC
text | en | hola @pedrobaeza, @victoralmau,
some modules you are maintaining are being modified, check this out! .
code | code | this pr looks fantastic, let's merge it!
prepared branch [18.0-ocabot-merge-pr-4732-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4732-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 9f474d3896f86b697a368da4e1bd1699cb7e12b9.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo .
text | es | @christian-ramos-tecnativa ¿puedes hacer backport a 17.0?
Detalles: total_items: 7 | code_items: 3 | spanish_items: 2 | english_items: 2
Dato borrado: text | en | hola @pedrobaeza, @victoralmau,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | this pr looks fantastic, let's merge it!
prepared branch [18.0-ocabot-merge-pr-4732-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4732-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 9f474d3896f86b697a368da4e1bd1699cb7e12b9.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo . @christian-ramos-tecnativa ¿puedes hacer backport a 17.0?
__Recursividad__
text | es | corazón rojo .
text | es | @christian-ramos-tecnativa ¿puedes hacer backport a 17.0?
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: corazón rojo . @christian-ramos-tecnativa ¿puedes hacer backport a 17.0?

__Corrector Ortográfico__2026-02-09T14:14:30.196265
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.207164 UTC
code | code | this pr looks fantastic, let's merge it!
prepared branch [18.0-ocabot-merge-pr-4731-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4731-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 6aedd2a4047a29fb9b247fef4a245df469dacf25.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 5 | code_items: 3 | spanish_items: 1 | english_items: 1
Dato borrado: code | code | this pr looks fantastic, let's merge it!
prepared branch [18.0-ocabot-merge-pr-4731-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4731-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 6aedd2a4047a29fb9b247fef4a245df469dacf25.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

# Entrada procesada 2026-02-09T14:14:30.218170 UTC
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [15.0-ocabot-merge-pr-4730-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/15.0-ocabot-merge-pr-4730-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at a296b02aa14c9a5d1039449e3fab1d2f77eb334c.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo .
text | es | ¿hace falta en 16.0? .
text | es | sí, en el pr 4736 he mirado de corregir los tests ko en este módulo...
Detalles: total_items: 8 | code_items: 3 | spanish_items: 3 | english_items: 2
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [15.0-ocabot-merge-pr-4730-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/15.0-ocabot-merge-pr-4730-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at a296b02aa14c9a5d1039449e3fab1d2f77eb334c.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo . ¿hace falta en 16.0? . sí, en el pr 4736 he mirado de corregir los tests ko en este módulo...
__Recursividad__
text | es | corazón rojo .
text | es | ¿hace falta en 16.0? .
text | es | sí, en el pr 4736 he mirado de corregir los tests ko en este módulo...
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: corazón rojo . ¿hace falta en 16.0? . sí, en el pr 4736 he mirado de corregir los tests ko en este módulo...

# Entrada procesada 2026-02-09T14:14:30.232190 UTC
code | code | this pr looks fantastic, let's merge it!
prepared branch [17.0-ocabot-merge-pr-4729-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4729-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at dbe00155799ffd353dad1a29a007c600da4aedb8.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 5 | code_items: 3 | spanish_items: 1 | english_items: 1
Dato borrado: code | code | this pr looks fantastic, let's merge it!
prepared branch [17.0-ocabot-merge-pr-4729-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4729-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at dbe00155799ffd353dad1a29a007c600da4aedb8.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

# Entrada procesada 2026-02-09T14:14:30.244082 UTC
code | code | on my way to merge this fine pr!
prepared branch [18.0-ocabot-merge-pr-4728-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4728-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 0ba76c2742d8add304d1abad7d939af770a1c3ff.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 5 | code_items: 3 | spanish_items: 1 | english_items: 1
Dato borrado: code | code | on my way to merge this fine pr!
prepared branch [18.0-ocabot-merge-pr-4728-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4728-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 0ba76c2742d8add304d1abad7d939af770a1c3ff.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

# Entrada procesada 2026-02-09T14:14:30.253445 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:30.258231 UTC
text | es | ídem que el de 16.
text | es | las columnas del excel no coinciden.
code | code | .
text | es | ping @pedrobaeza .
text | es | /ocabot merge minor .
code | code | this pr looks fantastic, let's merge it!
prepared branch [17.0-ocabot-merge-pr-4719-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4719-by-pedrobaeza-bump-minor), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at b560ee1fb9878cf7b3fd0aa674f5026a66652e23.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 10 | code_items: 4 | spanish_items: 5 | english_items: 1
Dato borrado: code | code | .
Dato borrado: code | code | this pr looks fantastic, let's merge it!
prepared branch [17.0-ocabot-merge-pr-4719-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4719-by-pedrobaeza-bump-minor), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at b560ee1fb9878cf7b3fd0aa674f5026a66652e23.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: ídem que el de 16. las columnas del excel no coinciden. ping @pedrobaeza . /ocabot merge minor . corazón rojo
__Recursividad__
text | es | ídem que el de 16.
text | es | las columnas del excel no coinciden.
text | es | ping @pedrobaeza .
text | es | /ocabot merge minor .
text | es | corazón rojo
Detalles: total_items: 5 | code_items: 0 | spanish_items: 5 | english_items: 0
recomposed_text: ídem que el de 16. las columnas del excel no coinciden. ping @pedrobaeza . /ocabot merge minor . corazón rojo

# Entrada procesada 2026-02-09T14:14:30.271098 UTC
text | en | hey, thanks for contributing!
text | en | proceeding to merge this for you.
code | code | prepared branch [18.0-ocabot-merge-pr-4718-by-etobella-bump-minor](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4718-by-etobella-bump-minor), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 04f115220f183bf968e3937620a3a44b8e0c0374.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 7 | code_items: 3 | spanish_items: 1 | english_items: 3
Dato borrado: text | en | hey, thanks for contributing!
Dato borrado: text | en | proceeding to merge this for you.
Dato borrado: code | code | prepared branch [18.0-ocabot-merge-pr-4718-by-etobella-bump-minor](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4718-by-etobella-bump-minor), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 04f115220f183bf968e3937620a3a44b8e0c0374.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

# Entrada procesada 2026-02-09T14:14:30.280020 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
code | code | @pedrobaeza same https://github.com/oca/l10n-spain/pull/4475 .
code | code | this pr looks fantastic, let's merge it!
prepared branch [18.0-ocabot-merge-pr-4716-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4716-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 5c39867f69b29795e62fe6f8e1f248f1332583d5.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 7 | code_items: 4 | spanish_items: 1 | english_items: 2
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | @pedrobaeza same https://github.com/oca/l10n-spain/pull/4475 .
Dato borrado: code | code | this pr looks fantastic, let's merge it!
prepared branch [18.0-ocabot-merge-pr-4716-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4716-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 5c39867f69b29795e62fe6f8e1f248f1332583d5.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:30.280020
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.288922 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
text | en | hey, thanks for contributing!
text | en | proceeding to merge this for you.
code | code | prepared branch [17.0-ocabot-merge-pr-4713-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4713-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 0024eb109f9b42c8d63b837b7ab030b9d9fe2bcc.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 8 | code_items: 3 | spanish_items: 1 | english_items: 4
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: text | en | hey, thanks for contributing!
Dato borrado: text | en | proceeding to merge this for you.
Dato borrado: code | code | prepared branch [17.0-ocabot-merge-pr-4713-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4713-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 0024eb109f9b42c8d63b837b7ab030b9d9fe2bcc.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:30.288922
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.295973 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:30.298981 UTC
text | es | los errores vienen de la migración a 18, cuando se paso del archivo `xml` a `csv`, los espacios en blancos no los reconoce sin las comillas, esto hace que en vez de añadir un espacio en blanco como indica el diseño de registro, se añada `false` dando error al subir el archivo a aeat.
code | code | .
code | code | cierro en favor de https://github.com/oca/l10n-spain/pull/4718 que recoge los cambios para 2025
Detalles: total_items: 3 | code_items: 2 | spanish_items: 1 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | cierro en favor de https://github.com/oca/l10n-spain/pull/4718 que recoge los cambios para 2025
recomposed_text: los errores vienen de la migración a 18, cuando se paso del archivo `xml` a `csv`, los espacios en blancos no los reconoce sin las comillas, esto hace que en vez de añadir un espacio en blanco como indica el diseño de registro, se añada `false` dando error al subir el archivo a aeat.
__Recursividad__
text | es | los errores vienen de la migración a 18, cuando se paso del archivo `xml` a `csv`, los espacios en blancos no los reconoce sin las comillas, esto hace que en vez de añadir un espacio en blanco como indica el diseño de registro, se añada `false` dando error al subir el archivo a aeat.
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: los errores vienen de la migración a 18, cuando se paso del archivo `xml` a `csv`, los espacios en blancos no los reconoce sin las comillas, esto hace que en vez de añadir un espacio en blanco como indica el diseño de registro, se añada `false` dando error al subir el archivo a aeat.

# Entrada procesada 2026-02-09T14:14:30.317381 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
text | es | @christian-ramos-tecnativa changes done! .
text | es | /ocabot merge patch .
text | en | hey, thanks for contributing!
text | en | proceeding to merge this for you.
code | code | prepared branch [17.0-ocabot-merge-pr-4710-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4710-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 524dec78351172e3c4c06235f16ff5568a26aabc.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 10 | code_items: 3 | spanish_items: 3 | english_items: 4
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: text | en | hey, thanks for contributing!
Dato borrado: text | en | proceeding to merge this for you.
Dato borrado: code | code | prepared branch [17.0-ocabot-merge-pr-4710-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4710-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 524dec78351172e3c4c06235f16ff5568a26aabc.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: @christian-ramos-tecnativa changes done! . /ocabot merge patch . corazón rojo
__Recursividad__
text | es | @christian-ramos-tecnativa changes done! .
text | es | /ocabot merge patch .
text | es | corazón rojo
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: @christian-ramos-tecnativa changes done! . /ocabot merge patch . corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:30.317381
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.339991 UTC
text | es | @eduezerouali-tecnativa ¿puedes hacer backport a 17? .
text | es | > @eduezerouali-tecnativa ¿puedes hacer backport a 17?
text | es | si está previsto hacer backport a 16 y 17 .
text | es | > un detalle más: el periodo de deducción sí que se puede escribir, y se obtiene de la fecha contable de la factura, aunque habría que añadir un dato extra a nivel de libro de iva: si la liquidación es trimestral o mensual.
text | es | entonces habría que añadir `vat_settlement_period` a nivel de `l10n.es.vat.book`.
text | es | y el cálculo sería, en el caso de liquidación mensual, añadir los 30 días naturales, y en el caso de liquidación trimestral, comprobar a qué trimestre corresponde y poner la fecha del último día del trimestre.
code | code | .
text | es | sí, se añade ese campo, y sería poner dentro de qué toca: el año en el ejercicio, y si es mensual, pues el mes en periodo (01, 02...), y si es trimestral, pues 1t, 2t, 3t, 4t.
code | code | .
text | es | hay ejemplos en `l10n_es_aeat*` que lo calcula de manera elegante.
code | code | .
text | es | lo reviso y lo añado.
code | code | .
text | es | ping @pedrobaeza .
code | code | this pr looks fantastic, let's merge it!
prepared branch [18.0-ocabot-merge-pr-4709-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4709-by-pedrobaeza-bump-minor), awaiting test results.
code | code | .
text | es | muchas gracias!!!
text | es | pues testeado y ok a merge .
code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 18.0-ocabot-merge-pr-4709-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/1a0929b73bfa232b7e250fc7c924766591847a1b).
text | en | after fixing the problem, you can re-issue a merge command.
code | code | please refrain from merging manually as it will most probably make the target branch red.
code | code | .
text | es | /ocabot merge minor .
code | code | this pr looks fantastic, let's merge it!
prepared branch [18.0-ocabot-merge-pr-4709-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4709-by-pedrobaeza-bump-minor), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 3ddc7f91efa7e578fe6249cfb497d3d24a1ec08d.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 28 | code_items: 12 | spanish_items: 14 | english_items: 2
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | this pr looks fantastic, let's merge it!
prepared branch [18.0-ocabot-merge-pr-4709-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4709-by-pedrobaeza-bump-minor), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 18.0-ocabot-merge-pr-4709-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/1a0929b73bfa232b7e250fc7c924766591847a1b).
Dato borrado: text | en | after fixing the problem, you can re-issue a merge command.
Dato borrado: code | code | please refrain from merging manually as it will most probably make the target branch red.
Dato borrado: code | code | .
Dato borrado: code | code | this pr looks fantastic, let's merge it!
prepared branch [18.0-ocabot-merge-pr-4709-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4709-by-pedrobaeza-bump-minor), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 3ddc7f91efa7e578fe6249cfb497d3d24a1ec08d.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: @eduezerouali-tecnativa ¿puedes hacer backport a 17? . > @eduezerouali-tecnativa ¿puedes hacer backport a 17? si está previsto hacer backport a 16 y 17 . > un detalle más: el periodo de deducción sí que se puede escribir, y se obtiene de la fecha contable de la factura, aunque habría que añadir un dato extra a nivel de libro de iva: si la liquidación es trimestral o mensual. entonces habría que añadir `vat_settlement_period` a nivel de `l10n.es.vat.book`. y el cálculo sería, en el caso de liquidación mensual, añadir los 30 días naturales, y en el caso de liquidación trimestral, comprobar a qué trimestre corresponde y poner la fecha del último día del trimestre. sí, se añade ese campo, y sería poner dentro de qué toca: el año en el ejercicio, y si es mensual, pues el mes en periodo (01, 02...), y si es trimestral, pues 1t, 2t, 3t, 4t. hay ejemplos en `l10n_es_aeat*` que lo calcula de manera elegante. lo reviso y lo añado. ping @pedrobaeza . muchas gracias!!! pues testeado y ok a merge . /ocabot merge minor . corazón rojo
__Recursividad__
text | es | @eduezerouali-tecnativa ¿puedes hacer backport a 17? .
text | es | > @eduezerouali-tecnativa ¿puedes hacer backport a 17?
text | es | si está previsto hacer backport a 16 y 17 .
text | es | > un detalle más: el periodo de deducción sí que se puede escribir, y se obtiene de la fecha contable de la factura, aunque habría que añadir un dato extra a nivel de libro de iva: si la liquidación es trimestral o mensual.
text | es | entonces habría que añadir `vat_settlement_period` a nivel de `l10n.es.vat.book`.
text | es | y el cálculo sería, en el caso de liquidación mensual, añadir los 30 días naturales, y en el caso de liquidación trimestral, comprobar a qué trimestre corresponde y poner la fecha del último día del trimestre.
text | es | sí, se añade ese campo, y sería poner dentro de qué toca: el año en el ejercicio, y si es mensual, pues el mes en periodo (01, 02...), y si es trimestral, pues 1t, 2t, 3t, 4t.
text | es | hay ejemplos en `l10n_es_aeat*` que lo calcula de manera elegante.
text | es | lo reviso y lo añado.
text | es | ping @pedrobaeza .
text | es | muchas gracias!!!
text | es | pues testeado y ok a merge .
text | es | /ocabot merge minor .
text | es | corazón rojo
Detalles: total_items: 14 | code_items: 0 | spanish_items: 14 | english_items: 0
recomposed_text: @eduezerouali-tecnativa ¿puedes hacer backport a 17? . > @eduezerouali-tecnativa ¿puedes hacer backport a 17? si está previsto hacer backport a 16 y 17 . > un detalle más: el periodo de deducción sí que se puede escribir, y se obtiene de la fecha contable de la factura, aunque habría que añadir un dato extra a nivel de libro de iva: si la liquidación es trimestral o mensual. entonces habría que añadir `vat_settlement_period` a nivel de `l10n.es.vat.book`. y el cálculo sería, en el caso de liquidación mensual, añadir los 30 días naturales, y en el caso de liquidación trimestral, comprobar a qué trimestre corresponde y poner la fecha del último día del trimestre. sí, se añade ese campo, y sería poner dentro de qué toca: el año en el ejercicio, y si es mensual, pues el mes en periodo (01, 02...), y si es trimestral, pues 1t, 2t, 3t, 4t. hay ejemplos en `l10n_es_aeat*` que lo calcula de manera elegante. lo reviso y lo añado. ping @pedrobaeza . muchas gracias!!! pues testeado y ok a merge . /ocabot merge minor . corazón rojo

# Entrada procesada 2026-02-09T14:14:30.374852 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:30.380775 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
text | es | ya están todos los puntos comentados, en cuanto al pr que realizaste para `l10n_es_pos_sii` me ha parecido que los campos en este están bastante preparados con los `invisible` y `readonly` donde toca.
text | es | déjame saber si echas alguno en falta .
text | es | a que te refieres con > las nuevas etiquetas acortadas.
text | und | @pedrobaeza? .
text | es | mira en el otro pr cómo en la vista se ponen string acortadas sin el término sii.
code | code | .
text | es | listo y añadido como nuevo punto a la descripción
Detalles: total_items: 8 | code_items: 1 | spanish_items: 5 | english_items: 1
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | .
recomposed_text: ya están todos los puntos comentados, en cuanto al pr que realizaste para `l10n_es_pos_sii` me ha parecido que los campos en este están bastante preparados con los `invisible` y `readonly` donde toca. déjame saber si echas alguno en falta . a que te refieres con > las nuevas etiquetas acortadas. @pedrobaeza? . mira en el otro pr cómo en la vista se ponen string acortadas sin el término sii. listo y añadido como nuevo punto a la descripción
__Recursividad__
text | es | ya están todos los puntos comentados, en cuanto al pr que realizaste para `l10n_es_pos_sii` me ha parecido que los campos en este están bastante preparados con los `invisible` y `readonly` donde toca.
text | es | déjame saber si echas alguno en falta .
text | es | a que te refieres con > las nuevas etiquetas acortadas.
text | und | @pedrobaeza? .
text | es | mira en el otro pr cómo en la vista se ponen string acortadas sin el término sii.
text | es | listo y añadido como nuevo punto a la descripción
Detalles: total_items: 6 | code_items: 0 | spanish_items: 5 | english_items: 0
Dato borrado: text | und | @pedrobaeza? .
recomposed_text: ya están todos los puntos comentados, en cuanto al pr que realizaste para `l10n_es_pos_sii` me ha parecido que los campos en este están bastante preparados con los `invisible` y `readonly` donde toca. déjame saber si echas alguno en falta . a que te refieres con > las nuevas etiquetas acortadas. mira en el otro pr cómo en la vista se ponen string acortadas sin el término sii. listo y añadido como nuevo punto a la descripción

__Corrector Ortográfico__2026-02-09T14:14:30.380775
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.409269 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
text | es | gracias por el pr!
text | es | pulgar hacia arriba siguiendo el feedback de @pedrobaeza, aquí va una propuesta de refactorización que acumula los paths y los valida una sola vez:
code | code | python @api.model def get_certificates(self, company=none): if not company: company = self.env.user.company_id aeat_certificates = self.search([ ("company_id", "=", company.id), ("public_key", "!=", false), ("private_key", "!=", false), "|", ("date_start", "=", false), ("date_start", "<=", fields.date.today()), "|", ("date_end", "=", false), ("date_end", ">=", fields.date.today()), ("state", "=", "active"), ]) if aeat_certificates: # acumular archivos faltantes missing_files = [] for aeat_certificate in aeat_certificates: public_crt = aeat_certificate.public_key private_key = aeat_certificate.private_key if not os.path.isfile(public_crt): missing_files.append(_("public certificate: %s") % public_crt) if not os.path.isfile(private_key): missing_files.append(_("private key: %s") % private_key) # validar una sola vez if missing_files: raise exceptions.usererror( _("error! the following certificate files were not found:\n%s") % "\n".join(missing_files) ) return ( aeat_certificates[0].public_key, aeat_certificates[0].private_key, ) else: # fallback a parámetros de configuración icp = self.env["ir.config_parameter"].sudo() public_crt = icp.get_param("l10n_es_aeat.public_key", false) private_key = icp.get_param("l10n_es_aeat.private_key", false) if not public_crt or not private_key: raise exceptions.usererror(_("error! there aren't certificates.")) # paths por defecto (instalaciones nuevas) default_paths = ( "/opt/certificates/publiccert.crt", "/opt/certificates/privatekey.pem", ) missing_files = [] if public_crt not in default_paths and not os.path.isfile(public_crt): missing_files.append(_("public certificate: %s") % public_crt) if private_key not in default_paths and not os.path.isfile(private_key): missing_files.append(_("private key: %s") % private_key) if missing_files: raise exceptions.usererror( _("error! the following certificate files were not found:\n%s\n\n" "please configure a valid certificate through " "settings > aeat > certificates") % "\n".join(missing_files) ) return public_crt, private_key
text | es | **ventajas de este enfoque:** - botón de marca de verificación el usuario ve **todos** los archivos faltantes de una vez (mejor ux) - botón de marca de verificación evita múltiples `raise` dispersos - botón de marca de verificación código más mantenible y dry
Detalles: total_items: 5 | code_items: 1 | spanish_items: 3 | english_items: 1
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | python @api.model def get_certificates(self, company=none): if not company: company = self.env.user.company_id aeat_certificates = self.search([ ("company_id", "=", company.id), ("public_key", "!=", false), ("private_key", "!=", false), "|", ("date_start", "=", false), ("date_start", "<=", fields.date.today()), "|", ("date_end", "=", false), ("date_end", ">=", fields.date.today()), ("state", "=", "active"), ]) if aeat_certificates: # acumular archivos faltantes missing_files = [] for aeat_certificate in aeat_certificates: public_crt = aeat_certificate.public_key private_key = aeat_certificate.private_key if not os.path.isfile(public_crt): missing_files.append(_("public certificate: %s") % public_crt) if not os.path.isfile(private_key): missing_files.append(_("private key: %s") % private_key) # validar una sola vez if missing_files: raise exceptions.usererror( _("error! the following certificate files were not found:\n%s") % "\n".join(missing_files) ) return ( aeat_certificates[0].public_key, aeat_certificates[0].private_key, ) else: # fallback a parámetros de configuración icp = self.env["ir.config_parameter"].sudo() public_crt = icp.get_param("l10n_es_aeat.public_key", false) private_key = icp.get_param("l10n_es_aeat.private_key", false) if not public_crt or not private_key: raise exceptions.usererror(_("error! there aren't certificates.")) # paths por defecto (instalaciones nuevas) default_paths = ( "/opt/certificates/publiccert.crt", "/opt/certificates/privatekey.pem", ) missing_files = [] if public_crt not in default_paths and not os.path.isfile(public_crt): missing_files.append(_("public certificate: %s") % public_crt) if private_key not in default_paths and not os.path.isfile(private_key): missing_files.append(_("private key: %s") % private_key) if missing_files: raise exceptions.usererror( _("error! the following certificate files were not found:\n%s\n\n" "please configure a valid certificate through " "settings > aeat > certificates") % "\n".join(missing_files) ) return public_crt, private_key
recomposed_text: gracias por el pr! pulgar hacia arriba siguiendo el feedback de @pedrobaeza, aquí va una propuesta de refactorización que acumula los paths y los valida una sola vez: **ventajas de este enfoque:** - botón de marca de verificación el usuario ve **todos** los archivos faltantes de una vez (mejor ux) - botón de marca de verificación evita múltiples `raise` dispersos - botón de marca de verificación código más mantenible y dry
__Recursividad__
text | es | gracias por el pr!
text | es | pulgar hacia arriba siguiendo el feedback de @pedrobaeza, aquí va una propuesta de refactorización que acumula los paths y los valida una sola vez: **ventajas de este enfoque:** - botón de marca de verificación el usuario ve **todos** los archivos faltantes de una vez (mejor ux) - botón de marca de verificación evita múltiples `raise` dispersos - botón de marca de verificación código más mantenible y dry
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: gracias por el pr! pulgar hacia arriba siguiendo el feedback de @pedrobaeza, aquí va una propuesta de refactorización que acumula los paths y los valida una sola vez: **ventajas de este enfoque:** - botón de marca de verificación el usuario ve **todos** los archivos faltantes de una vez (mejor ux) - botón de marca de verificación evita múltiples `raise` dispersos - botón de marca de verificación código más mantenible y dry

__Corrector Ortográfico__2026-02-09T14:14:30.409269
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.428076 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
text | en | hey, thanks for contributing!
text | en | proceeding to merge this for you.
code | code | prepared branch [18.0-ocabot-merge-pr-4705-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4705-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at a4ff6c54d1f80c3284fdc94228710a5f196db037.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 8 | code_items: 3 | spanish_items: 1 | english_items: 4
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: text | en | hey, thanks for contributing!
Dato borrado: text | en | proceeding to merge this for you.
Dato borrado: code | code | prepared branch [18.0-ocabot-merge-pr-4705-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4705-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at a4ff6c54d1f80c3284fdc94228710a5f196db037.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:30.428076
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.444544 UTC
text | en | hola @pedrobaeza, @victoralmau,
some modules you are maintaining are being modified, check this out! .
code | code | on my way to merge this fine pr!
prepared branch [18.0-ocabot-merge-pr-4704-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4704-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 18.0-ocabot-merge-pr-4704-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/ad0fd5a3581e1b26937dfb0fcbd93a06d1074b36).
text | en | after fixing the problem, you can re-issue a merge command.
code | code | please refrain from merging manually as it will most probably make the target branch red.
code | code | .
text | es | /ocabot merge patch .
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [18.0-ocabot-merge-pr-4704-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4704-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 18.0-ocabot-merge-pr-4704-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/9d2f4cb0b643e83136f6c430d0ba02b2412863f6).
text | en | after fixing the problem, you can re-issue a merge command.
code | code | please refrain from merging manually as it will most probably make the target branch red.
code | code | .
text | es | hice rebase para reiniciar los tests.
text | es | @pedrobaeza puedes intentar fusionar de nuevo? .
text | es | /ocabot merge patch .
code | code | this pr looks fantastic, let's merge it!
prepared branch [18.0-ocabot-merge-pr-4704-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4704-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 18.0-ocabot-merge-pr-4704-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/ad803b8cfc4f88662195aab5518215738ecf37fe).
text | en | after fixing the problem, you can re-issue a merge command.
code | code | please refrain from merging manually as it will most probably make the target branch red.
code | code | .
text | es | /ocabot merge patch .
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [18.0-ocabot-merge-pr-4704-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4704-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 5e90b6f39949e32d5089f2ce5436767f6ea5ebb4.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 31 | code_items: 18 | spanish_items: 6 | english_items: 7
Dato borrado: text | en | hola @pedrobaeza, @victoralmau,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | on my way to merge this fine pr!
prepared branch [18.0-ocabot-merge-pr-4704-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4704-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 18.0-ocabot-merge-pr-4704-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/ad0fd5a3581e1b26937dfb0fcbd93a06d1074b36).
Dato borrado: text | en | after fixing the problem, you can re-issue a merge command.
Dato borrado: code | code | please refrain from merging manually as it will most probably make the target branch red.
Dato borrado: code | code | .
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [18.0-ocabot-merge-pr-4704-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4704-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 18.0-ocabot-merge-pr-4704-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/9d2f4cb0b643e83136f6c430d0ba02b2412863f6).
Dato borrado: text | en | after fixing the problem, you can re-issue a merge command.
Dato borrado: code | code | please refrain from merging manually as it will most probably make the target branch red.
Dato borrado: code | code | .
Dato borrado: code | code | this pr looks fantastic, let's merge it!
prepared branch [18.0-ocabot-merge-pr-4704-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4704-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 18.0-ocabot-merge-pr-4704-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/ad803b8cfc4f88662195aab5518215738ecf37fe).
Dato borrado: text | en | after fixing the problem, you can re-issue a merge command.
Dato borrado: code | code | please refrain from merging manually as it will most probably make the target branch red.
Dato borrado: code | code | .
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [18.0-ocabot-merge-pr-4704-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4704-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 5e90b6f39949e32d5089f2ce5436767f6ea5ebb4.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: /ocabot merge patch . hice rebase para reiniciar los tests. @pedrobaeza puedes intentar fusionar de nuevo? . /ocabot merge patch . /ocabot merge patch . corazón rojo
__Recursividad__
text | es | /ocabot merge patch .
text | es | hice rebase para reiniciar los tests.
text | es | @pedrobaeza puedes intentar fusionar de nuevo? .
text | es | /ocabot merge patch .
text | es | /ocabot merge patch .
text | es | corazón rojo
Detalles: total_items: 6 | code_items: 0 | spanish_items: 6 | english_items: 0
recomposed_text: /ocabot merge patch . hice rebase para reiniciar los tests. @pedrobaeza puedes intentar fusionar de nuevo? . /ocabot merge patch . /ocabot merge patch . corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:30.444544
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.469237 UTC
text | en | hola @hildickethan,
some modules you are maintaining are being modified, check this out! .
text | en | @hildickethan can you merge this pr?
text | en | it's the same than #4210 , #4209 and #4208 .
text | en | ideally wouldnt merge with failed tests but it looks unrelated so should be ok /ocabot merge patch .
code | code | this pr looks fantastic, let's merge it!
prepared branch [15.0-ocabot-merge-pr-4703-by-hildickethan-bump-patch](https://github.com/oca/l10n-spain/commits/15.0-ocabot-merge-pr-4703-by-hildickethan-bump-patch), awaiting test results.
code | code | .
text | es | el bot no lo va a fusionar si está en rojo.
text | es | dará error.
code | code | .
code | code | tenia esperanzas de que era algo puntual de conexión, pero si falla entiendo que habría que hacer backport de estos cambios que refactorizan los tests y asumo que arreglan el problema https://github.com/oca/l10n-spain/pull/4548 .
code | code | @hildickethan your merge command was aborted due to failed check(s), which you can inspect on [this commit of 15.0-ocabot-merge-pr-4703-by-hildickethan-bump-patch](https://github.com/oca/l10n-spain/commits/c1ea7ce283918d6a61edb96fa5150e5eb5f103df).
text | en | after fixing the problem, you can re-issue a merge command.
code | code | please refrain from merging manually as it will most probably make the target branch red.
code | code | .
code | code | @mariancuadranetkia fallan los tests por algo del módulo de verifactu <img width="1253" height="168" alt="imagen" src="https://github.com/user-attachments/assets/0fe71869-043a-4786-8c59-70aa5ffab96d" /> no pasa en las otras versiones por lo tanto seguramente será algo que habrá que hacer backport .
text | es | @hildickethan he estado revisando, pero de momento no he tenido mucho éxito.
text | es | he probado incluso comparando con versiones más nuevas, pero aún no he dado con 'la tecla'.
text | es | hasta el jueves no podré volver a mirarlo, pero lo volveré a revisar por si tuviera más suerte.
text | es | gracias a ambos! .
code | code | generado pr #4730 .
text | es | /ocabot merge patch .
code | code | on my way to merge this fine pr!
prepared branch [15.0-ocabot-merge-pr-4703-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/15.0-ocabot-merge-pr-4703-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 6cd80df98bb766d4c7d92b0938ee899c43afe8b4.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo .
text | es | @mariancuadranetkia no hacía falta rebase en este caso, porque el bot ya lo hace, y como has hecho push después de lanzar el comando, ahora esto consta como closed en lugar de merged.
text | es | en cualquier caso, está fusionado.
code | code | .
text | es | @pedrobaeza pensé que sería necesario y por eso lo hice, pero a la siguiente vez me aseguraré antes revisando o incluso preguntando si tal.
text | es | muchas gracias!
Detalles: total_items: 31 | code_items: 13 | spanish_items: 12 | english_items: 6
Dato borrado: text | en | hola @hildickethan,
some modules you are maintaining are being modified, check this out! .
Dato borrado: text | en | @hildickethan can you merge this pr?
Dato borrado: text | en | it's the same than #4210 , #4209 and #4208 .
Dato borrado: text | en | ideally wouldnt merge with failed tests but it looks unrelated so should be ok /ocabot merge patch .
Dato borrado: code | code | this pr looks fantastic, let's merge it!
prepared branch [15.0-ocabot-merge-pr-4703-by-hildickethan-bump-patch](https://github.com/oca/l10n-spain/commits/15.0-ocabot-merge-pr-4703-by-hildickethan-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | tenia esperanzas de que era algo puntual de conexión, pero si falla entiendo que habría que hacer backport de estos cambios que refactorizan los tests y asumo que arreglan el problema https://github.com/oca/l10n-spain/pull/4548 .
Dato borrado: code | code | @hildickethan your merge command was aborted due to failed check(s), which you can inspect on [this commit of 15.0-ocabot-merge-pr-4703-by-hildickethan-bump-patch](https://github.com/oca/l10n-spain/commits/c1ea7ce283918d6a61edb96fa5150e5eb5f103df).
Dato borrado: text | en | after fixing the problem, you can re-issue a merge command.
Dato borrado: code | code | please refrain from merging manually as it will most probably make the target branch red.
Dato borrado: code | code | .
Dato borrado: code | code | @mariancuadranetkia fallan los tests por algo del módulo de verifactu <img width="1253" height="168" alt="imagen" src="https://github.com/user-attachments/assets/0fe71869-043a-4786-8c59-70aa5ffab96d" /> no pasa en las otras versiones por lo tanto seguramente será algo que habrá que hacer backport .
Dato borrado: code | code | generado pr #4730 .
Dato borrado: code | code | on my way to merge this fine pr!
prepared branch [15.0-ocabot-merge-pr-4703-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/15.0-ocabot-merge-pr-4703-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 6cd80df98bb766d4c7d92b0938ee899c43afe8b4.
Dato borrado: text | en | thanks a lot for contributing to oca.
Dato borrado: code | code | .
recomposed_text: el bot no lo va a fusionar si está en rojo. dará error. @hildickethan he estado revisando, pero de momento no he tenido mucho éxito. he probado incluso comparando con versiones más nuevas, pero aún no he dado con 'la tecla'. hasta el jueves no podré volver a mirarlo, pero lo volveré a revisar por si tuviera más suerte. gracias a ambos! . /ocabot merge patch . corazón rojo . @mariancuadranetkia no hacía falta rebase en este caso, porque el bot ya lo hace, y como has hecho push después de lanzar el comando, ahora esto consta como closed en lugar de merged. en cualquier caso, está fusionado. @pedrobaeza pensé que sería necesario y por eso lo hice, pero a la siguiente vez me aseguraré antes revisando o incluso preguntando si tal. muchas gracias!
__Recursividad__
text | es | el bot no lo va a fusionar si está en rojo.
text | es | dará error.
text | es | @hildickethan he estado revisando, pero de momento no he tenido mucho éxito.
text | es | he probado incluso comparando con versiones más nuevas, pero aún no he dado con 'la tecla'.
text | es | hasta el jueves no podré volver a mirarlo, pero lo volveré a revisar por si tuviera más suerte.
text | es | gracias a ambos! .
text | es | /ocabot merge patch .
text | es | corazón rojo .
text | es | @mariancuadranetkia no hacía falta rebase en este caso, porque el bot ya lo hace, y como has hecho push después de lanzar el comando, ahora esto consta como closed en lugar de merged.
text | es | en cualquier caso, está fusionado.
text | es | @pedrobaeza pensé que sería necesario y por eso lo hice, pero a la siguiente vez me aseguraré antes revisando o incluso preguntando si tal.
text | es | muchas gracias!
Detalles: total_items: 12 | code_items: 0 | spanish_items: 12 | english_items: 0
recomposed_text: el bot no lo va a fusionar si está en rojo. dará error. @hildickethan he estado revisando, pero de momento no he tenido mucho éxito. he probado incluso comparando con versiones más nuevas, pero aún no he dado con 'la tecla'. hasta el jueves no podré volver a mirarlo, pero lo volveré a revisar por si tuviera más suerte. gracias a ambos! . /ocabot merge patch . corazón rojo . @mariancuadranetkia no hacía falta rebase en este caso, porque el bot ya lo hace, y como has hecho push después de lanzar el comando, ahora esto consta como closed en lugar de merged. en cualquier caso, está fusionado. @pedrobaeza pensé que sería necesario y por eso lo hice, pero a la siguiente vez me aseguraré antes revisando o incluso preguntando si tal. muchas gracias!

__Corrector Ortográfico__2026-02-09T14:14:30.469237
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.499236 UTC
code | code | waiting to merge this pull request: https://github.com/oca/l10n-spain/pull/4526
Detalles: total_items: 1 | code_items: 1 | spanish_items: 0 | english_items: 0
Dato borrado: code | code | waiting to merge this pull request: https://github.com/oca/l10n-spain/pull/4526
recomposed_text:
__Recursividad__
Detalles: total_items: 0 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text:

# Entrada procesada 2026-02-09T14:14:30.500398 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out!
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 1
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out!
recomposed_text:
__Recursividad__
Detalles: total_items: 0 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text:

__Corrector Ortográfico__2026-02-09T14:14:30.500398
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.503271 UTC
text | es | fusiono directamente para proceder a realizar las traducciones: /ocabot merge patch .
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [18.0-ocabot-merge-pr-4700-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4700-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 1ff183d041f2ed09e937e5b71819a83635f529da.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 7 | code_items: 3 | spanish_items: 2 | english_items: 2
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [18.0-ocabot-merge-pr-4700-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4700-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 1ff183d041f2ed09e937e5b71819a83635f529da.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: fusiono directamente para proceder a realizar las traducciones: /ocabot merge patch . corazón rojo
__Recursividad__
text | es | fusiono directamente para proceder a realizar las traducciones: /ocabot merge patch .
text | es | corazón rojo
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: fusiono directamente para proceder a realizar las traducciones: /ocabot merge patch . corazón rojo

# Entrada procesada 2026-02-09T14:14:30.514578 UTC
text | en | hola @christian-rb,
some modules you are maintaining are being modified, check this out! .
text | es | /ocabot merge patch .
code | code | this pr looks fantastic, let's merge it!
prepared branch [17.0-ocabot-merge-pr-4698-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4698-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 6bfe0a426fc873ec61a9d984076344c81c3a6bfe.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 7 | code_items: 3 | spanish_items: 2 | english_items: 2
Dato borrado: text | en | hola @christian-rb,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | this pr looks fantastic, let's merge it!
prepared branch [17.0-ocabot-merge-pr-4698-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4698-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 6bfe0a426fc873ec61a9d984076344c81c3a6bfe.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: /ocabot merge patch . corazón rojo
__Recursividad__
text | es | /ocabot merge patch .
text | es | corazón rojo
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: /ocabot merge patch . corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:30.514578
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.524368 UTC
text | en | hola @christian-rb,
some modules you are maintaining are being modified, check this out! .
text | es | /ocabot merge patch .
text | en | hey, thanks for contributing!
text | en | proceeding to merge this for you.
code | code | prepared branch [18.0-ocabot-merge-pr-4695-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4695-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at c8d89ad439e6793fa8618dd76710b08e80b6b962.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 9 | code_items: 3 | spanish_items: 2 | english_items: 4
Dato borrado: text | en | hola @christian-rb,
some modules you are maintaining are being modified, check this out! .
Dato borrado: text | en | hey, thanks for contributing!
Dato borrado: text | en | proceeding to merge this for you.
Dato borrado: code | code | prepared branch [18.0-ocabot-merge-pr-4695-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4695-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at c8d89ad439e6793fa8618dd76710b08e80b6b962.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: /ocabot merge patch . corazón rojo
__Recursividad__
text | es | /ocabot merge patch .
text | es | corazón rojo
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: /ocabot merge patch . corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:30.524368
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.534056 UTC
text | en | hola @christian-rb,
some modules you are maintaining are being modified, check this out! .
text | es | /ocabot merge patch .
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [18.0-ocabot-merge-pr-4694-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4694-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 5f07ac229231c2d309f7071dad13e1dd21392792.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 8 | code_items: 3 | spanish_items: 2 | english_items: 3
Dato borrado: text | en | hola @christian-rb,
some modules you are maintaining are being modified, check this out! .
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [18.0-ocabot-merge-pr-4694-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4694-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 5f07ac229231c2d309f7071dad13e1dd21392792.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: /ocabot merge patch . corazón rojo
__Recursividad__
text | es | /ocabot merge patch .
text | es | corazón rojo
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: /ocabot merge patch . corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:30.534056
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.543566 UTC
text | es | @haraldpanten @etobella y los demás usuarios del sii, qué os parece esta mejora? .
text | es | gracias pedro, te decimos algo en breve, para revisarlo con un poco más de detalle pulgar hacia arriba
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: @haraldpanten @etobella y los demás usuarios del sii, qué os parece esta mejora? . gracias pedro, te decimos algo en breve, para revisarlo con un poco más de detalle pulgar hacia arriba
__Recursividad__
text | es | @haraldpanten @etobella y los demás usuarios del sii, qué os parece esta mejora? .
text | es | gracias pedro, te decimos algo en breve, para revisarlo con un poco más de detalle pulgar hacia arriba
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: @haraldpanten @etobella y los demás usuarios del sii, qué os parece esta mejora? . gracias pedro, te decimos algo en breve, para revisarlo con un poco más de detalle pulgar hacia arriba

# Entrada procesada 2026-02-09T14:14:30.566806 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
code | code | this pr has the `approved` label and has been created more than 5 days ago.
text | en | it should therefore be ready to merge by a maintainer (or a psc member if the concerned addon has no declared maintainer).
text | und | robot .
text | es | me comentan que han podido presentar 4t con el formato antiguo.
text | es | ¿puede ser que la actualización solo sea para 2026? .
code | code | en diciembre sacan 2 diseños de registro uno para el último período de 2025 y otro para 2026 <img width="424" height="83" alt="image" src="https://github.com/user-attachments/assets/6d19f1b7-efcc-4182-aeb4-554217807fa9" /> <img width="689" height="171" alt="image" src="https://github.com/user-attachments/assets/09edcfeb-8f34-4ddc-8970-6b0c7da8d933" /> dentro especifica que el de 2026 (https://sede.agenciatributaria.gob.es/static_files/sede/disenyo_registro/dr_300_399/archivos_26/dr303e26.xlsx) es a partir de 2026 <img width="1029" height="42" alt="image" src="https://github.com/user-attachments/assets/b42f8546-b295-4b54-a481-63f9ff0b8b72" /> mientras que el del 2025 (https://sede.agenciatributaria.gob.es/static_files/sede/disenyo_registro/dr_300_399/archivos_25/dr303e25.xlsx) específica para el 2025 <img width="560" height="57" alt="image" src="https://github.com/user-attachments/assets/ccc91e3a-7555-4db9-87e0-0bcafbd6c3c4" /> nosotros hemos presentado los 303 con el formato nuevo del 2025 y en principio no está dando errores.
code | code | he estado mirando si eran compatibles porque a lo mejor alguna variables si no llevan nada, rellena con ceros que es uno de los cambios, pero me parece insalvable el cambio en las longitudes de la página 2 <img width="1059" height="553" alt="image" src="https://github.com/user-attachments/assets/59a5560c-15d7-4430-b7a6-b6258c95b8fa" /> puede que formato anterior del 2025 no haya quedado obsoleto.
text | es | es lo que tiene aeat que no es muy claro.
text | es | desde luego que este no es para 2026 .
text | es | acabo de probar a exportar con los dos formatos y subirlos al pre-portal de aeat con una declaración bastante completita, se ha tragado los 2 sin errores.
code | code | .
text | es | acabo de ver por que ha sido, la página 2 y 5 están omitidas y en la página 1 que es donde están los cambios de este pr si el año es mayor a 2024 siempre se pone "00000".
text | es | parece entonces que no hace falta crear una configuración para 2025 y se puede hacer con la que hay actualmente 2024-10.
text | es | cierro pr.
text | es | todavía quedaría pendiente hacer las adaptaciones para el 2026
Detalles: total_items: 16 | code_items: 4 | spanish_items: 9 | english_items: 2
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | this pr has the `approved` label and has been created more than 5 days ago.
Dato borrado: text | en | it should therefore be ready to merge by a maintainer (or a psc member if the concerned addon has no declared maintainer).
Dato borrado: code | code | en diciembre sacan 2 diseños de registro uno para el último período de 2025 y otro para 2026 <img width="424" height="83" alt="image" src="https://github.com/user-attachments/assets/6d19f1b7-efcc-4182-aeb4-554217807fa9" /> <img width="689" height="171" alt="image" src="https://github.com/user-attachments/assets/09edcfeb-8f34-4ddc-8970-6b0c7da8d933" /> dentro especifica que el de 2026 (https://sede.agenciatributaria.gob.es/static_files/sede/disenyo_registro/dr_300_399/archivos_26/dr303e26.xlsx) es a partir de 2026 <img width="1029" height="42" alt="image" src="https://github.com/user-attachments/assets/b42f8546-b295-4b54-a481-63f9ff0b8b72" /> mientras que el del 2025 (https://sede.agenciatributaria.gob.es/static_files/sede/disenyo_registro/dr_300_399/archivos_25/dr303e25.xlsx) específica para el 2025 <img width="560" height="57" alt="image" src="https://github.com/user-attachments/assets/ccc91e3a-7555-4db9-87e0-0bcafbd6c3c4" /> nosotros hemos presentado los 303 con el formato nuevo del 2025 y en principio no está dando errores.
Dato borrado: code | code | he estado mirando si eran compatibles porque a lo mejor alguna variables si no llevan nada, rellena con ceros que es uno de los cambios, pero me parece insalvable el cambio en las longitudes de la página 2 <img width="1059" height="553" alt="image" src="https://github.com/user-attachments/assets/59a5560c-15d7-4430-b7a6-b6258c95b8fa" /> puede que formato anterior del 2025 no haya quedado obsoleto.
Dato borrado: code | code | .
recomposed_text: robot . me comentan que han podido presentar 4t con el formato antiguo. ¿puede ser que la actualización solo sea para 2026? . es lo que tiene aeat que no es muy claro. desde luego que este no es para 2026 . acabo de probar a exportar con los dos formatos y subirlos al pre-portal de aeat con una declaración bastante completita, se ha tragado los 2 sin errores. acabo de ver por que ha sido, la página 2 y 5 están omitidas y en la página 1 que es donde están los cambios de este pr si el año es mayor a 2024 siempre se pone "00000". parece entonces que no hace falta crear una configuración para 2025 y se puede hacer con la que hay actualmente 2024-10. cierro pr. todavía quedaría pendiente hacer las adaptaciones para el 2026
__Recursividad__
text | und | robot .
text | es | me comentan que han podido presentar 4t con el formato antiguo.
text | es | ¿puede ser que la actualización solo sea para 2026? .
text | es | es lo que tiene aeat que no es muy claro.
text | es | desde luego que este no es para 2026 .
text | es | acabo de probar a exportar con los dos formatos y subirlos al pre-portal de aeat con una declaración bastante completita, se ha tragado los 2 sin errores.
text | es | acabo de ver por que ha sido, la página 2 y 5 están omitidas y en la página 1 que es donde están los cambios de este pr si el año es mayor a 2024 siempre se pone "00000".
text | es | parece entonces que no hace falta crear una configuración para 2025 y se puede hacer con la que hay actualmente 2024-10.
text | es | cierro pr.
text | es | todavía quedaría pendiente hacer las adaptaciones para el 2026
Detalles: total_items: 10 | code_items: 0 | spanish_items: 9 | english_items: 0
Dato borrado: text | und | robot .
recomposed_text: me comentan que han podido presentar 4t con el formato antiguo. ¿puede ser que la actualización solo sea para 2026? . es lo que tiene aeat que no es muy claro. desde luego que este no es para 2026 . acabo de probar a exportar con los dos formatos y subirlos al pre-portal de aeat con una declaración bastante completita, se ha tragado los 2 sin errores. acabo de ver por que ha sido, la página 2 y 5 están omitidas y en la página 1 que es donde están los cambios de este pr si el año es mayor a 2024 siempre se pone "00000". parece entonces que no hace falta crear una configuración para 2025 y se puede hacer con la que hay actualmente 2024-10. cierro pr. todavía quedaría pendiente hacer las adaptaciones para el 2026

__Corrector Ortográfico__2026-02-09T14:14:30.566806
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.601014 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
code | code | this pr has the `approved` label and has been created more than 5 days ago.
text | en | it should therefore be ready to merge by a maintainer (or a psc member if the concerned addon has no declared maintainer).
text | und | robot .
text | en | hey, thanks for contributing!
text | en | proceeding to merge this for you.
code | code | prepared branch [18.0-ocabot-merge-pr-4690-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4690-by-pedrobaeza-bump-minor), awaiting test results.
code | code | .
text | es | > técnicamente tiene buena pinta.
text | es | ya es probarlo en casos reales a ver si sale algún problema, pero eso se puede hacer en prs posteriores.
text | es | hemos probado todo lo que hemos podido en el pre-portal de aeat y ya hemos subido bastantes a producción sin error.
code | code | .
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
code | code | congratulations, your pr was merged at e58fd456002db3847e57ba475c9bc0728b8ce6b6.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 16 | code_items: 5 | spanish_items: 4 | english_items: 6
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | this pr has the `approved` label and has been created more than 5 days ago.
Dato borrado: text | en | it should therefore be ready to merge by a maintainer (or a psc member if the concerned addon has no declared maintainer).
Dato borrado: text | en | hey, thanks for contributing!
Dato borrado: text | en | proceeding to merge this for you.
Dato borrado: code | code | prepared branch [18.0-ocabot-merge-pr-4690-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4690-by-pedrobaeza-bump-minor), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | congratulations, your pr was merged at e58fd456002db3847e57ba475c9bc0728b8ce6b6.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: robot . > técnicamente tiene buena pinta. ya es probarlo en casos reales a ver si sale algún problema, pero eso se puede hacer en prs posteriores. hemos probado todo lo que hemos podido en el pre-portal de aeat y ya hemos subido bastantes a producción sin error. corazón rojo
__Recursividad__
text | und | robot .
text | es | > técnicamente tiene buena pinta.
text | es | ya es probarlo en casos reales a ver si sale algún problema, pero eso se puede hacer en prs posteriores.
text | es | hemos probado todo lo que hemos podido en el pre-portal de aeat y ya hemos subido bastantes a producción sin error.
text | es | corazón rojo
Detalles: total_items: 5 | code_items: 0 | spanish_items: 4 | english_items: 0
Dato borrado: text | und | robot .
recomposed_text: > técnicamente tiene buena pinta. ya es probarlo en casos reales a ver si sale algún problema, pero eso se puede hacer en prs posteriores. hemos probado todo lo que hemos podido en el pre-portal de aeat y ya hemos subido bastantes a producción sin error. corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:30.601014
'hi' se corrige por 'hola'
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.617701 UTC
text | en | hola @hildickethan,
some modules you are maintaining are being modified, check this out! .
code | code | on my way to merge this fine pr!
prepared branch [18.0-ocabot-merge-pr-4689-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4689-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 31e1f31340496abc952a071f94949a79d4b8873e.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 6 | code_items: 3 | spanish_items: 1 | english_items: 2
Dato borrado: text | en | hola @hildickethan,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | on my way to merge this fine pr!
prepared branch [18.0-ocabot-merge-pr-4689-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4689-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 31e1f31340496abc952a071f94949a79d4b8873e.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:30.617701
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.628032 UTC
text | en | hey, thanks for contributing!
text | en | proceeding to merge this for you.
code | code | prepared branch [17.0-ocabot-merge-pr-4687-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4687-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 17.0-ocabot-merge-pr-4687-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/9f2e1a82959ab3a44abdf467b4258b229caf1dc8).
text | en | after fixing the problem, you can re-issue a merge command.
code | code | please refrain from merging manually as it will most probably make the target branch red.
code | code | .
text | es | /ocabot merge patch .
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [17.0-ocabot-merge-pr-4687-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4687-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 516c0d00c7141e38648441f27faf8b5b9ebd3da3.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 15 | code_items: 8 | spanish_items: 2 | english_items: 5
Dato borrado: text | en | hey, thanks for contributing!
Dato borrado: text | en | proceeding to merge this for you.
Dato borrado: code | code | prepared branch [17.0-ocabot-merge-pr-4687-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4687-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 17.0-ocabot-merge-pr-4687-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/9f2e1a82959ab3a44abdf467b4258b229caf1dc8).
Dato borrado: text | en | after fixing the problem, you can re-issue a merge command.
Dato borrado: code | code | please refrain from merging manually as it will most probably make the target branch red.
Dato borrado: code | code | .
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [17.0-ocabot-merge-pr-4687-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4687-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 516c0d00c7141e38648441f27faf8b5b9ebd3da3.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: /ocabot merge patch . corazón rojo
__Recursividad__
text | es | /ocabot merge patch .
text | es | corazón rojo
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: /ocabot merge patch . corazón rojo

# Entrada procesada 2026-02-09T14:14:30.646038 UTC
text | en | hola @hildickethan,
some modules you are maintaining are being modified, check this out! .
text | es | > entiendo que ocurriría lo mismo si usas la función de `gls_asm_send_pickup` sin que sea de tipo pickup pero como ese proceso es manual y el botón no sale si no es del tipo correcto, ese caso no debería ser un problema sí, estoy de acuerdo, crees que deberíamos poner el `usererror` en lugar del `continue`, para ser coherentes? .
text | es | > sí, estoy de acuerdo, crees que deberíamos poner el `usererror` en lugar del `continue`, para ser coherentes?
text | es | si tienes tiempo estaría bien, por coherencia más que otra cosa y vendría bien si algun dia se ejecuta por código en lugar del botón .
text | es | > > sí, estoy de acuerdo, crees que deberíamos poner el `usererror` en lugar del `continue`, para ser coherentes?
text | es | > > si tienes tiempo estaría bien, por coherencia más que otra cosa y vendría bien si algun dia se ejecuta por código en lugar del botón okay!
text | es | ahora he añadido esta parte .
code | code | on my way to merge this fine pr!
prepared branch [18.0-ocabot-merge-pr-4686-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4686-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 6309db228e2244365fec56824471fd8fc4102758.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 12 | code_items: 3 | spanish_items: 7 | english_items: 2
Dato borrado: text | en | hola @hildickethan,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | on my way to merge this fine pr!
prepared branch [18.0-ocabot-merge-pr-4686-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4686-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 6309db228e2244365fec56824471fd8fc4102758.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: > entiendo que ocurriría lo mismo si usas la función de `gls_asm_send_pickup` sin que sea de tipo pickup pero como ese proceso es manual y el botón no sale si no es del tipo correcto, ese caso no debería ser un problema sí, estoy de acuerdo, crees que deberíamos poner el `usererror` en lugar del `continue`, para ser coherentes? . > sí, estoy de acuerdo, crees que deberíamos poner el `usererror` en lugar del `continue`, para ser coherentes? si tienes tiempo estaría bien, por coherencia más que otra cosa y vendría bien si algun dia se ejecuta por código en lugar del botón . > > sí, estoy de acuerdo, crees que deberíamos poner el `usererror` en lugar del `continue`, para ser coherentes? > > si tienes tiempo estaría bien, por coherencia más que otra cosa y vendría bien si algun dia se ejecuta por código en lugar del botón okay! ahora he añadido esta parte . corazón rojo
__Recursividad__
text | es | > entiendo que ocurriría lo mismo si usas la función de `gls_asm_send_pickup` sin que sea de tipo pickup pero como ese proceso es manual y el botón no sale si no es del tipo correcto, ese caso no debería ser un problema sí, estoy de acuerdo, crees que deberíamos poner el `usererror` en lugar del `continue`, para ser coherentes? .
text | es | > sí, estoy de acuerdo, crees que deberíamos poner el `usererror` en lugar del `continue`, para ser coherentes?
text | es | si tienes tiempo estaría bien, por coherencia más que otra cosa y vendría bien si algun dia se ejecuta por código en lugar del botón .
text | es | > > sí, estoy de acuerdo, crees que deberíamos poner el `usererror` en lugar del `continue`, para ser coherentes?
text | es | > > si tienes tiempo estaría bien, por coherencia más que otra cosa y vendría bien si algun dia se ejecuta por código en lugar del botón okay!
text | es | ahora he añadido esta parte .
text | es | corazón rojo
Detalles: total_items: 7 | code_items: 0 | spanish_items: 7 | english_items: 0
recomposed_text: > entiendo que ocurriría lo mismo si usas la función de `gls_asm_send_pickup` sin que sea de tipo pickup pero como ese proceso es manual y el botón no sale si no es del tipo correcto, ese caso no debería ser un problema sí, estoy de acuerdo, crees que deberíamos poner el `usererror` en lugar del `continue`, para ser coherentes? . > sí, estoy de acuerdo, crees que deberíamos poner el `usererror` en lugar del `continue`, para ser coherentes? si tienes tiempo estaría bien, por coherencia más que otra cosa y vendría bien si algun dia se ejecuta por código en lugar del botón . > > sí, estoy de acuerdo, crees que deberíamos poner el `usererror` en lugar del `continue`, para ser coherentes? > > si tienes tiempo estaría bien, por coherencia más que otra cosa y vendría bien si algun dia se ejecuta por código en lugar del botón okay! ahora he añadido esta parte . corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:30.646038
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.677169 UTC
text | en | @jaimermaccione fixed, could you please check again?
text | und | thanks .
text | en | @haraldpanten this pr has passed functional and technical review.
text | en | could you please review and merge it?
text | und | thanks .
code | code | on my way to merge this fine pr!
prepared branch [16.0-ocabot-merge-pr-4684-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4684-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at dfb5e3fb2a006eb6a7cd9f36e530ba77a21fcb45.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 10 | code_items: 3 | spanish_items: 1 | english_items: 4
Dato borrado: text | en | @jaimermaccione fixed, could you please check again?
Dato borrado: text | en | @haraldpanten this pr has passed functional and technical review.
Dato borrado: text | en | could you please review and merge it?
Dato borrado: code | code | on my way to merge this fine pr!
prepared branch [16.0-ocabot-merge-pr-4684-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4684-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at dfb5e3fb2a006eb6a7cd9f36e530ba77a21fcb45.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: thanks . thanks . corazón rojo
__Recursividad__
text | und | thanks .
text | und | thanks .
text | es | corazón rojo
Detalles: total_items: 3 | code_items: 0 | spanish_items: 1 | english_items: 0
Dato borrado: text | und | thanks .
Dato borrado: text | und | thanks .
recomposed_text: corazón rojo

# Entrada procesada 2026-02-09T14:14:30.687202 UTC
text | en | hola @carlos-lopez-tecnativa,
some modules you are maintaining are being modified, check this out! .
text | en | hey, thanks for contributing!
text | en | proceeding to merge this for you.
code | code | prepared branch [17.0-ocabot-merge-pr-4683-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4683-by-pedrobaeza-bump-minor), awaiting test results.
code | code | .
text | es | ciertamente, para mi tampoco tiene sentido...
code | code | .
code | code | congratulations, your pr was merged at 446cd1a464862e154424ae21a9acea9d145ee062.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 10 | code_items: 4 | spanish_items: 2 | english_items: 4
Dato borrado: text | en | hola @carlos-lopez-tecnativa,
some modules you are maintaining are being modified, check this out! .
Dato borrado: text | en | hey, thanks for contributing!
Dato borrado: text | en | proceeding to merge this for you.
Dato borrado: code | code | prepared branch [17.0-ocabot-merge-pr-4683-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4683-by-pedrobaeza-bump-minor), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 446cd1a464862e154424ae21a9acea9d145ee062.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: ciertamente, para mi tampoco tiene sentido... corazón rojo
__Recursividad__
text | es | ciertamente, para mi tampoco tiene sentido...
text | es | corazón rojo
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: ciertamente, para mi tampoco tiene sentido... corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:30.687202
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.698099 UTC
text | en | hola @ao-landoo,
some modules you are maintaining are being modified, check this out! .
text | es | @luciaavanzosc estoy trabajando en algunos issues en un cliente y veo que hemos enfrentado problemas comunes.
text | es | en este caso en particular me pregunto desde el punto de vista del diseño ¿es valido que l10n_es_unique_id no tenga ningún valor?
text | und | @bilbonet
Detalles: total_items: 4 | code_items: 0 | spanish_items: 2 | english_items: 1
Dato borrado: text | en | hola @ao-landoo,
some modules you are maintaining are being modified, check this out! .
recomposed_text: @luciaavanzosc estoy trabajando en algunos issues en un cliente y veo que hemos enfrentado problemas comunes. en este caso en particular me pregunto desde el punto de vista del diseño ¿es valido que l10n_es_unique_id no tenga ningún valor? @bilbonet
__Recursividad__
text | es | @luciaavanzosc estoy trabajando en algunos issues en un cliente y veo que hemos enfrentado problemas comunes.
text | es | en este caso en particular me pregunto desde el punto de vista del diseño ¿es valido que l10n_es_unique_id no tenga ningún valor?
text | und | @bilbonet
Detalles: total_items: 3 | code_items: 0 | spanish_items: 2 | english_items: 0
Dato borrado: text | und | @bilbonet
recomposed_text: @luciaavanzosc estoy trabajando en algunos issues en un cliente y veo que hemos enfrentado problemas comunes. en este caso en particular me pregunto desde el punto de vista del diseño ¿es valido que l10n_es_unique_id no tenga ningún valor?

__Corrector Ortográfico__2026-02-09T14:14:30.698099
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.737160 UTC
text | en | hola @ao-landoo,
some modules you are maintaining are being modified, check this out! .
text | es | @bilbonet ¿podrías echarle un ojo a esto? ¿
text | es | reproducirlo en runboat tal vez? .
text | es | el segundo commit de este pr tiene como objetivo corregir este error:
code | code | tbai_datas traceback (most recent call last): file "/opt/odoo-server/odoo/http.py", line 1823, in _serve_db return service_model.retrying(self._serve_ir_http, self.env) ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ file "/opt/odoo-server/odoo/service/model.py", line 152, in retrying result = func() ^^^^^^ file "/opt/odoo-server/odoo/http.py", line 1851, in _serve_ir_http response = self.dispatcher.dispatch(rule.endpoint, args) ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ file "/opt/odoo-server/odoo/http.py", line 2055, in dispatch result = self.request.registry['ir.http']._dispatch(endpoint) ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ file "/opt/odoo-server/odoo/addons/base/models/ir_http.py", line 154, in _dispatch result = endpoint(**request.params) ^^^^^^^^^^^^^^^^^^^^^^^^^^ file "/opt/odoo-server/odoo/http.py", line 763, in route_wrapper result = endpoint(self, *args, **params_ok) ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ file "/opt/odoo-server/addons/web/controllers/dataset.py", line 43, in call_kw return self._call_kw(model, method, args, kwargs) ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ file "/opt/odoo-server/addons/web/controllers/dataset.py", line 34, in _call_kw return call_kw(model, method, args, kwargs) ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ file "/opt/odoo-server/odoo/api.py", line 480, in call_kw result = _call_kw_model(method, model, args, kwargs) ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ file "/opt/odoo-server/odoo/api.py", line 451, in _call_kw_model result = method(recs, *args, **kwargs) ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ file "/opt/odoo-server/addons/point_of_sale/models/pos_order.py", line 939, in create_from_ui order_ids.append(self._process_order(order, draft, false)) ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ file "/opt/odoo-server/extra_addons/oca/l10n-spain/l10n_es_ticketbai_pos/models/pos_order.py", line 201, in _process_order vals = order.tbai_prepare_invoice_values(pos_order) ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ file "/opt/odoo-server/extra_addons/oca/l10n-spain/l10n_es_ticketbai_pos/models/pos_order.py", line 107, in tbai_prepare_invoice_values datas = base64.b64encode(order_data["tbai_datas"].encode("utf-8")) ~~~~~~~~~~^^^^^^^^^^^^^^ keyerror: 'tbai_datas'
text | es | **posible causa principal:** probablemente se debía a una condición de carrera en el código javascript y/o a una interrupción en la cadena de promesas y/o a excepciones ocultas durante el proceso de generación de facturas simplificadas.
text | es | este problema fue particularmente difícil de abordar debido a su naturaleza intermitente, ya que ocurre de forma aleatoria y parece estar relacionado con latencias de red u otros factores de sincronización.
code | code | .
text | es | buenas @rrebollo a que te refieres con activar "régimen simplificado" en el pos?
text | es | en la configuración de la compañía si veo el check en el apartado ticketbai, pero en el pos no lo veo.
code | code | .
text | es | > a que te refieres con activar "régimen simplificado" en el pos?
text | es | en la configuración de la compañía si veo el check en el apartado ticketbai, pero en el pos no lo veo.
code | code | a esto: <img width="1354" height="819" alt="image" src="https://github.com/user-attachments/assets/b72b5282-49fa-4ca9-acf8-a6321768f7b5" /> .
text | es | sobre la discrepancia entre el valor de `to_invoice` como option y el que figura en el json de pos order, entiendo que puede tratarse de una variación en el código que no se manejó previamente.
text | es | todas las pruebas de la función `create_from_ui` de `pos.order` —que simulan la llamada desde el servicio rpc de javascript— pasan el mismo valor tanto en el option como en el json de pos order; normalmente asignan el mismo parámetro.
text | es | adicionalmente, al realizar pruebas en un entorno runbot ([runbot.com](https://runbot.com/)) con una versión vanilla de odoo 16 ce, observé que, aunque en la interfaz del pos se seleccione la opción “facturar”, el valor de `to_invoice` en options permanece en `false`.
text | es | dada esta situación, el enfoque adoptado en este pr para resolver el problema resulta legítimo y adecuado.
code | code | .
text | es | estoy trabajando en un set de pruebas js .
text | es | /ocabot merge patch .
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [16.0-ocabot-merge-pr-4679-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4679-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | this pr has the `approved` label and has been created more than 5 days ago.
text | en | it should therefore be ready to merge by a maintainer (or a psc member if the concerned addon has no declared maintainer).
text | und | robot .
text | es | /ocabot merge patch .
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [16.0-ocabot-merge-pr-4679-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4679-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at c2bca315ce4639d63faa0c2b788fcf8215cf93ab.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 34 | code_items: 11 | spanish_items: 17 | english_items: 5
Dato borrado: text | en | hola @ao-landoo,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | tbai_datas traceback (most recent call last): file "/opt/odoo-server/odoo/http.py", line 1823, in _serve_db return service_model.retrying(self._serve_ir_http, self.env) ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ file "/opt/odoo-server/odoo/service/model.py", line 152, in retrying result = func() ^^^^^^ file "/opt/odoo-server/odoo/http.py", line 1851, in _serve_ir_http response = self.dispatcher.dispatch(rule.endpoint, args) ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ file "/opt/odoo-server/odoo/http.py", line 2055, in dispatch result = self.request.registry['ir.http']._dispatch(endpoint) ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ file "/opt/odoo-server/odoo/addons/base/models/ir_http.py", line 154, in _dispatch result = endpoint(**request.params) ^^^^^^^^^^^^^^^^^^^^^^^^^^ file "/opt/odoo-server/odoo/http.py", line 763, in route_wrapper result = endpoint(self, *args, **params_ok) ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ file "/opt/odoo-server/addons/web/controllers/dataset.py", line 43, in call_kw return self._call_kw(model, method, args, kwargs) ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ file "/opt/odoo-server/addons/web/controllers/dataset.py", line 34, in _call_kw return call_kw(model, method, args, kwargs) ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ file "/opt/odoo-server/odoo/api.py", line 480, in call_kw result = _call_kw_model(method, model, args, kwargs) ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ file "/opt/odoo-server/odoo/api.py", line 451, in _call_kw_model result = method(recs, *args, **kwargs) ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ file "/opt/odoo-server/addons/point_of_sale/models/pos_order.py", line 939, in create_from_ui order_ids.append(self._process_order(order, draft, false)) ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ file "/opt/odoo-server/extra_addons/oca/l10n-spain/l10n_es_ticketbai_pos/models/pos_order.py", line 201, in _process_order vals = order.tbai_prepare_invoice_values(pos_order) ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ file "/opt/odoo-server/extra_addons/oca/l10n-spain/l10n_es_ticketbai_pos/models/pos_order.py", line 107, in tbai_prepare_invoice_values datas = base64.b64encode(order_data["tbai_datas"].encode("utf-8")) ~~~~~~~~~~^^^^^^^^^^^^^^ keyerror: 'tbai_datas'
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | a esto: <img width="1354" height="819" alt="image" src="https://github.com/user-attachments/assets/b72b5282-49fa-4ca9-acf8-a6321768f7b5" /> .
Dato borrado: code | code | .
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [16.0-ocabot-merge-pr-4679-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4679-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | this pr has the `approved` label and has been created more than 5 days ago.
Dato borrado: text | en | it should therefore be ready to merge by a maintainer (or a psc member if the concerned addon has no declared maintainer).
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [16.0-ocabot-merge-pr-4679-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4679-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at c2bca315ce4639d63faa0c2b788fcf8215cf93ab.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: @bilbonet ¿podrías echarle un ojo a esto? ¿ reproducirlo en runboat tal vez? . el segundo commit de este pr tiene como objetivo corregir este error: **posible causa principal:** probablemente se debía a una condición de carrera en el código javascript y/o a una interrupción en la cadena de promesas y/o a excepciones ocultas durante el proceso de generación de facturas simplificadas. este problema fue particularmente difícil de abordar debido a su naturaleza intermitente, ya que ocurre de forma aleatoria y parece estar relacionado con latencias de red u otros factores de sincronización. buenas @rrebollo a que te refieres con activar "régimen simplificado" en el pos? en la configuración de la compañía si veo el check en el apartado ticketbai, pero en el pos no lo veo. > a que te refieres con activar "régimen simplificado" en el pos? en la configuración de la compañía si veo el check en el apartado ticketbai, pero en el pos no lo veo. sobre la discrepancia entre el valor de `to_invoice` como option y el que figura en el json de pos order, entiendo que puede tratarse de una variación en el código que no se manejó previamente. todas las pruebas de la función `create_from_ui` de `pos.order` —que simulan la llamada desde el servicio rpc de javascript— pasan el mismo valor tanto en el option como en el json de pos order; normalmente asignan el mismo parámetro. adicionalmente, al realizar pruebas en un entorno runbot ([runbot.com](https://runbot.com/)) con una versión vanilla de odoo 16 ce, observé que, aunque en la interfaz del pos se seleccione la opción “facturar”, el valor de `to_invoice` en options permanece en `false`. dada esta situación, el enfoque adoptado en este pr para resolver el problema resulta legítimo y adecuado. estoy trabajando en un set de pruebas js . /ocabot merge patch . robot . /ocabot merge patch . corazón rojo
__Recursividad__
text | es | @bilbonet ¿podrías echarle un ojo a esto? ¿
text | es | reproducirlo en runboat tal vez? .
text | es | el segundo commit de este pr tiene como objetivo corregir este error: **posible causa principal:** probablemente se debía a una condición de carrera en el código javascript y/o a una interrupción en la cadena de promesas y/o a excepciones ocultas durante el proceso de generación de facturas simplificadas.
text | es | este problema fue particularmente difícil de abordar debido a su naturaleza intermitente, ya que ocurre de forma aleatoria y parece estar relacionado con latencias de red u otros factores de sincronización.
text | es | buenas @rrebollo a que te refieres con activar "régimen simplificado" en el pos?
text | es | en la configuración de la compañía si veo el check en el apartado ticketbai, pero en el pos no lo veo.
text | es | > a que te refieres con activar "régimen simplificado" en el pos?
text | es | en la configuración de la compañía si veo el check en el apartado ticketbai, pero en el pos no lo veo.
text | es | sobre la discrepancia entre el valor de `to_invoice` como option y el que figura en el json de pos order, entiendo que puede tratarse de una variación en el código que no se manejó previamente.
text | es | todas las pruebas de la función `create_from_ui` de `pos.order` —que simulan la llamada desde el servicio rpc de javascript— pasan el mismo valor tanto en el option como en el json de pos order; normalmente asignan el mismo parámetro.
text | es | adicionalmente, al realizar pruebas en un entorno runbot ([runbot.com](https://runbot.com/)) con una versión vanilla de odoo 16 ce, observé que, aunque en la interfaz del pos se seleccione la opción “facturar”, el valor de `to_invoice` en options permanece en `false`.
text | es | dada esta situación, el enfoque adoptado en este pr para resolver el problema resulta legítimo y adecuado.
text | es | estoy trabajando en un set de pruebas js .
text | es | /ocabot merge patch .
text | und | robot .
text | es | /ocabot merge patch .
text | es | corazón rojo
Detalles: total_items: 17 | code_items: 0 | spanish_items: 16 | english_items: 0
Dato borrado: text | und | robot .
recomposed_text: @bilbonet ¿podrías echarle un ojo a esto? ¿ reproducirlo en runboat tal vez? . el segundo commit de este pr tiene como objetivo corregir este error: **posible causa principal:** probablemente se debía a una condición de carrera en el código javascript y/o a una interrupción en la cadena de promesas y/o a excepciones ocultas durante el proceso de generación de facturas simplificadas. este problema fue particularmente difícil de abordar debido a su naturaleza intermitente, ya que ocurre de forma aleatoria y parece estar relacionado con latencias de red u otros factores de sincronización. buenas @rrebollo a que te refieres con activar "régimen simplificado" en el pos? en la configuración de la compañía si veo el check en el apartado ticketbai, pero en el pos no lo veo. > a que te refieres con activar "régimen simplificado" en el pos? en la configuración de la compañía si veo el check en el apartado ticketbai, pero en el pos no lo veo. sobre la discrepancia entre el valor de `to_invoice` como option y el que figura en el json de pos order, entiendo que puede tratarse de una variación en el código que no se manejó previamente. todas las pruebas de la función `create_from_ui` de `pos.order` —que simulan la llamada desde el servicio rpc de javascript— pasan el mismo valor tanto en el option como en el json de pos order; normalmente asignan el mismo parámetro. adicionalmente, al realizar pruebas en un entorno runbot ([runbot.com](https://runbot.com/)) con una versión vanilla de odoo 16 ce, observé que, aunque en la interfaz del pos se seleccione la opción “facturar”, el valor de `to_invoice` en options permanece en `false`. dada esta situación, el enfoque adoptado en este pr para resolver el problema resulta legítimo y adecuado. estoy trabajando en un set de pruebas js . /ocabot merge patch . /ocabot merge patch . corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:30.737160
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:30.837806 UTC
text | es | @haraldpanten could u review please? .
text | es | probado en local y funciona correctamente.
text | es | se resuelve el error y no hay discrepancias con los resultados (tampoco con prorrata, etc.).
text | es | también probado en runboat y se resuelve el error con los grupos de impuestos.
text | es | @pedrobaeza al margen de ajustes que queremos hacer y añadir tests, te cuadra el enfoque planteado?
text | es | sin este parche (o uno equivalente) actualmente no es posible generar el libro de iva en instancias que utilicen dua y tengan facturas del transitario con el grupo de impuestos aplicado.
text | es | gracias.
code | code | .
text | es | en general, utilizar un enfoque con `try` + `except` no suele ser la mejor de las soluciones, ya que ese error puede ser causado por varias razones (aunque se limite la excepción a capturar), y luego, el código del `except` no asegura tampoco que vaya a salir bien.
text | es | ¿no se puede detectar de otra forma la estructura? ¿
text | es | puedes resumir por aquí cómo sale de una y otra forma para ver si tenemos una mejor forma? .
text | es | > en general, utilizar un enfoque con `try` + `except` no suele ser la mejor de las soluciones, ya que ese error puede ser causado por varias razones (aunque se limite la excepción a capturar), y luego, el código del `except` no asegura tampoco que vaya a salir bien.
text | es | ¿no se puede detectar de otra forma la estructura? ¿
text | es | puedes resumir por aquí cómo sale de una y otra forma para ver si tenemos una mejor forma?
text | es | cambiado con detección de longitud.
text | es | si "res" con la devolución de la llamada "_process_aeat_tax_base_info" tiene más de longitud 1 es que se está haciendo un grupo de impuestos.
code | code | .
code | code | > uhm, sigue sin convencerme demasiado...
text | es | ¿no habría que mirar `si tax es de tipo grupo`, y si es el caso, entonces buscar `res[tax.child_ids]` (en seudocódigo)?
text | es | pongo un ejemplo: impuesto: dua --> account.tax(157,) impuestos hijos: account.tax(9, 154) res después de la llamada a "_process_aeat_tax_base_info" -> {account.tax(9,): {'tax': account.tax(9,), 'base': 5691.03, 'amount': 0, 'deductible_amount': 0}, account.tax(154,): {'tax': account.tax(154,), 'base': 5691.03, 'amount': 0, 'deductible_amount': 0}} 1) se puede comprobar si el "account.tax(157,) / tax" de esa iteración es grupo de impuesto y entonces que haga esa "excepción" (sin problema).
text | es | 2) búsqueda res[tax.child_ids], se podría realizar, pero solamente con que cojamos la base de uno de ellos ya es suficiente, el resto se pueden ignorar.
text | es | ¿te va bien con ese enfoque? .
text | es | vale, entonces podría ser `if is_group(tax): list(res.values())[0]["base"]` .
text | es | @pedrobaeza @haraldpanten sabéis si hay algún problema con los runboats?
text | es | `error: docker login for 'ghcr.io' failed with exit code 1` ya he subido el cambio el cambio según lo que se habló ayer gato sonriendo con ojos sonrientes a ver que os parece.
code | code | .
text | es | > @pedrobaeza @haraldpanten sabéis si hay algún problema con los runboats?
text | es | `error: docker login for 'ghcr.io' failed with exit code 1` > > ya he subido el cambio el cambio según lo que se habló ayer gato sonriendo con ojos sonrientes a ver que os parece.
text | es | a nivel funcional, el runboat no me ha dado problemas.
text | es | a priori funciona con normalidad.
text | es | pedro, ya nos das feedback sobre el planteamiento técnico.
text | es | a nivel funcional querré hacer algunas pruebas más; eso sí.
text | es | gracias.
code | code | .
text | es | vale @pedrobaeza te comento...
text | es | lo que hemos hecho ha sido compatibilizar el grupo de impuestos para sacar el libro de iva.
text | es | el desglose en dos líneas no es correcto, como bien dices.
text | es | a mi entender, debería comportarse como en las versiones antiguas.
text | es | una línea con la base y la cuota según la revalorización.
text | es | al final es coger la base y la cutoa donde se aplica el impuesto de importaciones.
text | es | de todas formas, eso no lo hemos cambiado.
text | es | nosotros lo que hemos hecho ha sido compatibilizar el libro de iva, tal y como estaba, con los grupos de impuestos.
text | es | habría que hacer un fix para que apareciera la base y la cuota en una sola línea, como había funcionado hasta la v16.
text | es | adjunto captura.
code | code | <img width="1502" height="272" alt="captura de pantalla 2025-12-22 a las 14 38 57" src="https://github.com/user-attachments/assets/e193d61d-9f17-4cbd-9148-6a1061c3a0a6" /> hacemos fix en este mismo pr en commit por separado? .
text | es | podéis ponerlo en este pr.
code | code | .
text | es | ¿alguna novedad? .
text | es | > ¿alguna novedad?
text | es | mi idea es continuarlo el viernes/lunes a más tardar, que entre fiestas y cierres....
text | es | cara sonriendo con sudor frío .
code | code | .
text | es | @pedrobaeza @haraldpanten indicado en la cabecera del pr y puesto en estado draft como comentamos ayer :) .
code | code | .
text | es | este pr no debe ser fusionado.
text | es | es un parche circunstancial que dejamos abierto (en draft) por si el resto de usuarios se encuentran con el mismo problema.
text | es | esto permite extraerlo, pero no es una solución definitiva.
text | es | hasta el refactoring del módulo puede utilizarse como parche temporal.
Detalles: total_items: 58 | code_items: 9 | spanish_items: 49 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | > uhm, sigue sin convencerme demasiado...
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | <img width="1502" height="272" alt="captura de pantalla 2025-12-22 a las 14 38 57" src="https://github.com/user-attachments/assets/e193d61d-9f17-4cbd-9148-6a1061c3a0a6" /> hacemos fix en este mismo pr en commit por separado? .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
recomposed_text: @haraldpanten could u review please? . probado en local y funciona correctamente. se resuelve el error y no hay discrepancias con los resultados (tampoco con prorrata, etc.). también probado en runboat y se resuelve el error con los grupos de impuestos. @pedrobaeza al margen de ajustes que queremos hacer y añadir tests, te cuadra el enfoque planteado? sin este parche (o uno equivalente) actualmente no es posible generar el libro de iva en instancias que utilicen dua y tengan facturas del transitario con el grupo de impuestos aplicado. gracias. en general, utilizar un enfoque con `try` + `except` no suele ser la mejor de las soluciones, ya que ese error puede ser causado por varias razones (aunque se limite la excepción a capturar), y luego, el código del `except` no asegura tampoco que vaya a salir bien. ¿no se puede detectar de otra forma la estructura? ¿ puedes resumir por aquí cómo sale de una y otra forma para ver si tenemos una mejor forma? . > en general, utilizar un enfoque con `try` + `except` no suele ser la mejor de las soluciones, ya que ese error puede ser causado por varias razones (aunque se limite la excepción a capturar), y luego, el código del `except` no asegura tampoco que vaya a salir bien. ¿no se puede detectar de otra forma la estructura? ¿ puedes resumir por aquí cómo sale de una y otra forma para ver si tenemos una mejor forma? cambiado con detección de longitud. si "res" con la devolución de la llamada "_process_aeat_tax_base_info" tiene más de longitud 1 es que se está haciendo un grupo de impuestos. ¿no habría que mirar `si tax es de tipo grupo`, y si es el caso, entonces buscar `res[tax.child_ids]` (en seudocódigo)? pongo un ejemplo: impuesto: dua --> account.tax(157,) impuestos hijos: account.tax(9, 154) res después de la llamada a "_process_aeat_tax_base_info" -> {account.tax(9,): {'tax': account.tax(9,), 'base': 5691.03, 'amount': 0, 'deductible_amount': 0}, account.tax(154,): {'tax': account.tax(154,), 'base': 5691.03, 'amount': 0, 'deductible_amount': 0}} 1) se puede comprobar si el "account.tax(157,) / tax" de esa iteración es grupo de impuesto y entonces que haga esa "excepción" (sin problema). 2) búsqueda res[tax.child_ids], se podría realizar, pero solamente con que cojamos la base de uno de ellos ya es suficiente, el resto se pueden ignorar. ¿te va bien con ese enfoque? . vale, entonces podría ser `if is_group(tax): list(res.values())[0]["base"]` . @pedrobaeza @haraldpanten sabéis si hay algún problema con los runboats? `error: docker login for 'ghcr.io' failed with exit code 1` ya he subido el cambio el cambio según lo que se habló ayer gato sonriendo con ojos sonrientes a ver que os parece. > @pedrobaeza @haraldpanten sabéis si hay algún problema con los runboats? `error: docker login for 'ghcr.io' failed with exit code 1` > > ya he subido el cambio el cambio según lo que se habló ayer gato sonriendo con ojos sonrientes a ver que os parece. a nivel funcional, el runboat no me ha dado problemas. a priori funciona con normalidad. pedro, ya nos das feedback sobre el planteamiento técnico. a nivel funcional querré hacer algunas pruebas más; eso sí. gracias. vale @pedrobaeza te comento... lo que hemos hecho ha sido compatibilizar el grupo de impuestos para sacar el libro de iva. el desglose en dos líneas no es correcto, como bien dices. a mi entender, debería comportarse como en las versiones antiguas. una línea con la base y la cuota según la revalorización. al final es coger la base y la cutoa donde se aplica el impuesto de importaciones. de todas formas, eso no lo hemos cambiado. nosotros lo que hemos hecho ha sido compatibilizar el libro de iva, tal y como estaba, con los grupos de impuestos. habría que hacer un fix para que apareciera la base y la cuota en una sola línea, como había funcionado hasta la v16. adjunto captura. podéis ponerlo en este pr. ¿alguna novedad? . > ¿alguna novedad? mi idea es continuarlo el viernes/lunes a más tardar, que entre fiestas y cierres.... cara sonriendo con sudor frío . @pedrobaeza @haraldpanten indicado en la cabecera del pr y puesto en estado draft como comentamos ayer :) . este pr no debe ser fusionado. es un parche circunstancial que dejamos abierto (en draft) por si el resto de usuarios se encuentran con el mismo problema. esto permite extraerlo, pero no es una solución definitiva. hasta el refactoring del módulo puede utilizarse como parche temporal.
__Recursividad__
text | es | @haraldpanten could u review please? .
text | es | probado en local y funciona correctamente.
text | es | se resuelve el error y no hay discrepancias con los resultados (tampoco con prorrata, etc.).
text | es | también probado en runboat y se resuelve el error con los grupos de impuestos.
text | es | @pedrobaeza al margen de ajustes que queremos hacer y añadir tests, te cuadra el enfoque planteado?
text | es | sin este parche (o uno equivalente) actualmente no es posible generar el libro de iva en instancias que utilicen dua y tengan facturas del transitario con el grupo de impuestos aplicado.
text | es | gracias.
text | es | en general, utilizar un enfoque con `try` + `except` no suele ser la mejor de las soluciones, ya que ese error puede ser causado por varias razones (aunque se limite la excepción a capturar), y luego, el código del `except` no asegura tampoco que vaya a salir bien.
text | es | ¿no se puede detectar de otra forma la estructura? ¿
text | es | puedes resumir por aquí cómo sale de una y otra forma para ver si tenemos una mejor forma? .
text | es | > en general, utilizar un enfoque con `try` + `except` no suele ser la mejor de las soluciones, ya que ese error puede ser causado por varias razones (aunque se limite la excepción a capturar), y luego, el código del `except` no asegura tampoco que vaya a salir bien.
text | es | ¿no se puede detectar de otra forma la estructura? ¿
text | es | puedes resumir por aquí cómo sale de una y otra forma para ver si tenemos una mejor forma?
text | es | cambiado con detección de longitud.
text | es | si "res" con la devolución de la llamada "_process_aeat_tax_base_info" tiene más de longitud 1 es que se está haciendo un grupo de impuestos.
text | es | ¿no habría que mirar `si tax es de tipo grupo`, y si es el caso, entonces buscar `res[tax.child_ids]` (en seudocódigo)?
text | es | pongo un ejemplo: impuesto: dua --> account.tax(157,) impuestos hijos: account.tax(9, 154) res después de la llamada a "_process_aeat_tax_base_info" -> {account.tax(9,): {'tax': account.tax(9,), 'base': 5691.03, 'amount': 0, 'deductible_amount': 0}, account.tax(154,): {'tax': account.tax(154,), 'base': 5691.03, 'amount': 0, 'deductible_amount': 0}} 1) se puede comprobar si el "account.tax(157,) / tax" de esa iteración es grupo de impuesto y entonces que haga esa "excepción" (sin problema).
text | es | 2) búsqueda res[tax.child_ids], se podría realizar, pero solamente con que cojamos la base de uno de ellos ya es suficiente, el resto se pueden ignorar.
text | es | ¿te va bien con ese enfoque? .
text | es | vale, entonces podría ser `if is_group(tax): list(res.values())[0]["base"]` .
text | es | @pedrobaeza @haraldpanten sabéis si hay algún problema con los runboats?
text | es | `error: docker login for 'ghcr.io' failed with exit code 1` ya he subido el cambio el cambio según lo que se habló ayer gato sonriendo con ojos sonrientes a ver que os parece.
text | es | > @pedrobaeza @haraldpanten sabéis si hay algún problema con los runboats?
text | es | `error: docker login for 'ghcr.io' failed with exit code 1` > > ya he subido el cambio el cambio según lo que se habló ayer gato sonriendo con ojos sonrientes a ver que os parece.
text | es | a nivel funcional, el runboat no me ha dado problemas.
text | es | a priori funciona con normalidad.
text | es | pedro, ya nos das feedback sobre el planteamiento técnico.
text | es | a nivel funcional querré hacer algunas pruebas más; eso sí.
text | es | gracias.
text | es | vale @pedrobaeza te comento...
text | es | lo que hemos hecho ha sido compatibilizar el grupo de impuestos para sacar el libro de iva.
text | es | el desglose en dos líneas no es correcto, como bien dices.
text | es | a mi entender, debería comportarse como en las versiones antiguas.
text | es | una línea con la base y la cuota según la revalorización.
text | es | al final es coger la base y la cutoa donde se aplica el impuesto de importaciones.
text | es | de todas formas, eso no lo hemos cambiado.
text | es | nosotros lo que hemos hecho ha sido compatibilizar el libro de iva, tal y como estaba, con los grupos de impuestos.
text | es | habría que hacer un fix para que apareciera la base y la cuota en una sola línea, como había funcionado hasta la v16.
text | es | adjunto captura.
text | es | podéis ponerlo en este pr.
text | es | ¿alguna novedad? .
text | es | > ¿alguna novedad?
text | es | mi idea es continuarlo el viernes/lunes a más tardar, que entre fiestas y cierres....
text | es | cara sonriendo con sudor frío .
text | es | @pedrobaeza @haraldpanten indicado en la cabecera del pr y puesto en estado draft como comentamos ayer :) .
text | es | este pr no debe ser fusionado.
text | es | es un parche circunstancial que dejamos abierto (en draft) por si el resto de usuarios se encuentran con el mismo problema.
text | es | esto permite extraerlo, pero no es una solución definitiva.
text | es | hasta el refactoring del módulo puede utilizarse como parche temporal.
Detalles: total_items: 49 | code_items: 0 | spanish_items: 49 | english_items: 0
recomposed_text: @haraldpanten could u review please? . probado en local y funciona correctamente. se resuelve el error y no hay discrepancias con los resultados (tampoco con prorrata, etc.). también probado en runboat y se resuelve el error con los grupos de impuestos. @pedrobaeza al margen de ajustes que queremos hacer y añadir tests, te cuadra el enfoque planteado? sin este parche (o uno equivalente) actualmente no es posible generar el libro de iva en instancias que utilicen dua y tengan facturas del transitario con el grupo de impuestos aplicado. gracias. en general, utilizar un enfoque con `try` + `except` no suele ser la mejor de las soluciones, ya que ese error puede ser causado por varias razones (aunque se limite la excepción a capturar), y luego, el código del `except` no asegura tampoco que vaya a salir bien. ¿no se puede detectar de otra forma la estructura? ¿ puedes resumir por aquí cómo sale de una y otra forma para ver si tenemos una mejor forma? . > en general, utilizar un enfoque con `try` + `except` no suele ser la mejor de las soluciones, ya que ese error puede ser causado por varias razones (aunque se limite la excepción a capturar), y luego, el código del `except` no asegura tampoco que vaya a salir bien. ¿no se puede detectar de otra forma la estructura? ¿ puedes resumir por aquí cómo sale de una y otra forma para ver si tenemos una mejor forma? cambiado con detección de longitud. si "res" con la devolución de la llamada "_process_aeat_tax_base_info" tiene más de longitud 1 es que se está haciendo un grupo de impuestos. ¿no habría que mirar `si tax es de tipo grupo`, y si es el caso, entonces buscar `res[tax.child_ids]` (en seudocódigo)? pongo un ejemplo: impuesto: dua --> account.tax(157,) impuestos hijos: account.tax(9, 154) res después de la llamada a "_process_aeat_tax_base_info" -> {account.tax(9,): {'tax': account.tax(9,), 'base': 5691.03, 'amount': 0, 'deductible_amount': 0}, account.tax(154,): {'tax': account.tax(154,), 'base': 5691.03, 'amount': 0, 'deductible_amount': 0}} 1) se puede comprobar si el "account.tax(157,) / tax" de esa iteración es grupo de impuesto y entonces que haga esa "excepción" (sin problema). 2) búsqueda res[tax.child_ids], se podría realizar, pero solamente con que cojamos la base de uno de ellos ya es suficiente, el resto se pueden ignorar. ¿te va bien con ese enfoque? . vale, entonces podría ser `if is_group(tax): list(res.values())[0]["base"]` . @pedrobaeza @haraldpanten sabéis si hay algún problema con los runboats? `error: docker login for 'ghcr.io' failed with exit code 1` ya he subido el cambio el cambio según lo que se habló ayer gato sonriendo con ojos sonrientes a ver que os parece. > @pedrobaeza @haraldpanten sabéis si hay algún problema con los runboats? `error: docker login for 'ghcr.io' failed with exit code 1` > > ya he subido el cambio el cambio según lo que se habló ayer gato sonriendo con ojos sonrientes a ver que os parece. a nivel funcional, el runboat no me ha dado problemas. a priori funciona con normalidad. pedro, ya nos das feedback sobre el planteamiento técnico. a nivel funcional querré hacer algunas pruebas más; eso sí. gracias. vale @pedrobaeza te comento... lo que hemos hecho ha sido compatibilizar el grupo de impuestos para sacar el libro de iva. el desglose en dos líneas no es correcto, como bien dices. a mi entender, debería comportarse como en las versiones antiguas. una línea con la base y la cuota según la revalorización. al final es coger la base y la cutoa donde se aplica el impuesto de importaciones. de todas formas, eso no lo hemos cambiado. nosotros lo que hemos hecho ha sido compatibilizar el libro de iva, tal y como estaba, con los grupos de impuestos. habría que hacer un fix para que apareciera la base y la cuota en una sola línea, como había funcionado hasta la v16. adjunto captura. podéis ponerlo en este pr. ¿alguna novedad? . > ¿alguna novedad? mi idea es continuarlo el viernes/lunes a más tardar, que entre fiestas y cierres.... cara sonriendo con sudor frío . @pedrobaeza @haraldpanten indicado en la cabecera del pr y puesto en estado draft como comentamos ayer :) . este pr no debe ser fusionado. es un parche circunstancial que dejamos abierto (en draft) por si el resto de usuarios se encuentran con el mismo problema. esto permite extraerlo, pero no es una solución definitiva. hasta el refactoring del módulo puede utilizarse como parche temporal.

# Entrada procesada 2026-02-09T14:14:30.962619 UTC
text | es | hola, veo que estáis haciendo esto en varios sitios, pero no tengo claro que mejore velocidad en general, ya que si no se hace prefetch, luego tendrá que obtener los datos "por trozos", y realmente odoo ya lleva una gestión para hacer un prefetch inteligente.
code | code | .
text | es | @pedrobaeza con las pruebas realizadas hemos comprobado que con el prefetch, el consumo de la ram era exponencial al calcular el libro de iva de una empresa con muchas facturas, después de añadir dicho cambio el proceso acabo sin problema.
code | code | .
text | es | ya, ¿pero y tiempos? ¿
text | es | esa instancia tiene modificaciones severas sobre `account.move` y `account.move.line`?
text | es | algo intermedio es hacer prefetch solo de los campos necesarios para el proceso.
code | code | .
text | es | > algo intermedio es hacer prefetch solo de los campos necesarios para el proceso.
text | es | esta es la solución ideal, el problema será que el prefetch estará calculando computes complejos que luego no se usan aquí .
text | es | bueno, en el orm se difieren la obtención de los campos calculados hasta que se usen por primera vez, por lo que eso no debería ser.
Detalles: total_items: 11 | code_items: 3 | spanish_items: 8 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
recomposed_text: hola, veo que estáis haciendo esto en varios sitios, pero no tengo claro que mejore velocidad en general, ya que si no se hace prefetch, luego tendrá que obtener los datos "por trozos", y realmente odoo ya lleva una gestión para hacer un prefetch inteligente. @pedrobaeza con las pruebas realizadas hemos comprobado que con el prefetch, el consumo de la ram era exponencial al calcular el libro de iva de una empresa con muchas facturas, después de añadir dicho cambio el proceso acabo sin problema. ya, ¿pero y tiempos? ¿ esa instancia tiene modificaciones severas sobre `account.move` y `account.move.line`? algo intermedio es hacer prefetch solo de los campos necesarios para el proceso. > algo intermedio es hacer prefetch solo de los campos necesarios para el proceso. esta es la solución ideal, el problema será que el prefetch estará calculando computes complejos que luego no se usan aquí . bueno, en el orm se difieren la obtención de los campos calculados hasta que se usen por primera vez, por lo que eso no debería ser.
__Recursividad__
text | es | hola, veo que estáis haciendo esto en varios sitios, pero no tengo claro que mejore velocidad en general, ya que si no se hace prefetch, luego tendrá que obtener los datos "por trozos", y realmente odoo ya lleva una gestión para hacer un prefetch inteligente.
text | es | @pedrobaeza con las pruebas realizadas hemos comprobado que con el prefetch, el consumo de la ram era exponencial al calcular el libro de iva de una empresa con muchas facturas, después de añadir dicho cambio el proceso acabo sin problema.
text | es | ya, ¿pero y tiempos? ¿
text | es | esa instancia tiene modificaciones severas sobre `account.move` y `account.move.line`?
text | es | algo intermedio es hacer prefetch solo de los campos necesarios para el proceso.
text | es | > algo intermedio es hacer prefetch solo de los campos necesarios para el proceso.
text | es | esta es la solución ideal, el problema será que el prefetch estará calculando computes complejos que luego no se usan aquí .
text | es | bueno, en el orm se difieren la obtención de los campos calculados hasta que se usen por primera vez, por lo que eso no debería ser.
Detalles: total_items: 8 | code_items: 0 | spanish_items: 8 | english_items: 0
recomposed_text: hola, veo que estáis haciendo esto en varios sitios, pero no tengo claro que mejore velocidad en general, ya que si no se hace prefetch, luego tendrá que obtener los datos "por trozos", y realmente odoo ya lleva una gestión para hacer un prefetch inteligente. @pedrobaeza con las pruebas realizadas hemos comprobado que con el prefetch, el consumo de la ram era exponencial al calcular el libro de iva de una empresa con muchas facturas, después de añadir dicho cambio el proceso acabo sin problema. ya, ¿pero y tiempos? ¿ esa instancia tiene modificaciones severas sobre `account.move` y `account.move.line`? algo intermedio es hacer prefetch solo de los campos necesarios para el proceso. > algo intermedio es hacer prefetch solo de los campos necesarios para el proceso. esta es la solución ideal, el problema será que el prefetch estará calculando computes complejos que luego no se usan aquí . bueno, en el orm se difieren la obtención de los campos calculados hasta que se usen por primera vez, por lo que eso no debería ser.

# Entrada procesada 2026-02-09T14:14:30.999899 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [17.0-ocabot-merge-pr-4672-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4672-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 393a220daebf4090131f7b4464a393111a51eded.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 7 | code_items: 3 | spanish_items: 1 | english_items: 3
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [17.0-ocabot-merge-pr-4672-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4672-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 393a220daebf4090131f7b4464a393111a51eded.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:30.999899
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:31.015030 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
text | es | @pedrobaeza ya que fusionas para 16 y 17, que no se te pase 18.
text | es | gracias.
text | es | cara feliz con ojos sonrientes .
text | es | > aplica los comentarios de la 16 aquí.
text | es | es verdad, se me olvidarón.
text | es | ya está, gracias por recordarlo.
code | code | .
code | code | on my way to merge this fine pr!
prepared branch [18.0-ocabot-merge-pr-4671-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4671-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 18.0-ocabot-merge-pr-4671-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/f6fef01498a0bc8fe52c7b4db26bb3635b48fe62).
text | en | after fixing the problem, you can re-issue a merge command.
code | code | please refrain from merging manually as it will most probably make the target branch red.
code | code | .
text | es | /ocabot merge patch .
text | en | hey, thanks for contributing!
text | en | proceeding to merge this for you.
code | code | prepared branch [18.0-ocabot-merge-pr-4671-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4671-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 334c6d4c58baafa36e72af2bf861a36338e321df.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 22 | code_items: 9 | spanish_items: 8 | english_items: 5
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | .
Dato borrado: code | code | on my way to merge this fine pr!
prepared branch [18.0-ocabot-merge-pr-4671-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4671-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 18.0-ocabot-merge-pr-4671-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/f6fef01498a0bc8fe52c7b4db26bb3635b48fe62).
Dato borrado: text | en | after fixing the problem, you can re-issue a merge command.
Dato borrado: code | code | please refrain from merging manually as it will most probably make the target branch red.
Dato borrado: code | code | .
Dato borrado: text | en | hey, thanks for contributing!
Dato borrado: text | en | proceeding to merge this for you.
Dato borrado: code | code | prepared branch [18.0-ocabot-merge-pr-4671-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4671-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 334c6d4c58baafa36e72af2bf861a36338e321df.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: @pedrobaeza ya que fusionas para 16 y 17, que no se te pase 18. gracias. cara feliz con ojos sonrientes . > aplica los comentarios de la 16 aquí. es verdad, se me olvidarón. ya está, gracias por recordarlo. /ocabot merge patch . corazón rojo
__Recursividad__
text | es | @pedrobaeza ya que fusionas para 16 y 17, que no se te pase 18.
text | es | gracias.
text | es | cara feliz con ojos sonrientes .
text | es | > aplica los comentarios de la 16 aquí.
text | es | es verdad, se me olvidarón.
text | es | ya está, gracias por recordarlo.
text | es | /ocabot merge patch .
text | es | corazón rojo
Detalles: total_items: 8 | code_items: 0 | spanish_items: 8 | english_items: 0
recomposed_text: @pedrobaeza ya que fusionas para 16 y 17, que no se te pase 18. gracias. cara feliz con ojos sonrientes . > aplica los comentarios de la 16 aquí. es verdad, se me olvidarón. ya está, gracias por recordarlo. /ocabot merge patch . corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:31.015030
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:31.033906 UTC
text | en | @bjkumal @eantones please review it .
code | code | this pr has the `approved` label and has been created more than 5 days ago.
text | en | it should therefore be ready to merge by a maintainer (or a psc member if the concerned addon has no declared maintainer).
text | und | robot .
code | code | on my way to merge this fine pr!
prepared branch [18.0-ocabot-merge-pr-4670-by-etobella-bump-nobump](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4670-by-etobella-bump-nobump), awaiting test results.
code | code | .
text | es | /ocabot migration l10n_es_facturae_sale_stock .
code | code | congratulations, your pr was merged at 9734cce395dbe79ab0b8ce4dc42955c1ee0320a3.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 10 | code_items: 4 | spanish_items: 2 | english_items: 3
Dato borrado: text | en | @bjkumal @eantones please review it .
Dato borrado: code | code | this pr has the `approved` label and has been created more than 5 days ago.
Dato borrado: text | en | it should therefore be ready to merge by a maintainer (or a psc member if the concerned addon has no declared maintainer).
Dato borrado: code | code | on my way to merge this fine pr!
prepared branch [18.0-ocabot-merge-pr-4670-by-etobella-bump-nobump](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4670-by-etobella-bump-nobump), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 9734cce395dbe79ab0b8ce4dc42955c1ee0320a3.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: robot . /ocabot migration l10n_es_facturae_sale_stock . corazón rojo
__Recursividad__
text | und | robot .
text | es | /ocabot migration l10n_es_facturae_sale_stock .
text | es | corazón rojo
Detalles: total_items: 3 | code_items: 0 | spanish_items: 2 | english_items: 0
Dato borrado: text | und | robot .
recomposed_text: /ocabot migration l10n_es_facturae_sale_stock . corazón rojo

# Entrada procesada 2026-02-09T14:14:31.046464 UTC
text | es | los tests fallan por el módulo `l10n_es_atc_mod420`.
code | code | error de fechas https://github.com/oca/l10n-spain/actions/runs/20652855269/job/59300462804#step:8:1311, me parece que los tests no son correctos si al cambiar de año dan error.
code | code | .
text | es | > añade por favor en los tests dicho impuesto para verificar las casillas - que cambiarán -, y así detectar si en el futuro cambian los xml-ids, que salte el error.
text | und | hecho.
text | es | gracias.
code | code | .
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [18.0-ocabot-merge-pr-4669-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4669-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at a1afcd8d78181a09b94868b0e103a46936d468f7.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 13 | code_items: 6 | spanish_items: 4 | english_items: 2
Dato borrado: code | code | error de fechas https://github.com/oca/l10n-spain/actions/runs/20652855269/job/59300462804#step:8:1311, me parece que los tests no son correctos si al cambiar de año dan error.
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [18.0-ocabot-merge-pr-4669-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4669-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at a1afcd8d78181a09b94868b0e103a46936d468f7.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: los tests fallan por el módulo `l10n_es_atc_mod420`. > añade por favor en los tests dicho impuesto para verificar las casillas - que cambiarán -, y así detectar si en el futuro cambian los xml-ids, que salte el error. hecho. gracias. corazón rojo
__Recursividad__
text | es | los tests fallan por el módulo `l10n_es_atc_mod420`.
text | es | > añade por favor en los tests dicho impuesto para verificar las casillas - que cambiarán -, y así detectar si en el futuro cambian los xml-ids, que salte el error.
text | und | hecho.
text | es | gracias.
text | es | corazón rojo
Detalles: total_items: 5 | code_items: 0 | spanish_items: 4 | english_items: 0
Dato borrado: text | und | hecho.
recomposed_text: los tests fallan por el módulo `l10n_es_atc_mod420`. > añade por favor en los tests dicho impuesto para verificar las casillas - que cambiarán -, y así detectar si en el futuro cambian los xml-ids, que salte el error. gracias. corazón rojo

# Entrada procesada 2026-02-09T14:14:31.062100 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
text | en | hey, thanks for contributing!
text | en | proceeding to merge this for you.
code | code | prepared branch [18.0-ocabot-merge-pr-4668-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4668-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at fdf41b11a53eec1565f7f2694a68aeb8df938e6a.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 8 | code_items: 3 | spanish_items: 1 | english_items: 4
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: text | en | hey, thanks for contributing!
Dato borrado: text | en | proceeding to merge this for you.
Dato borrado: code | code | prepared branch [18.0-ocabot-merge-pr-4668-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4668-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at fdf41b11a53eec1565f7f2694a68aeb8df938e6a.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:31.062100
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:31.073314 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [17.0-ocabot-merge-pr-4667-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4667-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 465965a147f26dc23bc164f14ac11e0e45b5679e.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 7 | code_items: 3 | spanish_items: 1 | english_items: 3
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [17.0-ocabot-merge-pr-4667-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4667-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 465965a147f26dc23bc164f14ac11e0e45b5679e.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:31.073314
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:31.084007 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:31.088639 UTC
code | code | on my way to merge this fine pr!
prepared branch [17.0-ocabot-merge-pr-4664-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4664-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | this pr has the `approved` label and has been created more than 5 days ago.
text | en | it should therefore be ready to merge by a maintainer (or a psc member if the concerned addon has no declared maintainer).
text | und | robot .
code | code | congratulations, your pr was merged at 174522360a73a6f8b1007ea5e2703401626f0456.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 8 | code_items: 4 | spanish_items: 1 | english_items: 2
Dato borrado: code | code | on my way to merge this fine pr!
prepared branch [17.0-ocabot-merge-pr-4664-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4664-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | this pr has the `approved` label and has been created more than 5 days ago.
Dato borrado: text | en | it should therefore be ready to merge by a maintainer (or a psc member if the concerned addon has no declared maintainer).
Dato borrado: code | code | congratulations, your pr was merged at 174522360a73a6f8b1007ea5e2703401626f0456.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: robot . corazón rojo
__Recursividad__
text | und | robot .
text | es | corazón rojo
Detalles: total_items: 2 | code_items: 0 | spanish_items: 1 | english_items: 0
Dato borrado: text | und | robot .
recomposed_text: corazón rojo

# Entrada procesada 2026-02-09T14:14:31.113357 UTC
text | es | @pedrobaeza @almumu .
text | es | > en este módulo no se puede depender de `stock`.
text | es | mira si existe otra forma de arreglarlo sin requerir esa dependencia.
text | es | por otro lado, mira de que no se cambie readme/index.html vale!
text | es | ahora lo intento .
text | es | > en este módulo no se puede depender de `stock`.
text | es | mira si existe otra forma de arreglarlo sin requerir esa dependencia.
code | code | por otro lado, mira de que no se cambie readme/index.html en teoría, debería ser suficiente añadiendo el t-if="address" de la vista original de odoo <div t-if="address" t-attf-class="address row mb-4" title="this block is not always present depending on the printed document."> https://github.com/odoo/odoo/blob/376c36336b4a2bd01c9cb9b2594abee0713bcf51/addons/web/views/report_templates.xml#l280 con esto ya no aparece el bloque "address block" .
code | code | on my way to merge this fine pr!
prepared branch [18.0-ocabot-merge-pr-4663-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4663-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 046cdd85ee6296f5e4002c7e9e3261923f6b1f45.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo .
text | es | @ricardcforgeflow creo que esto no se llevó a la v17.
text | es | podríais llevarlo/revisarlo?
text | es | @pedrobaeza @aaronhforgeflow @loisrforgeflow gracias por la aportación.
code | code | .
text | es | > @ricardcforgeflow creo que esto no se llevó a la v17.
text | es | podríais llevarlo/revisarlo?
text | es | > > @pedrobaeza @aaronhforgeflow @loisrforgeflow > > gracias por la aportación.
code | code | hola @haraldpanten ahora he hecho el cambio para la v17: https://github.com/oca/l10n-spain/pull/4687 para la v16 no es necesario, ya que no existe el bloque "address block" .
text | und | > #4687 perfecto!
text | es | muchas gracias por la aportación.
Detalles: total_items: 23 | code_items: 6 | spanish_items: 15 | english_items: 1
Dato borrado: code | code | por otro lado, mira de que no se cambie readme/index.html en teoría, debería ser suficiente añadiendo el t-if="address" de la vista original de odoo <div t-if="address" t-attf-class="address row mb-4" title="this block is not always present depending on the printed document."> https://github.com/odoo/odoo/blob/376c36336b4a2bd01c9cb9b2594abee0713bcf51/addons/web/views/report_templates.xml#l280 con esto ya no aparece el bloque "address block" .
Dato borrado: code | code | on my way to merge this fine pr!
prepared branch [18.0-ocabot-merge-pr-4663-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4663-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 046cdd85ee6296f5e4002c7e9e3261923f6b1f45.
Dato borrado: text | en | thanks a lot for contributing to oca.
Dato borrado: code | code | .
Dato borrado: code | code | hola @haraldpanten ahora he hecho el cambio para la v17: https://github.com/oca/l10n-spain/pull/4687 para la v16 no es necesario, ya que no existe el bloque "address block" .
recomposed_text: @pedrobaeza @almumu . > en este módulo no se puede depender de `stock`. mira si existe otra forma de arreglarlo sin requerir esa dependencia. por otro lado, mira de que no se cambie readme/index.html vale! ahora lo intento . > en este módulo no se puede depender de `stock`. mira si existe otra forma de arreglarlo sin requerir esa dependencia. corazón rojo . @ricardcforgeflow creo que esto no se llevó a la v17. podríais llevarlo/revisarlo? @pedrobaeza @aaronhforgeflow @loisrforgeflow gracias por la aportación. > @ricardcforgeflow creo que esto no se llevó a la v17. podríais llevarlo/revisarlo? > > @pedrobaeza @aaronhforgeflow @loisrforgeflow > > gracias por la aportación. > #4687 perfecto! muchas gracias por la aportación.
__Recursividad__
text | es | @pedrobaeza @almumu .
text | es | > en este módulo no se puede depender de `stock`.
text | es | mira si existe otra forma de arreglarlo sin requerir esa dependencia.
text | es | por otro lado, mira de que no se cambie readme/index.html vale!
text | es | ahora lo intento .
text | es | > en este módulo no se puede depender de `stock`.
text | es | mira si existe otra forma de arreglarlo sin requerir esa dependencia.
text | es | corazón rojo .
text | es | @ricardcforgeflow creo que esto no se llevó a la v17.
text | es | podríais llevarlo/revisarlo?
text | es | @pedrobaeza @aaronhforgeflow @loisrforgeflow gracias por la aportación.
text | es | > @ricardcforgeflow creo que esto no se llevó a la v17.
text | es | podríais llevarlo/revisarlo?
text | es | > > @pedrobaeza @aaronhforgeflow @loisrforgeflow > > gracias por la aportación.
text | und | > #4687 perfecto!
text | es | muchas gracias por la aportación.
Detalles: total_items: 16 | code_items: 0 | spanish_items: 15 | english_items: 0
Dato borrado: text | und | > #4687 perfecto!
recomposed_text: @pedrobaeza @almumu . > en este módulo no se puede depender de `stock`. mira si existe otra forma de arreglarlo sin requerir esa dependencia. por otro lado, mira de que no se cambie readme/index.html vale! ahora lo intento . > en este módulo no se puede depender de `stock`. mira si existe otra forma de arreglarlo sin requerir esa dependencia. corazón rojo . @ricardcforgeflow creo que esto no se llevó a la v17. podríais llevarlo/revisarlo? @pedrobaeza @aaronhforgeflow @loisrforgeflow gracias por la aportación. > @ricardcforgeflow creo que esto no se llevó a la v17. podríais llevarlo/revisarlo? > > @pedrobaeza @aaronhforgeflow @loisrforgeflow > > gracias por la aportación. muchas gracias por la aportación.

# Entrada procesada 2026-02-09T14:14:31.148308 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
text | es | > si se tiene desactivado el sii, no debe haber facturas con `aeat_state` distinto de `not_sent`, así que es algo específico de esa instancia donde tenéis el problema, pero este cambio no tiene demasiado sentido para mí ahora mismo.
text | es | > > ¿cuál es el caso de uso?
text | es | hola @pedrobaeza el problema es que para las facturas que se crearon **antes** de activar el módulo `l10n_es_aeat_sii_oca`, el campo `aeat_state` aparece vacío en lugar de `not_sent` y no deja eliminarlas.
text | es | ¿es correcto este comportamiento?
text | es | igual lo mejor es modificar el campo `aeat_state` de las facturas que se crearon **antes** de activar el módulo `l10n_es_aeat_sii_oca` con una acción de servidor en nuestro caso.
code | code | .
text | es | entendido el problema.
text | es | entonces cambia el filtered a que sea `rec.aeat_state not in ["not_sent", false]`.
code | code | .
text | es | > entendido el problema.
text | es | entonces cambia el filtered a que sea `rec.aeat_state not in ["not_sent", false]`.
text | es | @pedrobaeza buena idea.
text | es | acabo de subir los cambios.
code | code | .
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [16.0-ocabot-merge-pr-4662-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4662-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at cb464963d188c069c266c54ba6a85309e54870c2.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo .
code | code | > /ocabot merge patch > > ¿puedes llevarlo a versiones superiores? si.
Detalles: total_items: 22 | code_items: 7 | spanish_items: 12 | english_items: 3
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [16.0-ocabot-merge-pr-4662-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4662-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at cb464963d188c069c266c54ba6a85309e54870c2.
Dato borrado: text | en | thanks a lot for contributing to oca.
Dato borrado: code | code | > /ocabot merge patch > > ¿puedes llevarlo a versiones superiores? si.
recomposed_text: > si se tiene desactivado el sii, no debe haber facturas con `aeat_state` distinto de `not_sent`, así que es algo específico de esa instancia donde tenéis el problema, pero este cambio no tiene demasiado sentido para mí ahora mismo. > > ¿cuál es el caso de uso? hola @pedrobaeza el problema es que para las facturas que se crearon **antes** de activar el módulo `l10n_es_aeat_sii_oca`, el campo `aeat_state` aparece vacío en lugar de `not_sent` y no deja eliminarlas. ¿es correcto este comportamiento? igual lo mejor es modificar el campo `aeat_state` de las facturas que se crearon **antes** de activar el módulo `l10n_es_aeat_sii_oca` con una acción de servidor en nuestro caso. entendido el problema. entonces cambia el filtered a que sea `rec.aeat_state not in ["not_sent", false]`. > entendido el problema. entonces cambia el filtered a que sea `rec.aeat_state not in ["not_sent", false]`. @pedrobaeza buena idea. acabo de subir los cambios. corazón rojo .
__Recursividad__
text | es | > si se tiene desactivado el sii, no debe haber facturas con `aeat_state` distinto de `not_sent`, así que es algo específico de esa instancia donde tenéis el problema, pero este cambio no tiene demasiado sentido para mí ahora mismo.
text | es | > > ¿cuál es el caso de uso?
text | es | hola @pedrobaeza el problema es que para las facturas que se crearon **antes** de activar el módulo `l10n_es_aeat_sii_oca`, el campo `aeat_state` aparece vacío en lugar de `not_sent` y no deja eliminarlas.
text | es | ¿es correcto este comportamiento?
text | es | igual lo mejor es modificar el campo `aeat_state` de las facturas que se crearon **antes** de activar el módulo `l10n_es_aeat_sii_oca` con una acción de servidor en nuestro caso.
text | es | entendido el problema.
text | es | entonces cambia el filtered a que sea `rec.aeat_state not in ["not_sent", false]`.
text | es | > entendido el problema.
text | es | entonces cambia el filtered a que sea `rec.aeat_state not in ["not_sent", false]`.
text | es | @pedrobaeza buena idea.
text | es | acabo de subir los cambios.
text | es | corazón rojo .
Detalles: total_items: 12 | code_items: 0 | spanish_items: 12 | english_items: 0
recomposed_text: > si se tiene desactivado el sii, no debe haber facturas con `aeat_state` distinto de `not_sent`, así que es algo específico de esa instancia donde tenéis el problema, pero este cambio no tiene demasiado sentido para mí ahora mismo. > > ¿cuál es el caso de uso? hola @pedrobaeza el problema es que para las facturas que se crearon **antes** de activar el módulo `l10n_es_aeat_sii_oca`, el campo `aeat_state` aparece vacío en lugar de `not_sent` y no deja eliminarlas. ¿es correcto este comportamiento? igual lo mejor es modificar el campo `aeat_state` de las facturas que se crearon **antes** de activar el módulo `l10n_es_aeat_sii_oca` con una acción de servidor en nuestro caso. entendido el problema. entonces cambia el filtered a que sea `rec.aeat_state not in ["not_sent", false]`. > entendido el problema. entonces cambia el filtered a que sea `rec.aeat_state not in ["not_sent", false]`. @pedrobaeza buena idea. acabo de subir los cambios. corazón rojo .

__Corrector Ortográfico__2026-02-09T14:14:31.148308
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:31.178013 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:31.182932 UTC
text | es | ¿puedes por favor llevarlo a la 17 también? .
text | es | @pedrobaeza , lo vamos a llevar a todas las versiones ;-) > cuando esté fusionado hago cherry-pick a la 17 .
text | en | hey, thanks for contributing!
text | en | proceeding to merge this for you.
code | code | prepared branch [18.0-ocabot-merge-pr-4660-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4660-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 84ac9d1e30b8c561bc549c324195743a278d1f29.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 9 | code_items: 3 | spanish_items: 3 | english_items: 3
Dato borrado: text | en | hey, thanks for contributing!
Dato borrado: text | en | proceeding to merge this for you.
Dato borrado: code | code | prepared branch [18.0-ocabot-merge-pr-4660-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4660-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 84ac9d1e30b8c561bc549c324195743a278d1f29.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: ¿puedes por favor llevarlo a la 17 también? . @pedrobaeza , lo vamos a llevar a todas las versiones ;-) > cuando esté fusionado hago cherry-pick a la 17 . corazón rojo
__Recursividad__
text | es | ¿puedes por favor llevarlo a la 17 también? .
text | es | @pedrobaeza , lo vamos a llevar a todas las versiones ;-) > cuando esté fusionado hago cherry-pick a la 17 .
text | es | corazón rojo
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: ¿puedes por favor llevarlo a la 17 también? . @pedrobaeza , lo vamos a llevar a todas las versiones ;-) > cuando esté fusionado hago cherry-pick a la 17 . corazón rojo

# Entrada procesada 2026-02-09T14:14:31.196101 UTC
code | code | @pedrobaeza cuando se mergee este ya se podría eliminar el commit https://github.com/oca/l10n-spain/pull/4378/commits/625d706d74df3dda6147a8f9982beb95bf803964 del pr https://github.com/oca/l10n-spain/pull/4378 de l10n_es_verifactu_pos_oca
Detalles: total_items: 1 | code_items: 1 | spanish_items: 0 | english_items: 0
Dato borrado: code | code | @pedrobaeza cuando se mergee este ya se podría eliminar el commit https://github.com/oca/l10n-spain/pull/4378/commits/625d706d74df3dda6147a8f9982beb95bf803964 del pr https://github.com/oca/l10n-spain/pull/4378 de l10n_es_verifactu_pos_oca
recomposed_text:
__Recursividad__
Detalles: total_items: 0 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text:

# Entrada procesada 2026-02-09T14:14:31.210509 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
code | code | https://github.com/odoo/odoo/blob/2dc9529af127ed4b2d451059b6ab9c83778c7814/odoo/addons/base/models/res_partner.py#l395 .
text | es | comprueba ci.
text | es | @carlosdauden como tú estuviste cacharreando con esto, tal vez puedes dar pistas .
code | code | > comprueba ci.
text | es | @carlosdauden como tú estuviste cacharreando con esto, tal vez puedes dar pistas te lo cuento, si he revisado y seguro que el error del orden también está en 17.0.
text | es | el tema es que en 16.0 el order era por display_name y a partir de 17.0 el order es por complete_name.
text | es | esa es la diferencia fundamental.
code | code | https://github.com/odoo/odoo/blob/bb60d831a7cdb0606c1baae9a8985b2fdb7dc15b/odoo/addons/base/models/res_partner.py#l179 por que no ordena bien? por que lo que vemos en pantalla es el display_name con el comercial calculado pero realmente el complete_name no se estaba calculando con el comercial (de ahí el error de los test que espera que siga sin calcularse).
text | es | es correcto que el complete_name siga sin calcularse?
text | es | no, por que entonces el orden en las vistas no será el correcto visualmente.
text | es | el test que hay ahora mismo como digo espera que se calcule el display_name con el comercial pero que el complete_name no se calcule.
text | es | por lo tanto hay que modificar el test.
text | es | al añadir el contexto al compute que se alimenta del método _get_complete_name si añade el comercial y el orden se corresponde con lo visual (display_name) pero claro, el test ya no es correcto.
code | code | .
text | es | vale, pero recuerdo que @carlosdauden tocó eso.
text | es | a ver si nos puede dar pistas o nos descarta que tenga que ver.
code | code | .
text | es | /ocabot merge nobump .
text | en | hey, thanks for contributing!
text | en | proceeding to merge this for you.
code | code | prepared branch [18.0-ocabot-merge-pr-4658-by-pedrobaeza-bump-nobump](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4658-by-pedrobaeza-bump-nobump), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 3dcc7dd0d35d4e65db46332557db0354dd17f104.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo .
text | en | only 19 fw-port pending.
Detalles: total_items: 27 | code_items: 8 | spanish_items: 14 | english_items: 5
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | https://github.com/odoo/odoo/blob/2dc9529af127ed4b2d451059b6ab9c83778c7814/odoo/addons/base/models/res_partner.py#l395 .
Dato borrado: code | code | > comprueba ci.
Dato borrado: code | code | https://github.com/odoo/odoo/blob/bb60d831a7cdb0606c1baae9a8985b2fdb7dc15b/odoo/addons/base/models/res_partner.py#l179 por que no ordena bien? por que lo que vemos en pantalla es el display_name con el comercial calculado pero realmente el complete_name no se estaba calculando con el comercial (de ahí el error de los test que espera que siga sin calcularse).
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: text | en | hey, thanks for contributing!
Dato borrado: text | en | proceeding to merge this for you.
Dato borrado: code | code | prepared branch [18.0-ocabot-merge-pr-4658-by-pedrobaeza-bump-nobump](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4658-by-pedrobaeza-bump-nobump), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 3dcc7dd0d35d4e65db46332557db0354dd17f104.
Dato borrado: text | en | thanks a lot for contributing to oca.
Dato borrado: text | en | only 19 fw-port pending.
recomposed_text: comprueba ci. @carlosdauden como tú estuviste cacharreando con esto, tal vez puedes dar pistas . @carlosdauden como tú estuviste cacharreando con esto, tal vez puedes dar pistas te lo cuento, si he revisado y seguro que el error del orden también está en 17.0. el tema es que en 16.0 el order era por display_name y a partir de 17.0 el order es por complete_name. esa es la diferencia fundamental. es correcto que el complete_name siga sin calcularse? no, por que entonces el orden en las vistas no será el correcto visualmente. el test que hay ahora mismo como digo espera que se calcule el display_name con el comercial pero que el complete_name no se calcule. por lo tanto hay que modificar el test. al añadir el contexto al compute que se alimenta del método _get_complete_name si añade el comercial y el orden se corresponde con lo visual (display_name) pero claro, el test ya no es correcto. vale, pero recuerdo que @carlosdauden tocó eso. a ver si nos puede dar pistas o nos descarta que tenga que ver. /ocabot merge nobump . corazón rojo .
__Recursividad__
text | es | comprueba ci.
text | es | @carlosdauden como tú estuviste cacharreando con esto, tal vez puedes dar pistas .
text | es | @carlosdauden como tú estuviste cacharreando con esto, tal vez puedes dar pistas te lo cuento, si he revisado y seguro que el error del orden también está en 17.0.
text | es | el tema es que en 16.0 el order era por display_name y a partir de 17.0 el order es por complete_name.
text | es | esa es la diferencia fundamental.
text | es | es correcto que el complete_name siga sin calcularse?
text | es | no, por que entonces el orden en las vistas no será el correcto visualmente.
text | es | el test que hay ahora mismo como digo espera que se calcule el display_name con el comercial pero que el complete_name no se calcule.
text | es | por lo tanto hay que modificar el test.
text | es | al añadir el contexto al compute que se alimenta del método _get_complete_name si añade el comercial y el orden se corresponde con lo visual (display_name) pero claro, el test ya no es correcto.
text | es | vale, pero recuerdo que @carlosdauden tocó eso.
text | es | a ver si nos puede dar pistas o nos descarta que tenga que ver.
text | es | /ocabot merge nobump .
text | es | corazón rojo .
Detalles: total_items: 14 | code_items: 0 | spanish_items: 14 | english_items: 0
recomposed_text: comprueba ci. @carlosdauden como tú estuviste cacharreando con esto, tal vez puedes dar pistas . @carlosdauden como tú estuviste cacharreando con esto, tal vez puedes dar pistas te lo cuento, si he revisado y seguro que el error del orden también está en 17.0. el tema es que en 16.0 el order era por display_name y a partir de 17.0 el order es por complete_name. esa es la diferencia fundamental. es correcto que el complete_name siga sin calcularse? no, por que entonces el orden en las vistas no será el correcto visualmente. el test que hay ahora mismo como digo espera que se calcule el display_name con el comercial pero que el complete_name no se calcule. por lo tanto hay que modificar el test. al añadir el contexto al compute que se alimenta del método _get_complete_name si añade el comercial y el orden se corresponde con lo visual (display_name) pero claro, el test ya no es correcto. vale, pero recuerdo que @carlosdauden tocó eso. a ver si nos puede dar pistas o nos descarta que tenga que ver. /ocabot merge nobump . corazón rojo .

__Corrector Ortográfico__2026-02-09T14:14:31.210509
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:31.256355 UTC
text | en | hola @etobella,
some modules you are maintaining are being modified, check this out! .
text | es | /ocabot merge patch .
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [17.0-ocabot-merge-pr-4654-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4654-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 17.0-ocabot-merge-pr-4654-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/0b22bbebc4767e904b260f873457127389013124).
text | en | after fixing the problem, you can re-issue a merge command.
code | code | please refrain from merging manually as it will most probably make the target branch red.
code | code | .
text | es | /ocabot merge patch .
text | en | hey, thanks for contributing!
text | en | proceeding to merge this for you.
code | code | prepared branch [17.0-ocabot-merge-pr-4654-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4654-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 6dec1c2e1db952c6ee513c099d1dea5a213bca08.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 17 | code_items: 8 | spanish_items: 3 | english_items: 6
Dato borrado: text | en | hola @etobella,
some modules you are maintaining are being modified, check this out! .
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [17.0-ocabot-merge-pr-4654-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4654-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 17.0-ocabot-merge-pr-4654-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/0b22bbebc4767e904b260f873457127389013124).
Dato borrado: text | en | after fixing the problem, you can re-issue a merge command.
Dato borrado: code | code | please refrain from merging manually as it will most probably make the target branch red.
Dato borrado: code | code | .
Dato borrado: text | en | hey, thanks for contributing!
Dato borrado: text | en | proceeding to merge this for you.
Dato borrado: code | code | prepared branch [17.0-ocabot-merge-pr-4654-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4654-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 6dec1c2e1db952c6ee513c099d1dea5a213bca08.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: /ocabot merge patch . /ocabot merge patch . corazón rojo
__Recursividad__
text | es | /ocabot merge patch .
text | es | /ocabot merge patch .
text | es | corazón rojo
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: /ocabot merge patch . /ocabot merge patch . corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:31.256355
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:31.267742 UTC
text | es | fusiono tras estar en producción funcionando.
text | es | /ocabot merge minor .
code | code | on my way to merge this fine pr!
prepared branch [17.0-ocabot-merge-pr-4653-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4653-by-pedrobaeza-bump-minor), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 064954f7b9103939d6cf29625e099dc63bd4ae96.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 7 | code_items: 3 | spanish_items: 3 | english_items: 1
Dato borrado: code | code | on my way to merge this fine pr!
prepared branch [17.0-ocabot-merge-pr-4653-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4653-by-pedrobaeza-bump-minor), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 064954f7b9103939d6cf29625e099dc63bd4ae96.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: fusiono tras estar en producción funcionando. /ocabot merge minor . corazón rojo
__Recursividad__
text | es | fusiono tras estar en producción funcionando.
text | es | /ocabot merge minor .
text | es | corazón rojo
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: fusiono tras estar en producción funcionando. /ocabot merge minor . corazón rojo

# Entrada procesada 2026-02-09T14:14:31.279838 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
code | code | this pr has the `approved` label and has been created more than 5 days ago.
text | en | it should therefore be ready to merge by a maintainer (or a psc member if the concerned addon has no declared maintainer).
text | und | robot .
text | es | es un caso demasiado específico como bien decís...
text | es | pero no debería crearse un método específico para ello, si no ver por qué fallan los mecanismos de limpieza estándar y mejorarlos.
Detalles: total_items: 6 | code_items: 1 | spanish_items: 2 | english_items: 2
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | this pr has the `approved` label and has been created more than 5 days ago.
Dato borrado: text | en | it should therefore be ready to merge by a maintainer (or a psc member if the concerned addon has no declared maintainer).
recomposed_text: robot . es un caso demasiado específico como bien decís... pero no debería crearse un método específico para ello, si no ver por qué fallan los mecanismos de limpieza estándar y mejorarlos.
__Recursividad__
text | und | robot .
text | es | es un caso demasiado específico como bien decís...
text | es | pero no debería crearse un método específico para ello, si no ver por qué fallan los mecanismos de limpieza estándar y mejorarlos.
Detalles: total_items: 3 | code_items: 0 | spanish_items: 2 | english_items: 0
Dato borrado: text | und | robot .
recomposed_text: es un caso demasiado específico como bien decís... pero no debería crearse un método específico para ello, si no ver por qué fallan los mecanismos de limpieza estándar y mejorarlos.

__Corrector Ortográfico__2026-02-09T14:14:31.279838
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:31.292989 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
text | es | este desarrollo es incorrecto.
text | es | cierra el pr y revisa la tarea por favor
Detalles: total_items: 3 | code_items: 0 | spanish_items: 2 | english_items: 1
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
recomposed_text: este desarrollo es incorrecto. cierra el pr y revisa la tarea por favor
__Recursividad__
text | es | este desarrollo es incorrecto.
text | es | cierra el pr y revisa la tarea por favor
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: este desarrollo es incorrecto. cierra el pr y revisa la tarea por favor

__Corrector Ortográfico__2026-02-09T14:14:31.292989
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:31.301691 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:31.302374 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:31.305355 UTC
text | es | hola @almumu cuando tengas un rato libre, ¿podrías por favor echarle un vistazo rápido a este borrador de pr?
text | es | me gustaría especialmente tu opinión sobre la parte de la subsanación, para ver si consideras que este enfoque es el más adecuado.
text | es | cualquier aporte / sugerencia será bienvenida.
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: hola @almumu cuando tengas un rato libre, ¿podrías por favor echarle un vistazo rápido a este borrador de pr? me gustaría especialmente tu opinión sobre la parte de la subsanación, para ver si consideras que este enfoque es el más adecuado. cualquier aporte / sugerencia será bienvenida.
__Recursividad__
text | es | hola @almumu cuando tengas un rato libre, ¿podrías por favor echarle un vistazo rápido a este borrador de pr?
text | es | me gustaría especialmente tu opinión sobre la parte de la subsanación, para ver si consideras que este enfoque es el más adecuado.
text | es | cualquier aporte / sugerencia será bienvenida.
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: hola @almumu cuando tengas un rato libre, ¿podrías por favor echarle un vistazo rápido a este borrador de pr? me gustaría especialmente tu opinión sobre la parte de la subsanación, para ver si consideras que este enfoque es el más adecuado. cualquier aporte / sugerencia será bienvenida.

# Entrada procesada 2026-02-09T14:14:31.320204 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:31.323326 UTC
text | es | buenas @pedrobaeza hace un par de meses añadimos en este pr el soporte de la fecha de servicio necesario para verifactu.
text | es | tenemos instalado y funcionando ya el módulo verifactu de la oca con varios clientes y con nosotros mismos, por lo que nos vendría muy bien mergear este pr cuando tengas un momento para revisarlo (si consideras que es correcto).
text | es | gracias.
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: buenas @pedrobaeza hace un par de meses añadimos en este pr el soporte de la fecha de servicio necesario para verifactu. tenemos instalado y funcionando ya el módulo verifactu de la oca con varios clientes y con nosotros mismos, por lo que nos vendría muy bien mergear este pr cuando tengas un momento para revisarlo (si consideras que es correcto). gracias.
__Recursividad__
text | es | buenas @pedrobaeza hace un par de meses añadimos en este pr el soporte de la fecha de servicio necesario para verifactu.
text | es | tenemos instalado y funcionando ya el módulo verifactu de la oca con varios clientes y con nosotros mismos, por lo que nos vendría muy bien mergear este pr cuando tengas un momento para revisarlo (si consideras que es correcto).
text | es | gracias.
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: buenas @pedrobaeza hace un par de meses añadimos en este pr el soporte de la fecha de servicio necesario para verifactu. tenemos instalado y funcionando ya el módulo verifactu de la oca con varios clientes y con nosotros mismos, por lo que nos vendría muy bien mergear este pr cuando tengas un momento para revisarlo (si consideras que es correcto). gracias.

# Entrada procesada 2026-02-09T14:14:31.342707 UTC
text | es | @pedrobaeza @almumu .
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [18.0-ocabot-merge-pr-4634-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4634-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 18.0-ocabot-merge-pr-4634-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/07e89917d3bd8a6e9744a50ba89795b0d76a24f5).
text | en | after fixing the problem, you can re-issue a merge command.
code | code | please refrain from merging manually as it will most probably make the target branch red.
code | code | .
text | es | /ocabot merge patch .
code | code | this pr looks fantastic, let's merge it!
prepared branch [18.0-ocabot-merge-pr-4634-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4634-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
text | en | congratulations, your pr was merged at 3abdabbfc1243bde64b8cd0abce8abceaf4d25cc.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 14 | code_items: 7 | spanish_items: 3 | english_items: 4
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [18.0-ocabot-merge-pr-4634-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4634-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 18.0-ocabot-merge-pr-4634-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/07e89917d3bd8a6e9744a50ba89795b0d76a24f5).
Dato borrado: text | en | after fixing the problem, you can re-issue a merge command.
Dato borrado: code | code | please refrain from merging manually as it will most probably make the target branch red.
Dato borrado: code | code | .
Dato borrado: code | code | this pr looks fantastic, let's merge it!
prepared branch [18.0-ocabot-merge-pr-4634-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4634-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: text | en | congratulations, your pr was merged at 3abdabbfc1243bde64b8cd0abce8abceaf4d25cc.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: @pedrobaeza @almumu . /ocabot merge patch . corazón rojo
__Recursividad__
text | es | @pedrobaeza @almumu .
text | es | /ocabot merge patch .
text | es | corazón rojo
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: @pedrobaeza @almumu . /ocabot merge patch . corazón rojo

# Entrada procesada 2026-02-09T14:14:31.351061 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:31.352209 UTC
text | es | pendiente de #4499
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: pendiente de #4499
__Recursividad__
text | es | pendiente de #4499
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: pendiente de #4499

# Entrada procesada 2026-02-09T14:14:31.377107 UTC
text | es | subido con la aproximación inicial @pedrobaeza .
text | es | pero si lo metemos en el `res.config.settings`, ¿el usuario va a necesitar permiso de `ajustes` no?
text | es | si planteamos esta opción creo que mi primera aproximación con el `wizard` es más apropiada aunque quedara un poco raro el manejo del one2many, el cuál, podríamos sustituirlo con un botón que llame al modelo de `res.company.vat.prorrate` en lugar de manejarlo en el propio wizard .
text | es | con permiso de administrador de facturación no se tiene acceso a esa configuración?
text | es | si es así, entonces no nos valdría.
text | es | míralo y lo que tú veas.
code | code | .
text | es | @christian-ramos-tecnativa cómo quedó esto?
text | es | el runboat no funciona ahora mismo.
code | code | .
text | es | @pedrobaeza lo había devuelto a la primera aproximación utilizando un wizard, he hecho rebase a ver si el runboat colabora.
text | es | no he encontrado otra forma que quedara mas "limpia" a nivel de código.
text | es | la experiencia de usuario considero que si está correctamente cubierta.
text | es | si puedes pruébalo de nuevo con mas "cariño" y me dices que te parece cara sonriendo con ojos sonrientes .
text | es | tras volverlo a analizar, lo del m2m lo sigo sin ver.
text | es | es mejor hacer una "copia" de las líneas en el wizard, y luego volcarlo a lo definitivo.
text | es | se podría hacer fácilmente con una herencia con cambio de nombre, y que añada el campo inverse del wizard, y el `company_id` lo rellenas tú en el `default_get` y por contexto para las nuevas líneas, y luego sería volcarlo haciendo un read y sacando el valor del campo m2o del inverse.
code | code | .
text | es | listo, he preferido hacerlo al momento de pulsar el botón `actualizar` ya que el `inverse` estaría modificando los datos reales con cada modificación y considero que hacer eso es un wizard es muy poco intuitivo.
text | es | ya que, por lo general, el usuario cree que los cambios se aplican al cerrar el wizard.
code | code | .
text | es | listo!
text | es | pulgar hacia arriba tono de piel claro .
code | code | on my way to merge this fine pr!
prepared branch [16.0-ocabot-merge-pr-4627-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4627-by-pedrobaeza-bump-minor), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 7b5aa79adfa7b2b84bf80559b20fa24a6b772ac5.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 28 | code_items: 7 | spanish_items: 20 | english_items: 1
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | on my way to merge this fine pr!
prepared branch [16.0-ocabot-merge-pr-4627-by-pedrobaeza-bump-minor](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4627-by-pedrobaeza-bump-minor), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 7b5aa79adfa7b2b84bf80559b20fa24a6b772ac5.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: subido con la aproximación inicial @pedrobaeza . pero si lo metemos en el `res.config.settings`, ¿el usuario va a necesitar permiso de `ajustes` no? si planteamos esta opción creo que mi primera aproximación con el `wizard` es más apropiada aunque quedara un poco raro el manejo del one2many, el cuál, podríamos sustituirlo con un botón que llame al modelo de `res.company.vat.prorrate` en lugar de manejarlo en el propio wizard . con permiso de administrador de facturación no se tiene acceso a esa configuración? si es así, entonces no nos valdría. míralo y lo que tú veas. @christian-ramos-tecnativa cómo quedó esto? el runboat no funciona ahora mismo. @pedrobaeza lo había devuelto a la primera aproximación utilizando un wizard, he hecho rebase a ver si el runboat colabora. no he encontrado otra forma que quedara mas "limpia" a nivel de código. la experiencia de usuario considero que si está correctamente cubierta. si puedes pruébalo de nuevo con mas "cariño" y me dices que te parece cara sonriendo con ojos sonrientes . tras volverlo a analizar, lo del m2m lo sigo sin ver. es mejor hacer una "copia" de las líneas en el wizard, y luego volcarlo a lo definitivo. se podría hacer fácilmente con una herencia con cambio de nombre, y que añada el campo inverse del wizard, y el `company_id` lo rellenas tú en el `default_get` y por contexto para las nuevas líneas, y luego sería volcarlo haciendo un read y sacando el valor del campo m2o del inverse. listo, he preferido hacerlo al momento de pulsar el botón `actualizar` ya que el `inverse` estaría modificando los datos reales con cada modificación y considero que hacer eso es un wizard es muy poco intuitivo. ya que, por lo general, el usuario cree que los cambios se aplican al cerrar el wizard. listo! pulgar hacia arriba tono de piel claro . corazón rojo
__Recursividad__
text | es | subido con la aproximación inicial @pedrobaeza .
text | es | pero si lo metemos en el `res.config.settings`, ¿el usuario va a necesitar permiso de `ajustes` no?
text | es | si planteamos esta opción creo que mi primera aproximación con el `wizard` es más apropiada aunque quedara un poco raro el manejo del one2many, el cuál, podríamos sustituirlo con un botón que llame al modelo de `res.company.vat.prorrate` en lugar de manejarlo en el propio wizard .
text | es | con permiso de administrador de facturación no se tiene acceso a esa configuración?
text | es | si es así, entonces no nos valdría.
text | es | míralo y lo que tú veas.
text | es | @christian-ramos-tecnativa cómo quedó esto?
text | es | el runboat no funciona ahora mismo.
text | es | @pedrobaeza lo había devuelto a la primera aproximación utilizando un wizard, he hecho rebase a ver si el runboat colabora.
text | es | no he encontrado otra forma que quedara mas "limpia" a nivel de código.
text | es | la experiencia de usuario considero que si está correctamente cubierta.
text | es | si puedes pruébalo de nuevo con mas "cariño" y me dices que te parece cara sonriendo con ojos sonrientes .
text | es | tras volverlo a analizar, lo del m2m lo sigo sin ver.
text | es | es mejor hacer una "copia" de las líneas en el wizard, y luego volcarlo a lo definitivo.
text | es | se podría hacer fácilmente con una herencia con cambio de nombre, y que añada el campo inverse del wizard, y el `company_id` lo rellenas tú en el `default_get` y por contexto para las nuevas líneas, y luego sería volcarlo haciendo un read y sacando el valor del campo m2o del inverse.
text | es | listo, he preferido hacerlo al momento de pulsar el botón `actualizar` ya que el `inverse` estaría modificando los datos reales con cada modificación y considero que hacer eso es un wizard es muy poco intuitivo.
text | es | ya que, por lo general, el usuario cree que los cambios se aplican al cerrar el wizard.
text | es | listo!
text | es | pulgar hacia arriba tono de piel claro .
text | es | corazón rojo
Detalles: total_items: 20 | code_items: 0 | spanish_items: 20 | english_items: 0
recomposed_text: subido con la aproximación inicial @pedrobaeza . pero si lo metemos en el `res.config.settings`, ¿el usuario va a necesitar permiso de `ajustes` no? si planteamos esta opción creo que mi primera aproximación con el `wizard` es más apropiada aunque quedara un poco raro el manejo del one2many, el cuál, podríamos sustituirlo con un botón que llame al modelo de `res.company.vat.prorrate` en lugar de manejarlo en el propio wizard . con permiso de administrador de facturación no se tiene acceso a esa configuración? si es así, entonces no nos valdría. míralo y lo que tú veas. @christian-ramos-tecnativa cómo quedó esto? el runboat no funciona ahora mismo. @pedrobaeza lo había devuelto a la primera aproximación utilizando un wizard, he hecho rebase a ver si el runboat colabora. no he encontrado otra forma que quedara mas "limpia" a nivel de código. la experiencia de usuario considero que si está correctamente cubierta. si puedes pruébalo de nuevo con mas "cariño" y me dices que te parece cara sonriendo con ojos sonrientes . tras volverlo a analizar, lo del m2m lo sigo sin ver. es mejor hacer una "copia" de las líneas en el wizard, y luego volcarlo a lo definitivo. se podría hacer fácilmente con una herencia con cambio de nombre, y que añada el campo inverse del wizard, y el `company_id` lo rellenas tú en el `default_get` y por contexto para las nuevas líneas, y luego sería volcarlo haciendo un read y sacando el valor del campo m2o del inverse. listo, he preferido hacerlo al momento de pulsar el botón `actualizar` ya que el `inverse` estaría modificando los datos reales con cada modificación y considero que hacer eso es un wizard es muy poco intuitivo. ya que, por lo general, el usuario cree que los cambios se aplican al cerrar el wizard. listo! pulgar hacia arriba tono de piel claro . corazón rojo

# Entrada procesada 2026-02-09T14:14:31.438768 UTC
text | en | @adasatorres ping me when all tests are green .
text | es | no hay un modelo específico para canarias equivalente al 347?
text | es | cuál es la finalidad de esto? .
text | es | buenas tardes, @pedrobaeza.
text | es | efectivamente, en canarias existe un modelo equivalente (el 415).
text | es | supongo que debe haber algún caso específico que el 415 no cubre, ya que he visto que este addon existe en la versión 16.0 conviviendo con el del 415, y además hay un pr abierto para la 18.0 sobre el mismo tema.
text | es | quizá @christian-ramos-tecnativa, que fue quien subió el addon en la 16.0, pueda aportar más información sobre si realmente es necesario, teniendo en cuenta que ya existe el addon del modelo 415.
code | code | .
text | es | la verdad que cuando heredé el desarrollo de este módulo no le dí muchas vueltas, pero ahora por más que lo piense no se me ocurre un ejemplo en el que tengas que presentar un 347 con igic.
text | es | tienen algún caso real que utilice esta funcionalidad? .
text | es | @pedrobaeza @christian-ramos-tecnativa, cierro el pr, ya que después de investigar, he comprobado que para operaciones sujetas a igic en canarias, la obligación informativa anual se cumple mediante el modelo 415.
text | bilingual | además no he encontrado ninguna excepción.
Detalles: total_items: 12 | code_items: 1 | spanish_items: 9 | english_items: 1
Dato borrado: text | en | @adasatorres ping me when all tests are green .
Dato borrado: code | code | .
recomposed_text: no hay un modelo específico para canarias equivalente al 347? cuál es la finalidad de esto? . buenas tardes, @pedrobaeza. efectivamente, en canarias existe un modelo equivalente (el 415). supongo que debe haber algún caso específico que el 415 no cubre, ya que he visto que este addon existe en la versión 16.0 conviviendo con el del 415, y además hay un pr abierto para la 18.0 sobre el mismo tema. quizá @christian-ramos-tecnativa, que fue quien subió el addon en la 16.0, pueda aportar más información sobre si realmente es necesario, teniendo en cuenta que ya existe el addon del modelo 415. la verdad que cuando heredé el desarrollo de este módulo no le dí muchas vueltas, pero ahora por más que lo piense no se me ocurre un ejemplo en el que tengas que presentar un 347 con igic. tienen algún caso real que utilice esta funcionalidad? . @pedrobaeza @christian-ramos-tecnativa, cierro el pr, ya que después de investigar, he comprobado que para operaciones sujetas a igic en canarias, la obligación informativa anual se cumple mediante el modelo 415. además no he encontrado ninguna excepción.
__Recursividad__
text | es | no hay un modelo específico para canarias equivalente al 347?
text | es | cuál es la finalidad de esto? .
text | es | buenas tardes, @pedrobaeza.
text | es | efectivamente, en canarias existe un modelo equivalente (el 415).
text | es | supongo que debe haber algún caso específico que el 415 no cubre, ya que he visto que este addon existe en la versión 16.0 conviviendo con el del 415, y además hay un pr abierto para la 18.0 sobre el mismo tema.
text | es | quizá @christian-ramos-tecnativa, que fue quien subió el addon en la 16.0, pueda aportar más información sobre si realmente es necesario, teniendo en cuenta que ya existe el addon del modelo 415.
text | es | la verdad que cuando heredé el desarrollo de este módulo no le dí muchas vueltas, pero ahora por más que lo piense no se me ocurre un ejemplo en el que tengas que presentar un 347 con igic.
text | es | tienen algún caso real que utilice esta funcionalidad? .
text | es | @pedrobaeza @christian-ramos-tecnativa, cierro el pr, ya que después de investigar, he comprobado que para operaciones sujetas a igic en canarias, la obligación informativa anual se cumple mediante el modelo 415.
text | bilingual | además no he encontrado ninguna excepción.
Detalles: total_items: 10 | code_items: 0 | spanish_items: 9 | english_items: 0
recomposed_text: no hay un modelo específico para canarias equivalente al 347? cuál es la finalidad de esto? . buenas tardes, @pedrobaeza. efectivamente, en canarias existe un modelo equivalente (el 415). supongo que debe haber algún caso específico que el 415 no cubre, ya que he visto que este addon existe en la versión 16.0 conviviendo con el del 415, y además hay un pr abierto para la 18.0 sobre el mismo tema. quizá @christian-ramos-tecnativa, que fue quien subió el addon en la 16.0, pueda aportar más información sobre si realmente es necesario, teniendo en cuenta que ya existe el addon del modelo 415. la verdad que cuando heredé el desarrollo de este módulo no le dí muchas vueltas, pero ahora por más que lo piense no se me ocurre un ejemplo en el que tengas que presentar un 347 con igic. tienen algún caso real que utilice esta funcionalidad? . @pedrobaeza @christian-ramos-tecnativa, cierro el pr, ya que después de investigar, he comprobado que para operaciones sujetas a igic en canarias, la obligación informativa anual se cumple mediante el modelo 415. además no he encontrado ninguna excepción.

__Corrector Ortográfico__2026-02-09T14:14:31.438768
'ademas' se corrige por 'además'
'ningún excepción' se corrige por 'ninguna excepción'

# Entrada procesada 2026-02-09T14:14:31.473179 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:31.485573 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
text | es | ¿@pedrobaeza, @lauracforgeflow podéis revisar los cambios por favor? .
text | es | ¿@pedrobaeza puedes volver a revisarlo, por favor?
text | es | muchas gracias cara feliz con ojos sonrientes .
code | code | on my way to merge this fine pr!
prepared branch [16.0-ocabot-merge-pr-4617-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4617-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | this pr has the `approved` label and has been created more than 5 days ago.
text | en | it should therefore be ready to merge by a maintainer (or a psc member if the concerned addon has no declared maintainer).
text | und | robot .
code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 16.0-ocabot-merge-pr-4617-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/76176889882a5f83b88a26517873418b2feb92e4).
text | en | after fixing the problem, you can re-issue a merge command.
code | code | please refrain from merging manually as it will most probably make the target branch red.
code | code | .
text | es | /ocabot merge patch .
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [16.0-ocabot-merge-pr-4617-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4617-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
text | es | al fusionar ha dado error en el módulo del verifactu .
code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 16.0-ocabot-merge-pr-4617-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/6ec673c46be6640c49c60fd937eac8750b92387a).
text | en | after fixing the problem, you can re-issue a merge command.
code | code | please refrain from merging manually as it will most probably make the target branch red.
code | code | .
text | es | uhm, ese error es extraño, pero habría que solucionarlo para limpiar la rama.
code | code | .
text | es | ¿@pedrobaeza puedes volver a lanzar el merge?
text | es | ya quedó resuelto el error del verifactu que saltó al fusionar.
text | es | gracias .
text | es | /ocabot merge patch .
code | code | this pr looks fantastic, let's merge it!
prepared branch [16.0-ocabot-merge-pr-4617-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4617-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 7a6618f9e7915b2d71bb92ac59a5818e31718d27.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 33 | code_items: 15 | spanish_items: 11 | english_items: 6
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | on my way to merge this fine pr!
prepared branch [16.0-ocabot-merge-pr-4617-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4617-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | this pr has the `approved` label and has been created more than 5 days ago.
Dato borrado: text | en | it should therefore be ready to merge by a maintainer (or a psc member if the concerned addon has no declared maintainer).
Dato borrado: code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 16.0-ocabot-merge-pr-4617-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/76176889882a5f83b88a26517873418b2feb92e4).
Dato borrado: text | en | after fixing the problem, you can re-issue a merge command.
Dato borrado: code | code | please refrain from merging manually as it will most probably make the target branch red.
Dato borrado: code | code | .
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [16.0-ocabot-merge-pr-4617-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4617-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 16.0-ocabot-merge-pr-4617-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/6ec673c46be6640c49c60fd937eac8750b92387a).
Dato borrado: text | en | after fixing the problem, you can re-issue a merge command.
Dato borrado: code | code | please refrain from merging manually as it will most probably make the target branch red.
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | this pr looks fantastic, let's merge it!
prepared branch [16.0-ocabot-merge-pr-4617-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4617-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 7a6618f9e7915b2d71bb92ac59a5818e31718d27.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: ¿@pedrobaeza, @lauracforgeflow podéis revisar los cambios por favor? . ¿@pedrobaeza puedes volver a revisarlo, por favor? muchas gracias cara feliz con ojos sonrientes . robot . /ocabot merge patch . al fusionar ha dado error en el módulo del verifactu . uhm, ese error es extraño, pero habría que solucionarlo para limpiar la rama. ¿@pedrobaeza puedes volver a lanzar el merge? ya quedó resuelto el error del verifactu que saltó al fusionar. gracias . /ocabot merge patch . corazón rojo
__Recursividad__
text | es | ¿@pedrobaeza, @lauracforgeflow podéis revisar los cambios por favor? .
text | es | ¿@pedrobaeza puedes volver a revisarlo, por favor?
text | es | muchas gracias cara feliz con ojos sonrientes .
text | und | robot .
text | es | /ocabot merge patch .
text | es | al fusionar ha dado error en el módulo del verifactu .
text | es | uhm, ese error es extraño, pero habría que solucionarlo para limpiar la rama.
text | es | ¿@pedrobaeza puedes volver a lanzar el merge?
text | es | ya quedó resuelto el error del verifactu que saltó al fusionar.
text | es | gracias .
text | es | /ocabot merge patch .
text | es | corazón rojo
Detalles: total_items: 12 | code_items: 0 | spanish_items: 11 | english_items: 0
Dato borrado: text | und | robot .
recomposed_text: ¿@pedrobaeza, @lauracforgeflow podéis revisar los cambios por favor? . ¿@pedrobaeza puedes volver a revisarlo, por favor? muchas gracias cara feliz con ojos sonrientes . /ocabot merge patch . al fusionar ha dado error en el módulo del verifactu . uhm, ese error es extraño, pero habría que solucionarlo para limpiar la rama. ¿@pedrobaeza puedes volver a lanzar el merge? ya quedó resuelto el error del verifactu que saltó al fusionar. gracias . /ocabot merge patch . corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:31.485573
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:31.518486 UTC
text | es | hasta donde sé, el resultado es automático y calculado.
text | es | ¿en qué casos se necesitaría cambiar ese resultado? .
text | es | > hasta donde sé, el resultado es automático y calculado.
text | es | ¿en qué casos se necesitaría cambiar ese resultado?
text | es | creo que no, el campo no es compute y no se hace nada en el `calculate` .
text | es | ya, pues entonces creo que es lo que habría que hacer en lugar de cambiar el readonly, ¿no os parece? .
text | es | @emiliopascual @arantxasudon @pedrobaeza he modificado el pr para hacer la mejora del cómputo del campo tipo declaración.
code | code | .
text | es | @pedrobaeza ¿podrías revisarlo? ¡
text | es | gracias! .
code | code | this pr has the `approved` label and has been created more than 5 days ago.
text | en | it should therefore be ready to merge by a maintainer (or a psc member if the concerned addon has no declared maintainer).
text | und | robot .
text | es | hola, @pedrobaeza, ¿podrías revisar la respuesta de emilio? ¡
text | es | gracias! .
code | code | efectivamente, como dice @pedrobaeza "negativa" se refiere a 0 <img width="674" height="192" alt="image" src="https://github.com/user-attachments/assets/41a107e0-bd8e-4af2-80be-16c95b1cff19" /> además, he añadido una restricción al confirmar de que la casilla 30 no sea negativa.
code | code | <img width="658" height="106" alt="image" src="https://github.com/user-attachments/assets/a10a934f-9d06-40dd-83d4-7d6d97e69c6d" /> además, ¿podéis cambiar el nombre del pr para que indique la rama 16.0? este pr está apuntando a 16.0 .
text | en | hey, thanks for contributing!
text | en | proceeding to merge this for you.
code | code | prepared branch [16.0-ocabot-merge-pr-4616-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4616-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 16.0-ocabot-merge-pr-4616-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/f85535a28e80a027258ed70673ba4e5dd9119b9c).
text | en | after fixing the problem, you can re-issue a merge command.
code | code | please refrain from merging manually as it will most probably make the target branch red.
code | code | .
text | es | /ocabot merge patch .
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [16.0-ocabot-merge-pr-4616-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4616-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 752dc7f82ff323af1eac411cf3e3a57877999201.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 32 | code_items: 12 | spanish_items: 13 | english_items: 6
Dato borrado: code | code | .
Dato borrado: code | code | this pr has the `approved` label and has been created more than 5 days ago.
Dato borrado: text | en | it should therefore be ready to merge by a maintainer (or a psc member if the concerned addon has no declared maintainer).
Dato borrado: code | code | efectivamente, como dice @pedrobaeza "negativa" se refiere a 0 <img width="674" height="192" alt="image" src="https://github.com/user-attachments/assets/41a107e0-bd8e-4af2-80be-16c95b1cff19" /> además, he añadido una restricción al confirmar de que la casilla 30 no sea negativa.
Dato borrado: code | code | <img width="658" height="106" alt="image" src="https://github.com/user-attachments/assets/a10a934f-9d06-40dd-83d4-7d6d97e69c6d" /> además, ¿podéis cambiar el nombre del pr para que indique la rama 16.0? este pr está apuntando a 16.0 .
Dato borrado: text | en | hey, thanks for contributing!
Dato borrado: text | en | proceeding to merge this for you.
Dato borrado: code | code | prepared branch [16.0-ocabot-merge-pr-4616-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4616-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 16.0-ocabot-merge-pr-4616-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/f85535a28e80a027258ed70673ba4e5dd9119b9c).
Dato borrado: text | en | after fixing the problem, you can re-issue a merge command.
Dato borrado: code | code | please refrain from merging manually as it will most probably make the target branch red.
Dato borrado: code | code | .
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [16.0-ocabot-merge-pr-4616-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4616-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 752dc7f82ff323af1eac411cf3e3a57877999201.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: hasta donde sé, el resultado es automático y calculado. ¿en qué casos se necesitaría cambiar ese resultado? . > hasta donde sé, el resultado es automático y calculado. ¿en qué casos se necesitaría cambiar ese resultado? creo que no, el campo no es compute y no se hace nada en el `calculate` . ya, pues entonces creo que es lo que habría que hacer en lugar de cambiar el readonly, ¿no os parece? . @emiliopascual @arantxasudon @pedrobaeza he modificado el pr para hacer la mejora del cómputo del campo tipo declaración. @pedrobaeza ¿podrías revisarlo? ¡ gracias! . robot . hola, @pedrobaeza, ¿podrías revisar la respuesta de emilio? ¡ gracias! . /ocabot merge patch . corazón rojo
__Recursividad__
text | es | hasta donde sé, el resultado es automático y calculado.
text | es | ¿en qué casos se necesitaría cambiar ese resultado? .
text | es | > hasta donde sé, el resultado es automático y calculado.
text | es | ¿en qué casos se necesitaría cambiar ese resultado?
text | es | creo que no, el campo no es compute y no se hace nada en el `calculate` .
text | es | ya, pues entonces creo que es lo que habría que hacer en lugar de cambiar el readonly, ¿no os parece? .
text | es | @emiliopascual @arantxasudon @pedrobaeza he modificado el pr para hacer la mejora del cómputo del campo tipo declaración.
text | es | @pedrobaeza ¿podrías revisarlo? ¡
text | es | gracias! .
text | und | robot .
text | es | hola, @pedrobaeza, ¿podrías revisar la respuesta de emilio? ¡
text | es | gracias! .
text | es | /ocabot merge patch .
text | es | corazón rojo
Detalles: total_items: 14 | code_items: 0 | spanish_items: 13 | english_items: 0
Dato borrado: text | und | robot .
recomposed_text: hasta donde sé, el resultado es automático y calculado. ¿en qué casos se necesitaría cambiar ese resultado? . > hasta donde sé, el resultado es automático y calculado. ¿en qué casos se necesitaría cambiar ese resultado? creo que no, el campo no es compute y no se hace nada en el `calculate` . ya, pues entonces creo que es lo que habría que hacer en lugar de cambiar el readonly, ¿no os parece? . @emiliopascual @arantxasudon @pedrobaeza he modificado el pr para hacer la mejora del cómputo del campo tipo declaración. @pedrobaeza ¿podrías revisarlo? ¡ gracias! . hola, @pedrobaeza, ¿podrías revisar la respuesta de emilio? ¡ gracias! . /ocabot merge patch . corazón rojo

# Entrada procesada 2026-02-09T14:14:31.543925 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:31.553601 UTC
text | es | en lugar de esto, simplemente pon en la clave `excludes` el otro módulo y deja que odoo ya haga esta comprobación.
code | code | .
text | es | > en lugar de esto, simplemente pon en la clave `excludes` el otro módulo y deja que odoo ya haga esta comprobación.
text | und | okay!
text | es | es verdad, mucho mas simple :sweat_smile: .
code | code | this pr looks fantastic, let's merge it!
prepared branch [18.0-ocabot-merge-pr-4612-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4612-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 18.0-ocabot-merge-pr-4612-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/29ca7de9657b53bb0b4a5c9e892a07b9a9ff3c57).
text | en | after fixing the problem, you can re-issue a merge command.
code | code | please refrain from merging manually as it will most probably make the target branch red.
code | code | .
text | es | @pedrobaeza he parado el workflow ya que ha habido un push después de tu comando de merge y no sé cómo puede afectar.
text | es | ¿puedes revisar que se pueda fusionar y relanzar el comando si lo ves bien?
text | es | gracias de antemano.
code | code | .
text | es | /ocabot merge patch .
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [18.0-ocabot-merge-pr-4612-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4612-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 016933d9ba88fb920cd08f30bbb82231054eb150.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 22 | code_items: 10 | spanish_items: 8 | english_items: 3
Dato borrado: code | code | .
Dato borrado: code | code | this pr looks fantastic, let's merge it!
prepared branch [18.0-ocabot-merge-pr-4612-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4612-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 18.0-ocabot-merge-pr-4612-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/29ca7de9657b53bb0b4a5c9e892a07b9a9ff3c57).
Dato borrado: text | en | after fixing the problem, you can re-issue a merge command.
Dato borrado: code | code | please refrain from merging manually as it will most probably make the target branch red.
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [18.0-ocabot-merge-pr-4612-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4612-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 016933d9ba88fb920cd08f30bbb82231054eb150.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: en lugar de esto, simplemente pon en la clave `excludes` el otro módulo y deja que odoo ya haga esta comprobación. > en lugar de esto, simplemente pon en la clave `excludes` el otro módulo y deja que odoo ya haga esta comprobación. okay! es verdad, mucho mas simple :sweat_smile: . @pedrobaeza he parado el workflow ya que ha habido un push después de tu comando de merge y no sé cómo puede afectar. ¿puedes revisar que se pueda fusionar y relanzar el comando si lo ves bien? gracias de antemano. /ocabot merge patch . corazón rojo
__Recursividad__
text | es | en lugar de esto, simplemente pon en la clave `excludes` el otro módulo y deja que odoo ya haga esta comprobación.
text | es | > en lugar de esto, simplemente pon en la clave `excludes` el otro módulo y deja que odoo ya haga esta comprobación.
text | und | okay!
text | es | es verdad, mucho mas simple :sweat_smile: .
text | es | @pedrobaeza he parado el workflow ya que ha habido un push después de tu comando de merge y no sé cómo puede afectar.
text | es | ¿puedes revisar que se pueda fusionar y relanzar el comando si lo ves bien?
text | es | gracias de antemano.
text | es | /ocabot merge patch .
text | es | corazón rojo
Detalles: total_items: 9 | code_items: 0 | spanish_items: 8 | english_items: 0
Dato borrado: text | und | okay!
recomposed_text: en lugar de esto, simplemente pon en la clave `excludes` el otro módulo y deja que odoo ya haga esta comprobación. > en lugar de esto, simplemente pon en la clave `excludes` el otro módulo y deja que odoo ya haga esta comprobación. es verdad, mucho mas simple :sweat_smile: . @pedrobaeza he parado el workflow ya que ha habido un push después de tu comando de merge y no sé cómo puede afectar. ¿puedes revisar que se pueda fusionar y relanzar el comando si lo ves bien? gracias de antemano. /ocabot merge patch . corazón rojo

# Entrada procesada 2026-02-09T14:14:31.574579 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:31.579318 UTC
text | en | hola @ao-landoo,
some modules you are maintaining are being modified, check this out! .
code | code | @bilbonet uno de nuestros clientes estaba experimentando random issues como [este](https://github.com/oca/l10n-spain/pull/3909#issuecomment-2666406741).
text | es | he realizado este patch en aras de corregirlo.
text | es | en mis pruebas locales funciona correctamente.
text | es | tal vez puedas ayudarme con un review funcional.
code | code | .
text | es | /ocabot merge patch .
code | code | on my way to merge this fine pr!
prepared branch [16.0-ocabot-merge-pr-4610-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4610-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 9587712879dbcb63e709f541cb515964709fea74.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 12 | code_items: 5 | spanish_items: 5 | english_items: 2
Dato borrado: text | en | hola @ao-landoo,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | @bilbonet uno de nuestros clientes estaba experimentando random issues como [este](https://github.com/oca/l10n-spain/pull/3909#issuecomment-2666406741).
Dato borrado: code | code | .
Dato borrado: code | code | on my way to merge this fine pr!
prepared branch [16.0-ocabot-merge-pr-4610-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4610-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 9587712879dbcb63e709f541cb515964709fea74.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: he realizado este patch en aras de corregirlo. en mis pruebas locales funciona correctamente. tal vez puedas ayudarme con un review funcional. /ocabot merge patch . corazón rojo
__Recursividad__
text | es | he realizado este patch en aras de corregirlo.
text | es | en mis pruebas locales funciona correctamente.
text | es | tal vez puedas ayudarme con un review funcional.
text | es | /ocabot merge patch .
text | es | corazón rojo
Detalles: total_items: 5 | code_items: 0 | spanish_items: 5 | english_items: 0
recomposed_text: he realizado este patch en aras de corregirlo. en mis pruebas locales funciona correctamente. tal vez puedas ayudarme con un review funcional. /ocabot merge patch . corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:31.579318
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:31.591323 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:31.595620 UTC
code | code | este pr está pendiente de solucionar https://github.com/oca/l10n-spain/pull/4499#issuecomment-3571519427 .
text | es | buenas @syci.
text | es | desde el desconocimiento (no conozco el régimen tributario canario), ¿porque has asignado el impuesto "exento por comercio minorista" a la clave s1 (operación sujeto no exenta)?
text | es | por otro lado, el "igic exento repercutido" ¿porque su causa de exención es e6?
text | es | el "igic 0% (exportaciones)" lo veo bien en e2 por tratarse de una exportación.
text | es | como bien dices está pendiente del pr del módulo original.
Detalles: total_items: 6 | code_items: 1 | spanish_items: 5 | english_items: 0
Dato borrado: code | code | este pr está pendiente de solucionar https://github.com/oca/l10n-spain/pull/4499#issuecomment-3571519427 .
recomposed_text: buenas @syci. desde el desconocimiento (no conozco el régimen tributario canario), ¿porque has asignado el impuesto "exento por comercio minorista" a la clave s1 (operación sujeto no exenta)? por otro lado, el "igic exento repercutido" ¿porque su causa de exención es e6? el "igic 0% (exportaciones)" lo veo bien en e2 por tratarse de una exportación. como bien dices está pendiente del pr del módulo original.
__Recursividad__
text | es | buenas @syci.
text | es | desde el desconocimiento (no conozco el régimen tributario canario), ¿porque has asignado el impuesto "exento por comercio minorista" a la clave s1 (operación sujeto no exenta)?
text | es | por otro lado, el "igic exento repercutido" ¿porque su causa de exención es e6?
text | es | el "igic 0% (exportaciones)" lo veo bien en e2 por tratarse de una exportación.
text | es | como bien dices está pendiente del pr del módulo original.
Detalles: total_items: 5 | code_items: 0 | spanish_items: 5 | english_items: 0
recomposed_text: buenas @syci. desde el desconocimiento (no conozco el régimen tributario canario), ¿porque has asignado el impuesto "exento por comercio minorista" a la clave s1 (operación sujeto no exenta)? por otro lado, el "igic exento repercutido" ¿porque su causa de exención es e6? el "igic 0% (exportaciones)" lo veo bien en e2 por tratarse de una exportación. como bien dices está pendiente del pr del módulo original.

# Entrada procesada 2026-02-09T14:14:31.614301 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:31.623950 UTC
text | es | no termino de ver la relación de esto con el sii.
code | code | .
text | es | > no termino de ver la relación de esto con el sii.
code | code | buenos días @pedrobaeza , la relación es que después de ese cambio en https://github.com/oca/l10n-spain/commit/fa02f05b86cf2b16c42491bcb49143d6d6be5bb8#diff-d74b92c5e46eac6d96f3fd4c432611a9c7c51c3f691dddba3342721ff660fe3fr16-r17 en el módulo **l10n_es_vat_book_oss** se establece a 0 el importe de todos los impuestos oss https://github.com/oca/l10n-spain/blob/3df1c7be67052c5ec7fe8b599f4860ae951750c8/l10n_es_vat_book_oss/models/account_move.py#l16 <img width="892" height="234" alt="image" src="https://github.com/user-attachments/assets/9c819e14-afa0-403f-a209-21b2e5e71d6f" /> y en el módulo **l10n_es_aeat_sii_oss** se buscan esos mismos impuestos oss para restarlos del importe total en el sii [l10n_es_vat_book](https://github.com/oca/l10n-spain/blame/3df1c7be67052c5ec7fe8b599f4860ae951750c8/l10n_es_aeat_sii_oss/models/account_move.py#l14) <img width="709" height="307" alt="image" src="https://github.com/user-attachments/assets/36ad32bb-c6f9-4b0f-9d63-7e5eba6ddba5" /> por lo que ya no se están restando los impuestos oss del importe total porque "amount" siempre es 0 porque el módulo l10n_es_vat_book_oss lo establece a 0 en la función _process_aeat_tax_fee_info que es la que se utiliza dentro de _get_aeat_tax_info (la misma que se utiliza en el sii, y también en verifactu para obtener el desglose de impuestos) https://github.com/oca/l10n-spain/blob/3df1c7be67052c5ec7fe8b599f4860ae951750c8/l10n_es_aeat/models/account_move.py#l38 <img width="1017" height="548" alt="image" src="https://github.com/user-attachments/assets/31c945d0-08a0-43f9-a5c9-2fa7790cb35e" /> <img width="1203" height="497" alt="image" src="https://github.com/user-attachments/assets/b7d5572b-5683-4c6e-ace3-656f4fddf369" /> .
text | es | ya, ahí está el tema, que la idea es que libro de iva debería ser igual a sii/veri*factu, y por eso busco que haya una fuente de verdad.
text | es | creo que lo que podemos hacer si no es tener como con la cuota: el importe y luego lo deducible, pues aquí la base y la base "aplicable a impuestos", y entonces quitar de uno u otro, y así seguir conteniendo todo en el mismo diccionario y llamada, pero utilizar una u otra según interese.
code | code | .
text | es | @pedrobaeza el problema es que ahora todas las facturas con oss salen con incidencias en el sii.
text | es | exactamente que se debería hacer para poder cerrarlo? .
text | es | ¿qué te parece la sugerencia de tener esos cuatro valores devueltos, y leer en cada módulo (sii/vat book) lo que interese?
text | es | si no lo ves factible, vamos a solucionarlo de la manera que sea.
Detalles: total_items: 11 | code_items: 3 | spanish_items: 8 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | buenos días @pedrobaeza , la relación es que después de ese cambio en https://github.com/oca/l10n-spain/commit/fa02f05b86cf2b16c42491bcb49143d6d6be5bb8#diff-d74b92c5e46eac6d96f3fd4c432611a9c7c51c3f691dddba3342721ff660fe3fr16-r17 en el módulo **l10n_es_vat_book_oss** se establece a 0 el importe de todos los impuestos oss https://github.com/oca/l10n-spain/blob/3df1c7be67052c5ec7fe8b599f4860ae951750c8/l10n_es_vat_book_oss/models/account_move.py#l16 <img width="892" height="234" alt="image" src="https://github.com/user-attachments/assets/9c819e14-afa0-403f-a209-21b2e5e71d6f" /> y en el módulo **l10n_es_aeat_sii_oss** se buscan esos mismos impuestos oss para restarlos del importe total en el sii [l10n_es_vat_book](https://github.com/oca/l10n-spain/blame/3df1c7be67052c5ec7fe8b599f4860ae951750c8/l10n_es_aeat_sii_oss/models/account_move.py#l14) <img width="709" height="307" alt="image" src="https://github.com/user-attachments/assets/36ad32bb-c6f9-4b0f-9d63-7e5eba6ddba5" /> por lo que ya no se están restando los impuestos oss del importe total porque "amount" siempre es 0 porque el módulo l10n_es_vat_book_oss lo establece a 0 en la función _process_aeat_tax_fee_info que es la que se utiliza dentro de _get_aeat_tax_info (la misma que se utiliza en el sii, y también en verifactu para obtener el desglose de impuestos) https://github.com/oca/l10n-spain/blob/3df1c7be67052c5ec7fe8b599f4860ae951750c8/l10n_es_aeat/models/account_move.py#l38 <img width="1017" height="548" alt="image" src="https://github.com/user-attachments/assets/31c945d0-08a0-43f9-a5c9-2fa7790cb35e" /> <img width="1203" height="497" alt="image" src="https://github.com/user-attachments/assets/b7d5572b-5683-4c6e-ace3-656f4fddf369" /> .
Dato borrado: code | code | .
recomposed_text: no termino de ver la relación de esto con el sii. > no termino de ver la relación de esto con el sii. ya, ahí está el tema, que la idea es que libro de iva debería ser igual a sii/veri*factu, y por eso busco que haya una fuente de verdad. creo que lo que podemos hacer si no es tener como con la cuota: el importe y luego lo deducible, pues aquí la base y la base "aplicable a impuestos", y entonces quitar de uno u otro, y así seguir conteniendo todo en el mismo diccionario y llamada, pero utilizar una u otra según interese. @pedrobaeza el problema es que ahora todas las facturas con oss salen con incidencias en el sii. exactamente que se debería hacer para poder cerrarlo? . ¿qué te parece la sugerencia de tener esos cuatro valores devueltos, y leer en cada módulo (sii/vat book) lo que interese? si no lo ves factible, vamos a solucionarlo de la manera que sea.
__Recursividad__
text | es | no termino de ver la relación de esto con el sii.
text | es | > no termino de ver la relación de esto con el sii.
text | es | ya, ahí está el tema, que la idea es que libro de iva debería ser igual a sii/veri*factu, y por eso busco que haya una fuente de verdad.
text | es | creo que lo que podemos hacer si no es tener como con la cuota: el importe y luego lo deducible, pues aquí la base y la base "aplicable a impuestos", y entonces quitar de uno u otro, y así seguir conteniendo todo en el mismo diccionario y llamada, pero utilizar una u otra según interese.
text | es | @pedrobaeza el problema es que ahora todas las facturas con oss salen con incidencias en el sii.
text | es | exactamente que se debería hacer para poder cerrarlo? .
text | es | ¿qué te parece la sugerencia de tener esos cuatro valores devueltos, y leer en cada módulo (sii/vat book) lo que interese?
text | es | si no lo ves factible, vamos a solucionarlo de la manera que sea.
Detalles: total_items: 8 | code_items: 0 | spanish_items: 8 | english_items: 0
recomposed_text: no termino de ver la relación de esto con el sii. > no termino de ver la relación de esto con el sii. ya, ahí está el tema, que la idea es que libro de iva debería ser igual a sii/veri*factu, y por eso busco que haya una fuente de verdad. creo que lo que podemos hacer si no es tener como con la cuota: el importe y luego lo deducible, pues aquí la base y la base "aplicable a impuestos", y entonces quitar de uno u otro, y así seguir conteniendo todo en el mismo diccionario y llamada, pero utilizar una u otra según interese. @pedrobaeza el problema es que ahora todas las facturas con oss salen con incidencias en el sii. exactamente que se debería hacer para poder cerrarlo? . ¿qué te parece la sugerencia de tener esos cuatro valores devueltos, y leer en cada módulo (sii/vat book) lo que interese? si no lo ves factible, vamos a solucionarlo de la manera que sea.

# Entrada procesada 2026-02-09T14:14:31.657218 UTC
code | code | this pr looks fantastic, let's merge it!
prepared branch [17.0-ocabot-merge-pr-4602-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4602-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 8af041d43cd184373e75b8546b94222896a614e0.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 5 | code_items: 3 | spanish_items: 1 | english_items: 1
Dato borrado: code | code | this pr looks fantastic, let's merge it!
prepared branch [17.0-ocabot-merge-pr-4602-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4602-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 8af041d43cd184373e75b8546b94222896a614e0.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

# Entrada procesada 2026-02-09T14:14:31.665126 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
code | code | no es un error real según lo comentado en https://github.com/oca/l10n-spain/issues/4596#issuecomment-3569886665, así que cierro.
Detalles: total_items: 2 | code_items: 1 | spanish_items: 0 | english_items: 1
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | no es un error real según lo comentado en https://github.com/oca/l10n-spain/issues/4596#issuecomment-3569886665, así que cierro.
recomposed_text:
__Recursividad__
Detalles: total_items: 0 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text:

__Corrector Ortográfico__2026-02-09T14:14:31.665126
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:31.666376 UTC
text | es | pendiente de #4622
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: pendiente de #4622
__Recursividad__
text | es | pendiente de #4622
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: pendiente de #4622

# Entrada procesada 2026-02-09T14:14:31.674451 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:31.676395 UTC
code | code | this pr looks fantastic, let's merge it!
prepared branch [18.0-ocabot-merge-pr-4598-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4598-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 431acdf74780f8abe623486749c76d4f9b599f79.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 5 | code_items: 3 | spanish_items: 1 | english_items: 1
Dato borrado: code | code | this pr looks fantastic, let's merge it!
prepared branch [18.0-ocabot-merge-pr-4598-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/18.0-ocabot-merge-pr-4598-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 431acdf74780f8abe623486749c76d4f9b599f79.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

# Entrada procesada 2026-02-09T14:14:31.688870 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
code | code | this pr looks fantastic, let's merge it!
prepared branch [17.0-ocabot-merge-pr-4595-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4595-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 17.0-ocabot-merge-pr-4595-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/e9beaf90a5587fb40d173948f599d69e1543e8b6).
text | en | after fixing the problem, you can re-issue a merge command.
code | code | please refrain from merging manually as it will most probably make the target branch red.
code | code | .
text | es | @ramzeta por favor no quites los parámetros anteriores.
text | es | el error en el ci que hay ahora mismo se debe a que face lleva más de 24 horas caído.
text | es | a ver si lo solucionan, y si no, veremos de desactivar temporalmente los tests, aunque precisamente el módulo tampoco funciona debido a eso.
code | code | .
text | es | vale subo una mejora que detecte !
text | es | gracias .
text | es | sí, y por favor haz squash de los commits y revisa el ci de pre-commit.
Detalles: total_items: 14 | code_items: 6 | spanish_items: 6 | english_items: 2
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: code | code | this pr looks fantastic, let's merge it!
prepared branch [17.0-ocabot-merge-pr-4595-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4595-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | @pedrobaeza your merge command was aborted due to failed check(s), which you can inspect on [this commit of 17.0-ocabot-merge-pr-4595-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/e9beaf90a5587fb40d173948f599d69e1543e8b6).
Dato borrado: text | en | after fixing the problem, you can re-issue a merge command.
Dato borrado: code | code | please refrain from merging manually as it will most probably make the target branch red.
Dato borrado: code | code | .
Dato borrado: code | code | .
recomposed_text: @ramzeta por favor no quites los parámetros anteriores. el error en el ci que hay ahora mismo se debe a que face lleva más de 24 horas caído. a ver si lo solucionan, y si no, veremos de desactivar temporalmente los tests, aunque precisamente el módulo tampoco funciona debido a eso. vale subo una mejora que detecte ! gracias . sí, y por favor haz squash de los commits y revisa el ci de pre-commit.
__Recursividad__
text | es | @ramzeta por favor no quites los parámetros anteriores.
text | es | el error en el ci que hay ahora mismo se debe a que face lleva más de 24 horas caído.
text | es | a ver si lo solucionan, y si no, veremos de desactivar temporalmente los tests, aunque precisamente el módulo tampoco funciona debido a eso.
text | es | vale subo una mejora que detecte !
text | es | gracias .
text | es | sí, y por favor haz squash de los commits y revisa el ci de pre-commit.
Detalles: total_items: 6 | code_items: 0 | spanish_items: 6 | english_items: 0
recomposed_text: @ramzeta por favor no quites los parámetros anteriores. el error en el ci que hay ahora mismo se debe a que face lleva más de 24 horas caído. a ver si lo solucionan, y si no, veremos de desactivar temporalmente los tests, aunque precisamente el módulo tampoco funciona debido a eso. vale subo una mejora que detecte ! gracias . sí, y por favor haz squash de los commits y revisa el ci de pre-commit.

__Corrector Ortográfico__2026-02-09T14:14:31.688870
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:31.708386 UTC
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
recomposed_text: nan
__Recursividad__
text | und | nan
Detalles: total_items: 1 | code_items: 0 | spanish_items: 0 | english_items: 0
Dato borrado: text | und | nan
recomposed_text:

# Entrada procesada 2026-02-09T14:14:31.711178 UTC
text | es | ping @juancarlosonate-tecnativa he añadido el cuando se cambie el partner recalcule los impuestos en `sale.order`.
text | es | en el caso de `purchase.order` y `account.move` ya se hace.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: ping @juancarlosonate-tecnativa he añadido el cuando se cambie el partner recalcule los impuestos en `sale.order`. en el caso de `purchase.order` y `account.move` ya se hace.
__Recursividad__
text | es | ping @juancarlosonate-tecnativa he añadido el cuando se cambie el partner recalcule los impuestos en `sale.order`.
text | es | en el caso de `purchase.order` y `account.move` ya se hace.
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: ping @juancarlosonate-tecnativa he añadido el cuando se cambie el partner recalcule los impuestos en `sale.order`. en el caso de `purchase.order` y `account.move` ya se hace.

# Entrada procesada 2026-02-09T14:14:31.725185 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
text | es | @carlos-lopez-tecnativa done!! .
text | en | hey, thanks for contributing!
text | en | proceeding to merge this for you.
code | code | prepared branch [17.0-ocabot-merge-pr-4585-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4585-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 531a2525a14caf27de84040f1da629515a303f0f.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 9 | code_items: 3 | spanish_items: 2 | english_items: 4
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: text | en | hey, thanks for contributing!
Dato borrado: text | en | proceeding to merge this for you.
Dato borrado: code | code | prepared branch [17.0-ocabot-merge-pr-4585-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/17.0-ocabot-merge-pr-4585-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 531a2525a14caf27de84040f1da629515a303f0f.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: @carlos-lopez-tecnativa done!! . corazón rojo
__Recursividad__
text | es | @carlos-lopez-tecnativa done!! .
text | es | corazón rojo
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: @carlos-lopez-tecnativa done!! . corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:31.725185
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:31.735947 UTC
text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
text | en | what a great day to merge this nice pr.
code | code | let's do it!
prepared branch [16.0-ocabot-merge-pr-4584-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4584-by-pedrobaeza-bump-patch), awaiting test results.
code | code | .
code | code | congratulations, your pr was merged at 491f186a858791d88dee5294e74389b2d58d4766.
text | en | thanks a lot for contributing to oca.
text | es | corazón rojo
Detalles: total_items: 7 | code_items: 3 | spanish_items: 1 | english_items: 3
Dato borrado: text | en | hola @pedrobaeza,
some modules you are maintaining are being modified, check this out! .
Dato borrado: text | en | what a great day to merge this nice pr.
Dato borrado: code | code | let's do it!
prepared branch [16.0-ocabot-merge-pr-4584-by-pedrobaeza-bump-patch](https://github.com/oca/l10n-spain/commits/16.0-ocabot-merge-pr-4584-by-pedrobaeza-bump-patch), awaiting test results.
Dato borrado: code | code | .
Dato borrado: code | code | congratulations, your pr was merged at 491f186a858791d88dee5294e74389b2d58d4766.
Dato borrado: text | en | thanks a lot for contributing to oca.
recomposed_text: corazón rojo
__Recursividad__
text | es | corazón rojo
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: corazón rojo

__Corrector Ortográfico__2026-02-09T14:14:31.735947
'hi' se corrige por 'hola'

# Entrada procesada 2026-02-09T14:14:31.753131 UTC
text | es | he probado el módulo pero primero me da error que no esta instalado "pos_hr", creo que hay que incluir esa dependecia, el qr sale en la impresión pero cuando va a la url no aparece el número de factura, aparece como "false", y logicamente da "factura no encontrada" .
text | es | este módulo no debe depender de `pos_hr`.
code | code | .
text | es | > he probado el módulo pero primero me da error que no esta instalado "pos_hr", creo que hay que incluir esa dependecia, el qr sale en la impresión pero cuando va a la url no aparece el número de factura, aparece como "false", y logicamente da "factura no encontrada" a falta de revisar el error que comentas, comentar que el módulo no tiene dependencia directa con pos_hr.
text | es | sus dependecias son: l10n_es_pos_oca y l10n_es_verifactu_oca .
text | es | sí, parece lógico mirar el flag de simplificado.
code | code | .
text | es | @cesarportas functional review: tras añadir este módulo y hacer una venta en pos me salta el siguiente error cuando voy a validar el método de pago.
text | es | me da tanto con tarjeta como en efectivo así que el método de pago no influye en el error.
text | es | tengo verifactu configurado correctamente y este error sólo me da dentro del pos ya que dentro de las facturas, puedo validar y confirmar una factura sin problema ninguno.
code | code | <img width="1920" height="1171" alt="image" src="https://github.com/user-attachments/assets/2f30fee1-aac9-4a63-85f9-7db293dea221" />
Detalles: total_items: 11 | code_items: 3 | spanish_items: 8 | english_items: 0
Dato borrado: code | code | .
Dato borrado: code | code | .
Dato borrado: code | code | <img width="1920" height="1171" alt="image" src="https://github.com/user-attachments/assets/2f30fee1-aac9-4a63-85f9-7db293dea221" />
recomposed_text: he probado el módulo pero primero me da error que no esta instalado "pos_hr", creo que hay que incluir esa dependecia, el qr sale en la impresión pero cuando va a la url no aparece el número de factura, aparece como "false", y logicamente da "factura no encontrada" . este módulo no debe depender de `pos_hr`. > he probado el módulo pero primero me da error que no esta instalado "pos_hr", creo que hay que incluir esa dependecia, el qr sale en la impresión pero cuando va a la url no aparece el número de factura, aparece como "false", y logicamente da "factura no encontrada" a falta de revisar el error que comentas, comentar que el módulo no tiene dependencia directa con pos_hr. sus dependecias son: l10n_es_pos_oca y l10n_es_verifactu_oca . sí, parece lógico mirar el flag de simplificado. @cesarportas functional review: tras añadir este módulo y hacer una venta en pos me salta el siguiente error cuando voy a validar el método de pago. me da tanto con tarjeta como en efectivo así que el método de pago no influye en el error. tengo verifactu configurado correctamente y este error sólo me da dentro del pos ya que dentro de las facturas, puedo validar y confirmar una factura sin problema ninguno.
__Recursividad__
text | es | he probado el módulo pero primero me da error que no esta instalado "pos_hr", creo que hay que incluir esa dependecia, el qr sale en la impresión pero cuando va a la url no aparece el número de factura, aparece como "false", y logicamente da "factura no encontrada" .
text | es | este módulo no debe depender de `pos_hr`.
text | es | > he probado el módulo pero primero me da error que no esta instalado "pos_hr", creo que hay que incluir esa dependecia, el qr sale en la impresión pero cuando va a la url no aparece el número de factura, aparece como "false", y logicamente da "factura no encontrada" a falta de revisar el error que comentas, comentar que el módulo no tiene dependencia directa con pos_hr.
text | es | sus dependecias son: l10n_es_pos_oca y l10n_es_verifactu_oca .
text | es | sí, parece lógico mirar el flag de simplificado.
text | es | @cesarportas functional review: tras añadir este módulo y hacer una venta en pos me salta el siguiente error cuando voy a validar el método de pago.
text | es | me da tanto con tarjeta como en efectivo así que el método de pago no influye en el error.
text | es | tengo verifactu configurado correctamente y este error sólo me da dentro del pos ya que dentro de las facturas, puedo validar y confirmar una factura sin problema ninguno.
Detalles: total_items: 8 | code_items: 0 | spanish_items: 8 | english_items: 0
recomposed_text: he probado el módulo pero primero me da error que no esta instalado "pos_hr", creo que hay que incluir esa dependecia, el qr sale en la impresión pero cuando va a la url no aparece el número de factura, aparece como "false", y logicamente da "factura no encontrada" . este módulo no debe depender de `pos_hr`. > he probado el módulo pero primero me da error que no esta instalado "pos_hr", creo que hay que incluir esa dependecia, el qr sale en la impresión pero cuando va a la url no aparece el número de factura, aparece como "false", y logicamente da "factura no encontrada" a falta de revisar el error que comentas, comentar que el módulo no tiene dependencia directa con pos_hr. sus dependecias son: l10n_es_pos_oca y l10n_es_verifactu_oca . sí, parece lógico mirar el flag de simplificado. @cesarportas functional review: tras añadir este módulo y hacer una venta en pos me salta el siguiente error cuando voy a validar el método de pago. me da tanto con tarjeta como en efectivo así que el método de pago no influye en el error. tengo verifactu configurado correctamente y este error sólo me da dentro del pos ya que dentro de las facturas, puedo validar y confirmar una factura sin problema ninguno.

# Entrada procesada 2026-02-09T14:14:31.796318 UTC
text | es | tiene sentido mantener esto en lugar de ir al de odoo core? .
text | es | @pedrobaeza gracias por avisarme, no me había dado cuenta que en v19.
text | es | 0 estaba en el core, lo cancelo.
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: tiene sentido mantener esto en lugar de ir al de odoo core? . @pedrobaeza gracias por avisarme, no me había dado cuenta que en v19. 0 estaba en el core, lo cancelo.
__Recursividad__
text | es | tiene sentido mantener esto en lugar de ir al de odoo core? .
text | es | @pedrobaeza gracias por avisarme, no me había dado cuenta que en v19.
text | es | 0 estaba en el core, lo cancelo.
Detalles: total_items: 3 | code_items: 0 | spanish_items: 3 | english_items: 0
recomposed_text: tiene sentido mantener esto en lugar de ir al de odoo core? . @pedrobaeza gracias por avisarme, no me había dado cuenta que en v19. 0 estaba en el core, lo cancelo.

# Entrada procesada 2026-02-09T14:14:31.818491 UTC
text | es | @pedrobaeza aprovechando que estoy haciendo esto, veo que ahora lo que nos piden es enviar el .pem del certificado, no copiarlo manualmente.
text | es | teniendo en cuenta que no tiene passwords, podríamos intentar que fuera una funcionalidad parecida al show key que hay a dia de hoy, aunque en las pruebas que he hecho me implicaba hacer un campo calculado que cada vez que entrabas sacaba la parte pública.
text | es | el problema es que no puedo descargar el fichero con ese onchange.
text | es | si cambiamos esa funcionalidad por un wizard te parece bien?
text | es | en el wizard aparecería la clave pública escrita por si la queremos copiar y tendríamos la opción de descargar el fichero pem.
code | code | opción con el onchange se vería así: <img width="584" height="133" alt="image" src="https://github.com/user-attachments/assets/782aa2f1-09a6-4b0b-891c-55c68ee233b2" /> con el botón seria más sencillo creo yo.
code | code | .
text | es | con el onchange no se ve mal tampoco, ¿no? .
text | es | el tema es que con el onchange no va, se debe hacer un campo compute que no depende del valor del campo no almacenado (el show public certificate), por lo tanto, el campo se recalcula cada vez que entramos en el registro, no cuando lo pedimos.
text | es | esto se hace así por que en el momento de hacer la descarga, el fichero vuelve a calcularse, y al ser el show un no stored, lo vuelve a poner a false y, por lo tanto, no hay elemento.
code | code | .
text | es | bueno, si ves problemas técnicas, no creo que sea mucho problema tener un botón + popup
Detalles: total_items: 12 | code_items: 3 | spanish_items: 9 | english_items: 0
Dato borrado: code | code | opción con el onchange se vería así: <img width="584" height="133" alt="image" src="https://github.com/user-attachments/assets/782aa2f1-09a6-4b0b-891c-55c68ee233b2" /> con el botón seria más sencillo creo yo.
Dato borrado: code | code | .
Dato borrado: code | code | .
recomposed_text: @pedrobaeza aprovechando que estoy haciendo esto, veo que ahora lo que nos piden es enviar el .pem del certificado, no copiarlo manualmente. teniendo en cuenta que no tiene passwords, podríamos intentar que fuera una funcionalidad parecida al show key que hay a dia de hoy, aunque en las pruebas que he hecho me implicaba hacer un campo calculado que cada vez que entrabas sacaba la parte pública. el problema es que no puedo descargar el fichero con ese onchange. si cambiamos esa funcionalidad por un wizard te parece bien? en el wizard aparecería la clave pública escrita por si la queremos copiar y tendríamos la opción de descargar el fichero pem. con el onchange no se ve mal tampoco, ¿no? . el tema es que con el onchange no va, se debe hacer un campo compute que no depende del valor del campo no almacenado (el show public certificate), por lo tanto, el campo se recalcula cada vez que entramos en el registro, no cuando lo pedimos. esto se hace así por que en el momento de hacer la descarga, el fichero vuelve a calcularse, y al ser el show un no stored, lo vuelve a poner a false y, por lo tanto, no hay elemento. bueno, si ves problemas técnicas, no creo que sea mucho problema tener un botón + popup
__Recursividad__
text | es | @pedrobaeza aprovechando que estoy haciendo esto, veo que ahora lo que nos piden es enviar el .pem del certificado, no copiarlo manualmente.
text | es | teniendo en cuenta que no tiene passwords, podríamos intentar que fuera una funcionalidad parecida al show key que hay a dia de hoy, aunque en las pruebas que he hecho me implicaba hacer un campo calculado que cada vez que entrabas sacaba la parte pública.
text | es | el problema es que no puedo descargar el fichero con ese onchange.
text | es | si cambiamos esa funcionalidad por un wizard te parece bien?
text | es | en el wizard aparecería la clave pública escrita por si la queremos copiar y tendríamos la opción de descargar el fichero pem.
text | es | con el onchange no se ve mal tampoco, ¿no? .
text | es | el tema es que con el onchange no va, se debe hacer un campo compute que no depende del valor del campo no almacenado (el show public certificate), por lo tanto, el campo se recalcula cada vez que entramos en el registro, no cuando lo pedimos.
text | es | esto se hace así por que en el momento de hacer la descarga, el fichero vuelve a calcularse, y al ser el show un no stored, lo vuelve a poner a false y, por lo tanto, no hay elemento.
text | es | bueno, si ves problemas técnicas, no creo que sea mucho problema tener un botón + popup
Detalles: total_items: 9 | code_items: 0 | spanish_items: 9 | english_items: 0
recomposed_text: @pedrobaeza aprovechando que estoy haciendo esto, veo que ahora lo que nos piden es enviar el .pem del certificado, no copiarlo manualmente. teniendo en cuenta que no tiene passwords, podríamos intentar que fuera una funcionalidad parecida al show key que hay a dia de hoy, aunque en las pruebas que he hecho me implicaba hacer un campo calculado que cada vez que entrabas sacaba la parte pública. el problema es que no puedo descargar el fichero con ese onchange. si cambiamos esa funcionalidad por un wizard te parece bien? en el wizard aparecería la clave pública escrita por si la queremos copiar y tendríamos la opción de descargar el fichero pem. con el onchange no se ve mal tampoco, ¿no? . el tema es que con el onchange no va, se debe hacer un campo compute que no depende del valor del campo no almacenado (el show public certificate), por lo tanto, el campo se recalcula cada vez que entramos en el registro, no cuando lo pedimos. esto se hace así por que en el momento de hacer la descarga, el fichero vuelve a calcularse, y al ser el show un no stored, lo vuelve a poner a false y, por lo tanto, no hay elemento. bueno, si ves problemas técnicas, no creo que sea mucho problema tener un botón + popup

# Entrada procesada 2026-02-09T14:14:31.862546 UTC
text | es | @ajfebres recuerda que es un commit por módulo, quita el del pre-commit .
code | code | @syci estoy conservando el histórico de la versión de la cual estoy migrando, según: https://github.com/oca/maintainer-tools/wiki/migration-to-version-15.0 .
code | code | > @syci estoy conservando el histórico de la versión de la cual estoy migrando, según: > > https://github.com/oca/maintainer-tools/wiki/migration-to-version-15.0 sí, pero este no corresponde tenerlo en el histórico.
code | code | <img width="1136" height="84" alt="image" src="https://github.com/user-attachments/assets/926bac47-53f6-40b9-bad2-aae9c238bb46" /> .
text | es | pendiente de #4499
Detalles: total_items: 5 | code_items: 3 | spanish_items: 2 | english_items: 0
Dato borrado: code | code | @syci estoy conservando el histórico de la versión de la cual estoy migrando, según: https://github.com/oca/maintainer-tools/wiki/migration-to-version-15.0 .
Dato borrado: code | code | > @syci estoy conservando el histórico de la versión de la cual estoy migrando, según: > > https://github.com/oca/maintainer-tools/wiki/migration-to-version-15.0 sí, pero este no corresponde tenerlo en el histórico.
Dato borrado: code | code | <img width="1136" height="84" alt="image" src="https://github.com/user-attachments/assets/926bac47-53f6-40b9-bad2-aae9c238bb46" /> .
recomposed_text: @ajfebres recuerda que es un commit por módulo, quita el del pre-commit . pendiente de #4499
__Recursividad__
text | es | @ajfebres recuerda que es un commit por módulo, quita el del pre-commit .
text | es | pendiente de #4499
Detalles: total_items: 2 | code_items: 0 | spanish_items: 2 | english_items: 0
recomposed_text: @ajfebres recuerda que es un commit por módulo, quita el del pre-commit . pendiente de #4499

# Entrada procesada 2026-02-09T14:14:31.875666 UTC
text | es | ` if(!result.verifactu_qr){ result.verifactu_qr = this._get_verifactu_qr_code_data(); } return result; ` a la hora de reimprimir no sale el qr en el models js me aparece correctamente con esto en el export_for_printing() al volver a reimprimir el ticket así ya lo ven en la 14
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: ` if(!result.verifactu_qr){ result.verifactu_qr = this._get_verifactu_qr_code_data(); } return result; ` a la hora de reimprimir no sale el qr en el models js me aparece correctamente con esto en el export_for_printing() al volver a reimprimir el ticket así ya lo ven en la 14
__Recursividad__
text | es | ` if(!result.verifactu_qr){ result.verifactu_qr = this._get_verifactu_qr_code_data(); } return result; ` a la hora de reimprimir no sale el qr en el models js me aparece correctamente con esto en el export_for_printing() al volver a reimprimir el ticket así ya lo ven en la 14
Detalles: total_items: 1 | code_items: 0 | spanish_items: 1 | english_items: 0
recomposed_text: ` if(!result.verifactu_qr){ result.verifactu_qr = this._get_verifactu_qr_code_data(); } return result; ` a la hora de reimprimir no sale el qr en el models js me aparece correctamente con esto en el export_for_printing() al volver a reimprimir el ticket así ya lo ven en la 14

